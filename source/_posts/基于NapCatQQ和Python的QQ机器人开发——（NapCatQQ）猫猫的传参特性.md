---
title: 基于NapCatQQ和Python的QQ机器人开发——（NapCatQQ）猫猫的传参特性
tags:
  - QQbot
  - QQ机器人
  - Python
  - NapCatQQ
categories:
  - QQbot
cover: "https://vip.helloimg.com/i/2024/08/05/66b06a6b8b0c2.jpg"
abbrlink: 78b17ba9
date: 2024-08-26 12:50:26
---

## 前言

写群发功能的时候，发现猫猫的传参特性，特此记录。

事情的起因是，我写了一个群发功能，然后发现，发送的时候会从数据库读取群号，然后发送。读取到的群号是元组，然后我需要发送的群号是字符串，理论上来说，元组应该需要先转换成字符串，然后发送。

但是，我测试的时候，发现，如果我传入的是元组，猫猫会自动帮我转换成字符串，然后发送。

## 猫猫的传参特性

实测发现，猫猫的传参特性是，如果传入的参数是元组，那么猫猫会自动帮你转换成列表，然后发送。

一开始我还以为是 Python 的特性，后来发现并不是，而是猫猫的特性。

**后来在群里问大佬，Z佬说猫猫的传参特性主要是可迭代对象就能转化发送。**

## 测试代码

在发消息的 API 中，群号传入一个元组，然后猫猫会自动帮你转换成列表，然后发送。

```python
await websocket.send(
    json.dumps(
        {
            "action": "send_group_msg",
            "params": {"group_id": group_id, "message": content},
        }
    )
```

这里传入的是一个元组，然后猫猫会转换成列表，然后发送。

例如传入的是`("10001",)`，那么猫猫会转换成`["10001"]`，然后发送。

## 总结

猫猫的传参特性是，如果传入的参数是元组，那么猫猫会自动帮你转换成列表，然后发送。
