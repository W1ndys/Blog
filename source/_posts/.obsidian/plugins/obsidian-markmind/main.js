"use strict";var e=require("obsidian");function t(e,t,i,n){return new(i||(i=Promise))((function(s,r){function o(e){try{h(n.next(e))}catch(e){r(e)}}function a(e){try{h(n.throw(e))}catch(e){r(e)}}function h(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}h((n=n.apply(e,t||[])).next())}))}function i(e,t){const i=Object.keys(t).map((i=>function(e,t,i){const n=e[t],s=e.hasOwnProperty(t);let r=i(n);n&&Object.setPrototypeOf(r,n);return Object.setPrototypeOf(o,r),e[t]=o,a;function o(...i){return r===n&&e[t]===o&&a(),r.apply(this,i)}function a(){e[t]===o&&(s?e[t]=n:delete e[t]),r!==n&&(r=n,Object.setPrototypeOf(o,n||Function))}}(e,i,t[i])));return 1===i.length?i[0]:function(){i.forEach((e=>e()))}}"function"==typeof SuppressedError&&SuppressedError;var n={"Open as mindmap board":"Open as mindmap","Create new mindmap":"Create new mindmap","New mindmap board":"New mindmap board","Untitled mindmap":"Untitled mindmap","Open as markdown":"Open as markdown","Sub title":"Sub title","Export to opml":"Export to opml","Export to image":"Export to image","Canvas size":"Canvas size","Canvas size desc":"Width and height of the canvas","Canvas background":"Canvas background","Canvas background desc":"Background color of canvas","Max level of node to markdown head":"Max level of node to create a Heading","Max level of node to markdown head desc":"Specify which Node Level creates a seperate Heading instead of a List-Item","Font size":"Font Size","Font size desc":"Specify the Font Size","Mind map layout direct":"Mindmap Layout","Mind map layout direct desc":"Specify the direction the nodes are placed in your Mindmap",Right:"Right",Left:"Left",Centered:"Centered","Open PDF File":"Open PDF file...","Save Image error,Please try again":"Save image error,please try again","Creating Rect Annotate":"Creating rect annotate...","Cancel Create Rect Annotate":"Cancel create rect annotate","File Is Not Exist":"File is not exist","Open File Error":"Open file error","PDF Cannot Open More Instances":"PDF reader cannot open more instances","Create Rect Annotate":"Created rect annotate","Stroke Array":"Stroke Color","Stroke Array Desc":"Node link color base on this value or random color","PDFJs Plugin Path":"PDF reader path","PDFJs Plugin Path Desc":"If you want to use PDF annotation,You need download pdf js plugin and set up this value","Andriod pdfjs Plugin Path":"Andriod pdf reader path","Ios pdfjs Plugin Path":"Ios pdf reader path","Mac pdfjs Plugin Path":"Mac pdfjs Plugin Path","PDF Path":"PDF store path","PDF Annotate Path":"PDF annotate store path","PDF Image Path":"Image store path of PDF rect annotate","Miss PDF Reader Path":"Miss PDF plugin path,you need download Pdf js plugin,and set up value of PDF reader path","Please Use Rich Mode":"Please change yaml mindmap-plugin basic to rich","The probation period has ended":"The probation period has ended or active code has expired",Rect:"Rect",Circle:"Circle",Pointer:"Pointer","Show MindMap":"Show mind map","Hide MindMap":"Hide mind map","Open Protocol":"Support protocol","Open Protocol Desc":"Support protocol like 'obsidian://{protocol name}' for function of jump to pdf annotate",Protocol:"Protocol","Protocol Desc":"Protocol name",Open:"Open",Close:"Close","Open as outline":"Open as outline","Show Annotate":"Show annotate","Annotation save type":"PDF annotation save type","Annotation save type desc":"The type of save pdf annotation,there are two file types:`annos` and `md`，`annos` as default,`annos` is `json` file in fact ","Export annotate pdf":"Export annotate pdf","Export annotate pdf tip":"This is a time-consuming operation. Please wait patiently","Export annotate pdf success":"Export pdf success","Export annotate pdf error":"Export pdf error","Active Code":"Active code","Active Code Desc":"You can active markmind by use this value. Web site:<https://www.markmind.net>","Active error":"Active code error","Active success":"Active success","Annotate PDF":"Annotate PDF","Annotate EPUB":"Annotate EPUB","PDF Viewer Theme":"PDF viewer theme","PDF Viewer Theme desc":"Theme of pdf viewer","Copy as markdown":"Copy as markdown","Copy node text":"Copy node text only","Copy node link":"Copy node link","Export as opml":"Export as opml","Mobile app not support":"File not support mobile app","Not support file type":"The file type is not support,please open pdf file","Not find md file":"This pdf has not annotations in valut","Please select another node":"Please select another node","Change layout to mindmap":"Change layout to mindmap","Change layout to right":"Change layout to right","Change layout to left":"Change layout to left","Change layout to tree":"Change layout to tree","Copy mindmap node":"Copy selected node","Paste to node":"Paste to node","Toggle mardkown/mindmap":"Toggle markdown/mindmap mode","Copy node id":"Copy node ID","Mobile Active Code":"Mobile active code","Mobile Active Code Desc":"You can active mobile markmind by use value , it will create if you input active code","Mindmap mode":"Mindmap mode","Mindmap mode desc":"When create mindmap , it will create mode of this value , `basic` mode as default","Pdf screen short":"Folder to save image","Pdf screen short desc":"Save image to this folder when use pdf rect annotate","Set mindmap to center":"Set mindmap to center",save:"Save",cancel:"Cancel","Remove annotate space":"Remove space of pdf annotate","Remove annotate space desc":"In environment of chinese , open this and it will remove spaces between text automatic","Get path of vault":"Get base path of vault","Smooth movement":"Support smooth movement of mindmap nodes","Smooth movement desc":"Smooth movement of mindmap nodes","Support code block":"Support parse code block of mindmap","Support code block desc":"Support parse code block of mindmap in markdown file",toPng:"Export to PNG","Set pdf js path":"Set up pdf js plugin path","Please open a mind map":"Please open a mind map and try this command again","Set up pdf js path success":"Success,please restart obsidian","Create new outline":"Create new outline","Copy node":"Copy","Paste node":"Paste","Fill color":"Fill color","Stroke color":"Stroke color","Text color":"Text color","Text align":"Text align","Stroke width":"Stroke width","Stroke style":"Stroke style",nodeColor:"Setup board color",nodeColorDesc:"Use this to setup node background/stroke/font color","Export to html":"Export to html","Change layout to fishLeft":"Change layout to left fish","Change layout to fishRight":"Change layout to right fish","Open as table":"Open as table","get table html":"Get html code of table","get table markdown":"Get markdown of table","Get pdf annotations":"Import pdf highlight annotations","extract highlight success":"Import pdf highlight success","Change basic mode to rich mode":"Change basic mode to rich mode","Change rich mode to basic mode":"Change rich mode to basic mode","Export pdf annotations":"Export pdf annotations","Format of pdf highlight":"Format of pdf highlight","Format of pdf highlight desc":"When export pdf highights , it will generate file in this format","Use new version of pdfjs":"Toggle to new version of pdfjs","Use old version of pdfjs":"Toggle to old version of pdfjs",searchResult:"Find {{nodeNumber}} nodes contains this word","Toggle search box":"Toggle search box","Fine tune height of annotate":"Fine tune height of annotate","Fine tune height of annotate desc":"Fine tune height of annotate , adjust upward (px)","Fine tune height of annotate desc one":"Fine tune height of annotate , adjust downward (px)","Create hand drawn mindmap":"Create hand drawn mindmap from basic mode","Decode URI pdf link":"Open decode PDF link","Decode URI pdf link desc":"If your `annotate-target` is encode by `encodeURI` , you can open this","Expand to first node level":"Expand to first node level","Expand to second node level":"Expand to second node level","Expand to third node level":"Expand to third node level","Expand to all node level":"Expand to all node level","Expand to fourth node level":"Expand to fourth node level","Expand to fifth node level":"Expand to fifth node level","Auto create node when annotate":"Auto create node when annotate","Auto create node when annotate desc":"Auto create node when create pdf annotate","Add child node":"Add child node","Add brother node":"Add brother node","Edit node":"Edit node","Cancel edit node":"Cancel edit node","Delete node":"Delete node",Undo:"Undo",Redo:"Redo","Use custom short cut":"Use custom short cut","Use custom short cut desc":"You can set up custom short cut of mindmap for add node/delete node/undo/redo/edit node/quit edit node commands in `ctrl + p` board","PDF cache folder":"PDF cache folder","PDF cache folder desc":"When you open pdf in web by use pdf annotator, the pdf will store to this folder","Folder of paste image":"Folder of paste image","Folder of paste image desc":"When paste image , image will store to this folder","Change basic to table mode":"Change basic mindmap to table mode","Change basic to outline mode":"Change basic to outline mode","Saving data":"Saving data ...",Saved:"Saved","Only copy annotate link":"Only copy annotate link","Only copy annotate link desc":"Only copy annotate link when click an pdf annotate","Saving image":"Saving image ...","Auto set node to center when tab node of mindmap":"Auto set node to center when tab node of mindmap","Auto set node to center when tab node of mindmap desc":"Auto set node to center when use up/down/left/right key to tab node of mindmap","Auto open search box":"Auto open mindmap search box","Auto open search box desc":"If obsidian has search text, auto open mindmap search box","Export to pdf":"Export mindmap as a pdf file","Please do this in a separate window":"Please export mindmap to pdf in a independ window","PDF save success":"Save pdf success","Add collapse node mark":"Auto add collapse node ID of basic mode","Add collapse node mark desc":"When save mindmap of basic mode , auto add collapsed node ID in the end of node text","Change theme":"Open change theme box","Close change theme":"Close change theme box","Can not change layout":" Can not change node layout to table because the child of this node have summary, boundary , callout or layout","Only use obsidian folder for pdfjs plugin":"Put pdfjs plugin to .obsidian folder of vault","Only use obsidian folder for pdfjs plugin desc":"Put pdfjs plugin to .obsidian folder of vault in android or ios system","Generate mind maps by chatGTP":"Generate mind maps by chatGTP (outline)","Get inspiration":"Get inspiration by chatGTP",ChatGTPError:"Get text error from chatGTP,please try again",ChatGTPLoading:"AI is getting data , please wait a minute...","ChatGTP appkey":"Please input apikey of chatGPT","ChatGTP appkey desc":"Please input apikey of chatGPT","ChatGTP model":"ChatGPT model","ChatGTP model desc":"Please select chatGPT model",ProxyServer:"Please input proxy server","ProxyServer desc":"If you can not access website of openai api, you can use a proxy server","Generate mind maps by Q&A of chatGTP":"Generate mind maps by chatGPT (Q&A)","Annotate template":"Annotate template","Annotate template desc":"When click annotate, it will generate text according to this template to copy to clipboard","Support translate":"Support for word translation of pdf annotate","Support translate desc":"When make annotate of pdf, support word translation","Google translate":"Google tranlate","Google translate desc":"Google tranlate","Baidu translate":"Baidu translate","Baidu translate desc":"Baidu translate","Youdao translate":"Youdao translate","Youdao translate desc":"Youdao translate","Translate appid":"Translate appId or token","Translate appid desc":"AppId or token of translate","Translate secret":"Translate secret","Translate secret desc":"Secret of translate, if you use token, the value may be empty","Not have translations of pdf full text":"No full-text translation files available","Translate spend time":"Translating, please be patient and wait...","Translate success":"Translation successful","Parsing PDF structure":"Parsing PDF structuring...","Parsing PDF structure error":"Parsing PDF structure error","Full text translate":"Full text translation","Pdf in vault":"Currently only support PDF in vault","Completed translation":"Completed translation: ","Translation engine":"Translation engine",baidu:"baidu","Copy full text translations":"Copy full text translations to clipboard","Mindmap is in read":"Mind map in read-only mode","Export to pdf (old version)":"Export mindmap to pdf (v0.15.9)","Scale speed of mobile version":"Scale speed of mobile version","Scale speed of mobile version desc":"Scale speed of mobile version","Cover node":"Cover node text","Cancel cover node":"Cancel cover node text","Export to xmind zen":"Export mindmap to xmind zen file","Export xmind success":"Export to xmind zen file success"};const s={ar:{},cs:{},da:{},de:{"Open as mindmap board":"Öffne als Mindmap","Create new mindmap":"Erstelle neue Mindmap","New mindmap board":"Neue Mindmap","Untitled mindmap":"Unbenannte Mindmap","Open as markdown":"Öffne als Markdown","Sub title":"Untertitel","Export to opml":"Exportiere als opml","Export to image":"Exportiere als Bild","Canvas size":"Leinwandgröße","Canvas size desc":"Breite und Höhe der Leinwand","Canvas background":"Leinwand Hintergrund","Canvas background desc":"Hintergrundfarbe der Leinwand","Max level of node to markdown head":"Maximale Knotenebene welche eine Überschrift erstellt","Max level of node to markdown head desc":"Angeben, welche Knotenebene eine separate Überschrift anstelle eines Listenelements erstellt.","Font size":"Schriftgröße","Font size desc":"Gebe die Schriftgröße ans","Mind map layout direct":"Mindmap Layout","Mind map layout direct desc":"Geben Sie die Richtung an, in der die Knoten in Ihrer Mindmap platziert werden.",Right:"Rechts",Left:"Links",Centered:"Zentriert"},en:n,"en-gb":{},es:{},fr:{},hi:{},id:{},it:{},ja:{},ko:{},nl:{},nn:{},pl:{},pt:{},"pt-br":{},ro:{},ru:{},tr:{},"zh-cn":{"Open as mindmap board":"打开为思维导图","Create new mindmap":"创建新思维导图","New mindmap board":"新建思维导图","Untitled mindmap":"未命名思维导图","Open as markdown":"打开为 Markdown 文件","Sub title":"新节点","Export to opml":"导出至OPML","Export to image":"导出至图片","Canvas size":"画布尺寸","Canvas size desc":"绘制思维导图画布的宽度和高度","Canvas background":"背景颜色","Canvas background desc":"画布的背景颜色","Max level of node to markdown head":"节点文字转为markdown标题的最大层级","Max level of node to markdown head desc":"将小于该层级的节点文字转为markdown标题，最大层级为6，因为HTML标题支持最大为6级","Font size":"文字大小","Font size desc":"思维导图文字默认大小，单位px","Mind map layout direct":"思维导图布局方向","Mind map layout direct desc":"思维导图的布局方向，分为向两侧发散、仅右侧、仅左侧三个方向","Expand node":"展开节点","Collapse node":"收缩节点","Only show this node":"仅显示该节点","Expand all node":"展开所有节点","Collapse all node":"收缩所有节点","Add relate link":"添加联系线","Remove relate link":"删除联系线","Add summary node":"添加归纳","Remove summary node":"删除归纳","Remove node":"删除节点","Only remove this node":"仅删除该节点","Open PDF File":"正在打开PDF文件...","Save Image error,Please try again":"保存图片失败，请重试","Creating Rect Annotate":"正在创建矩形标注","Cancel Create Rect Annotate":"取消创建矩形标注","File Is Not Exist":"文件不存在","Open File Error":"打开文件失败","PDF Cannot Open More Instances":"不支持多开PDF阅读器","Create Rect Annotate":"创建矩形标注成功","Stroke Array":"颜色组","Stroke Array Desc":"节点连线颜色将按照颜色组生成,否则生成随机颜色","PDFJs Plugin Path":"PDFJs 插件路径","Andriod pdfjs Plugin Path":"安卓 PDFJs 插件路径","Ios pdfjs Plugin Path":"IOS PDFJs 插件路径","Mac pdfjs Plugin Path":"Mac PDFJs 插件路径","PDFJs Plugin Path Desc":"如果您要使用PDF标注功能，您需要下载PDFJS插件，并设置插件路径","PDF Path":"PDF 存储路径","PDF Annotate Path":"PDF 标注存储路径","PDF Image Path":"PDF 矩形标注生成的图片存储路径","Miss PDF Reader Path":"缺少PDF插件，您需要下载PDFJS插件，并在设置中设置PDF插件路径(绝对路径)","Please Use Rich Mode":"目前处于Basic模式或者未激活，无法使用PDF标注功能，请使用Rich模式或者激活软件","The probation period has ended":"免费版本或者激活码已过期，请至markmind.net购买激活码以激活应用",Rect:"矩形",Circle:"圆",Pointer:"点","Show MindMap":"显示思维导图","Hide MindMap":"隐藏思维导图","Open Protocol":"开启协议支持","Open Protocol Desc":"支持类似 obsidian://{Protocol name} 的协议,用于跳转至PDF标注",Protocol:"协议名","Protocol Desc":"协议名称",Open:"开启",Close:"关闭","Open as outline":"打开为大纲","Show Annotate":"展示标注","Annotation save type":"标注保存类型","Annotation save type desc":"当保存PDF标注时保存的文件类型，目前分为保存为annos和markdown两种，默认扩展名为annos(本质是json文件)","Export annotate pdf":"导出标注后的PDF文件","Export annotate pdf tip":"这是一个费时的操作，请耐心等待...","Export annotate pdf success":"导出PDF文件成功","Export annotate pdf error":"导出PDF文件失败","Active Code":"激活码","Active Code Desc":"可以使用该值激活markmind,网站：<https://www.markmind.net/cn>","Active error":"激活失败，请检查激活码","Active success":"已激活","Annotate PDF":"打开注释PDF","Annotate EPUB":"打开注释EPUB","PDF Viewer Theme":"PDF阅读器主题","PDF Viewer Theme desc":"切换PDF阅读器主题皮肤","Copy as markdown":"复制为markdown","Copy node text":"仅复制该节点文本","Copy node link":"复制节点引用链接","Export as opml":"导出为OPML","Mobile app not support":"移动端不支持打开本地PDF文件","Not support file type":"不支持注释该文件类型，只支持pdf文件","Not find md file":"这是一个外部pdf文件，在文件夹中尚不存在批注信息","Please select another node":"请选择另一个节点","Change layout to mindmap":"切换思维导图布局为默认","Change layout to right":"切换思维导图布局为右侧","Change layout to left":"切换思维导图布局为左侧","Change layout to tree":"切换思维导图布局为树向下布局","Copy mindmap node":"复制节点","Paste to node":"粘贴节点","Toggle mardkown/mindmap":"切换为Markdown或思维导图模式","Copy node id":"获取节点ID","Mobile Active Code":"移动端激活码","Mobile Active Code Desc":"用于激活移动端，当你填入激活码时，该值将自动生成","Mindmap mode":"思维导图模式","Mindmap mode desc":"当创建思维导图时，将按照该值创建思维导图的模式，默认是basic模式","Pdf screen short":"PDF 截图文件夹","Pdf screen short desc":"用于保存PDF矩形标注所截的图片","Set mindmap to center":"居中思维导图",save:"保存",cancel:"取消","Remove annotate space":"自动移除标注文字中的空格","Remove annotate space desc":"在中文环境下，某些pdf文字标注时，文字之间存在空格，可以开启该选项，将自动移除文字之间的空格","Get path of vault":"获取库的基础路径","Smooth movement":"开启支持思维导图节点支持平滑过渡效果","Smooth movement desc":"当点击引用节点时,节点跳转到同一思维导图的其他节点时的过渡效果","Support code block":"开启支持图文混排","Support code block desc":"支持在markdown文档中图文混排效果",toPng:"导出为PNG图片","Set pdf js path":"设置 pdfjs 插件路径","Please open a mind map":"请打开一个思维导图并重新执行此命令","Set up pdf js path success":"设置 pdfjs 插件路径成功，请重新启动 obsidian","Create new outline":"创建大纲","Copy node":"复制","Paste node":"粘贴","Fill color":"背景颜色","Stroke color":"外框颜色","Text color":"文字颜色","Text align":"对齐方式","Stroke width":"外框粗细","Stroke style":"外框样式",nodeColor:"节点设置面板颜色组",nodeColorDesc:"用于改变节点设置面板颜色组","Export to html":"导出思维导图为html文件","Change layout to fishLeft":"切换思维导图布局为左侧鱼骨图","Change layout to fishRight":"切换思维导图布局为右侧鱼骨图","Open as table":"打开为表格","get table html":"获取表格的HTML源码","get table markdown":"获取表格的 markdown 文本","Get pdf annotations":"导入PDF高亮标注","extract highlight success":"导入PDF高亮成功","Change basic mode to rich mode":"将 basic 模式转为 rich 模式","Change rich mode to basic mode":"将 rich 模式转为 basic 模式","Export pdf annotations":"导出 PDF 注释","Format of pdf highlight":"PDF 注释格式设置","Format of pdf highlight desc":"当导出 PDF 注释时，将按照该格式生成文件","Use new version of pdfjs":"切换至新版 pdfjs 插件","Use old version of pdfjs":"切换至旧版 pdfjs 插件",searchResult:"发现到 {{nodeNumber}} 个节点包含该关键字","Toggle search box":"打开或关闭搜索框","Fine tune height of annotate":"微调 PDF 标注高度","Fine tune height of annotate desc":"向上调整的距离 (px)","Fine tune height of annotate desc one":"向下调整的距离 (px)","Create hand drawn mindmap":"生成手绘模式的思维导图","Decode URI pdf link":"是否打开解码PDF链接","Decode URI pdf link desc":"如果你的 `annotate-target`被 `encodeURI`编码 , 可以打开该选项","Expand to first node level":"展开至第一级节点","Expand to second node level":"展开至第二级节点","Expand to third node level":"展开至第三级节点","Expand to all node level":"展开所有节点","Expand to fourth node level":"展开至第四级节点","Expand to fifth node level":"展开至第五级节点","Auto create node when annotate":"标注时自动生成思维导图节点","Auto create node when annotate desc":"当创建 pdf 标注时自动是否自动创建思维导图节点","Add child node":"添加子节点","Add brother node":"添加兄弟节点","Edit node":"编辑节点","Cancel edit node":"退出编辑节点","Delete node":"删除节点",Undo:"撤销",Redo:"恢复","Use custom short cut":"开启自定义快捷键","Use custom short cut desc":"支持思维导图设置自定义快捷键，目前支持如下命令（在 Ctrl + P 面板里）：添加节点、删除节点、编辑节点、取消编辑节点、撤销、恢复","PDF cache folder":"PDF 缓存目录","PDF cache folder desc":"当使用 PDF 标注工具打开在线 PDF 时，该 PDF 将自动缓存至该文件夹中，下次打开时将优先从该目录中读取数据","Folder of paste image":"粘贴图片文件夹","Folder of paste image desc":"设置文件夹路径，指向库中的某一文件夹，粘贴的图片将存入该文件夹中","Change basic to table mode":"打开 Basic 模式的思维导图为表格","Change basic to outline mode":"打开 Basic 模式为大纲","Saving data":"正在保存 ...",Saved:"已保存","Only copy annotate link":"开启支持只复制标注链接","Only copy annotate link desc":"当点击一个 PDF 标注时，只会复制链接","Saving image":"正在保存图片...","Auto set node to center when tab node of mindmap":"切换思维导图时自动居中节点","Auto set node to center when tab node of mindmap desc":"当使用上、下、左、右键切换节点时，自动居中节点","Auto open search box":"自动打开思维导图搜索框","Auto open search box desc":"当 obsidian 搜索中存在搜索条件，打开思维导图时自动打开搜索框，并触发思维导图搜索","Export to pdf":"导出思维导图为 PDF 文件","Please do this in a separate window":"请在独立窗口进行此操作，无法在主窗口执行","PDF save success":"PDF 保存成功","Add collapse node mark":"Basic 模式下自动添加折叠节点标记","Add collapse node mark desc":"Basic 模式下，保存思维导图时，自动在折叠的节点最后加入ID,用于下次打开可以恢复折叠原状","Change theme":"打开主题切换框","Close change theme":"关闭主题切换框","Can not change layout":"由于该节点的子节点存在归纳、外框、标注或者布局，所以无法转换为表格布局，防止数据丢失","Only use obsidian folder for pdfjs plugin":"支持 pdfjs 插件放在.obsidian 文件夹","Only use obsidian folder for pdfjs plugin desc":"在安卓或者ios系统支持将 pdfjs 插件放在库内的 .obsidian 文件夹","Generate mind maps by chatGTP":"智能生成思维导图(AI 大纲)","Get inspiration":"获取灵感(AI)",ChatGTPError:"AI 获取文本失败，请检查网络，重新尝试！",ChatGTPLoading:"AI 正在获取数据，请稍等...","ChatGTP appkey":"请输入 ChatGPT 的 apikey","ChatGTP appkey desc":"如果您没有这个Apikey 请至 ChatGPT 官网申请","ChatGTP model":"ChatGPT 模型","ChatGTP model desc":"请选择 chatGPT 模型",ProxyServer:"网络代理","ProxyServer desc":"如果无法直接访问 OpenAI 的 api,可以使用网络代理","Generate mind maps by Q&A of chatGTP":"智能生成思维导图(AI 问答)","Annotate template":"标注格式","Annotate template desc":"当标注自动生成节点或者点击标注时，将以此格式生成标注，并复制到粘贴板","Support translate":"支持标注划词翻译","Support translate desc":"当做 pdf 标注时，划词时自动翻译","Google translate":"谷歌翻译","Google translate desc":"谷歌翻译设置","Baidu translate":"百度翻译","Baidu translate desc":"百度翻译设置","Youdao translate":"有道翻译","Youdao translate desc":"有道翻译设置","Translate appid":"翻译 Appid 或者 token","Translate appid desc":"请输入翻译的 AppId 或者 token","Translate secret":"翻译秘钥 secret","Translate secret desc":"请输入翻译秘钥 secret, 如果您是使用 token 之类的请求api，则该值可能不需要填写","Not have translations of pdf full text":"没有全文翻译文件，请重新翻译 PDF","Translate spend time":"正在翻译中，请等待，总共 （条数）： ","Translate success":"翻译完成","Parsing PDF structure":"正在解析 PDF 结构...","Parsing PDF structure error":"解析 PDF 出错","Full text translate":"全文翻译","Pdf in vault":"全文翻译暂时只支持库内的 pdf","Completed translation":"翻译已完成: ","Translation engine":"翻译引擎",baidu:"百度","Copy full text translations":"复制全文翻译到剪贴板","Mindmap is in read":"导图处于只读模式","Export to pdf (old version)":"导出导图为 PDF (v0.15.9)","Scale speed of mobile version":"移动端缩放速率","Scale speed of mobile version desc":"可以调整该值，使得移动端双指放大或者缩小变换流畅","Cover node":"遮挡节点文字","Cancel cover node":"取消遮挡节点文字","Export to xmind zen":"导出导图为 xmind zen 文件","Export xmind success":"导出 xmind zen 文件成功"},"zh-tw":{}}[e.moment.locale()];function r(t){return s||console.error("Error: mindmap locale not found",e.moment.locale()),s&&s[t]||n[t]}const o=/^(---)$.+?^(---)$.+?/ims,a="mindmap-plugin",h=["---","",`${a}: basic`,"","---","",""].join("\n"),l=["---","",`${a}: rich`,"","---","",""].join("\n"),d=["---","",`${a}: basic`,"display-mode: outline","","---","",""].join("\n");function c(e,i,n,s,r,a,h,l,d,c){var u,p;return t(this,void 0,void 0,(function*(){var t=yield i.vault.adapter.read(n.path),d=s.querySelector(".markdown-embed");if(d){if(t=t.trim().replace(o,"")){const{root:e}=Es.transform(t);(m=Cs(e)).isRoot=!0}else var m={id:bs(),text:"Basic root",isRoot:!0,main:!0};var f=document.createElement("div");f.classList.add("mm-mindmap-container"),f.style.visibility="hidden",null===(u=s.querySelector(".markdown-embed-content"))||void 0===u||(u.style.display="none"),null===(p=s.querySelector(".markdown-embed-link"))||void 0===p||(p.style.zIndex="20"),d.appendChild(f),m.useScale=!1;var g=new Vi(m,f,h,!1);if(g.path=n.path,g._mode="basic",g.colors=a,g.parent=r,g._plugin=e,c?g.initTable(m):(g.init(),g.refresh()),!r)s.findAll(".internal-embed").forEach((e=>{const t=e.getAttribute("src"),s="string"==typeof t&&i.metadataCache.getFirstLinkpathDest(t,n.path);if(s&&"md"!==s.extension&&g){e.innerText="";var r=i.vault.getResourcePath(s);e.createEl("img",{attr:{src:r}},(t=>{e.hasAttribute("width")&&t.setAttribute("width",e.getAttribute("width")),e.hasAttribute("alt")&&t.setAttribute("alt",e.getAttribute("alt"))})),e.addClasses(["image-embed","is-loaded"])}})),s.querySelectorAll("img").forEach((e=>{e.onload=()=>{var t,i=null===(t=e.closest(".mm-node"))||void 0===t?void 0:t.getAttribute("data-id");if(i){var n=g.getNodeById(i);null==n||n.clearCacheData(),null==n||n.refreshBox(),g.timeOut&&clearTimeout(g.timeOut),g.timeOut=setTimeout((()=>{g.refresh()}),300)}},e.setAttribute("draggble","false")}));setTimeout((()=>{r||(g.refresh(),g.toDiv(!0),f.style.visibility="visible",g.center(),g.root.unSelect()),l&&l(g)}),900)}}))}function u(e,i,n,s,r,o,a,h,l){var d,c;return t(this,void 0,void 0,(function*(){var t=yield i.vault.adapter.read(n.path);if(p=s.querySelector(".markdown-embed")){var l=t.match(/^(\`\`\` json)$.+?^(\`\`\`)$.+?/ims);if(l&&l.length>0)var u=l[0].substring(8,l[0].length-4).trim();else u=JSON.stringify({mindData:[[{id:bs(),text:"Root",isRoot:!0,main:!0,x:4e3,y:4e3,isExpand:!0,layout:{layoutName:"mindmap2",direct:"mindmap"}}]]});var p,m=document.createElement("div");if(m.classList.add("mm-mindmap-container"),m.style.visibility="hidden",null===(d=s.querySelector(".markdown-embed-content"))||void 0===d||(d.style.display="none"),null===(c=s.querySelector(".markdown-embed-link"))||void 0===c||(c.style.zIndex="20"),p=s.querySelector(".markdown-embed")){p.appendChild(m);var f=JSON.parse(u);f.useScale=!1;var g=new Vi(f,m,a,!1);if(g.path=n.path,g.colors=o,g.parent=r,g._mode="rich",g._plugin=e,g.initRich(f,{}),!r)s.findAll(".internal-embed").forEach((e=>{const t=e.getAttribute("src"),s="string"==typeof t&&i.metadataCache.getFirstLinkpathDest(t,n.path);if(s&&"md"!==s.extension&&g){e.innerText="";var r=i.vault.getResourcePath(s);e.createEl("img",{attr:{src:r}},(t=>{e.hasAttribute("width")&&t.setAttribute("width",e.getAttribute("width")),e.hasAttribute("alt")&&t.setAttribute("alt",e.getAttribute("alt"))})),e.addClasses(["image-embed","is-loaded"])}})),s.querySelectorAll("img").forEach((e=>{e.onload=()=>{var t,i=null===(t=e.closest(".mm-node"))||void 0===t?void 0:t.getAttribute("data-id");if(i){var n=g.getNodeById(i);n&&(n.clearCacheData(),n.refreshBox()),g.timeOut&&clearTimeout(g.timeOut),g.timeOut=setTimeout((()=>{g.refresh()}),300)}},e.setAttribute("draggble","false")}));setTimeout((()=>{r||(g.refresh(),g.toDiv(!0),m.style.visibility="visible",g.center(),g.root.unSelect()),h&&h(g)}),900)}}}))}function p(e,t,i){if(e&&e.length){const[n,s]=t,r=Math.PI/180*i,o=Math.cos(r),a=Math.sin(r);for(const t of e){const[e,i]=t;t[0]=(e-n)*o-(i-s)*a+n,t[1]=(e-n)*a+(i-s)*o+s}}}function m(e,t){return e[0]===t[0]&&e[1]===t[1]}function f(e,t,i,n=1){const s=i,r=Math.max(t,.1),o=e[0]&&e[0][0]&&"number"==typeof e[0][0]?[e]:e,a=[0,0];if(s)for(const e of o)p(e,a,s);const h=function(e,t,i){const n=[];for(const t of e){const e=[...t];m(e[0],e[e.length-1])||e.push([e[0][0],e[0][1]]),e.length>2&&n.push(e)}const s=[];t=Math.max(t,.1);const r=[];for(const e of n)for(let t=0;t<e.length-1;t++){const i=e[t],n=e[t+1];if(i[1]!==n[1]){const e=Math.min(i[1],n[1]);r.push({ymin:e,ymax:Math.max(i[1],n[1]),x:e===i[1]?i[0]:n[0],islope:(n[0]-i[0])/(n[1]-i[1])})}}if(r.sort(((e,t)=>e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax))),!r.length)return s;let o=[],a=r[0].ymin,h=0;for(;o.length||r.length;){if(r.length){let e=-1;for(let t=0;t<r.length&&!(r[t].ymin>a);t++)e=t;r.splice(0,e+1).forEach((e=>{o.push({s:a,edge:e})}))}if(o=o.filter((e=>!(e.edge.ymax<=a))),o.sort(((e,t)=>e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x))),(1!==i||h%t==0)&&o.length>1)for(let e=0;e<o.length;e+=2){const t=e+1;if(t>=o.length)break;const i=o[e].edge,n=o[t].edge;s.push([[Math.round(i.x),a],[Math.round(n.x),a]])}a+=i,o.forEach((e=>{e.edge.x=e.edge.x+i*e.edge.islope})),h++}return s}(o,r,n);if(s){for(const e of o)p(e,a,-s);!function(e,t,i){const n=[];e.forEach((e=>n.push(...e))),p(n,t,i)}(h,a,-s)}return h}function g(e,t){var i;const n=t.hachureAngle+90;let s=t.hachureGap;s<0&&(s=4*t.strokeWidth),s=Math.round(Math.max(s,.1));let r=1;return t.roughness>=1&&((null===(i=t.randomizer)||void 0===i?void 0:i.next())||Math.random())>.7&&(r=s),f(e,s,n,r||1)}class v{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){const i=g(e,t);return{type:"fillSketch",ops:this.renderLines(i,t)}}renderLines(e,t){const i=[];for(const n of e)i.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],t));return i}}function y(e){const t=e[0],i=e[1];return Math.sqrt(Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2))}class A extends v{fillPolygons(e,t){let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.max(i,.1);const n=g(e,Object.assign({},t,{hachureGap:i})),s=Math.PI/180*t.hachureAngle,r=[],o=.5*i*Math.cos(s),a=.5*i*Math.sin(s);for(const[e,t]of n)y([e,t])&&r.push([[e[0]-o,e[1]+a],[...t]],[[e[0]+o,e[1]-a],[...t]]);return{type:"fillSketch",ops:this.renderLines(r,t)}}}class x extends v{fillPolygons(e,t){const i=this._fillPolygons(e,t),n=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),s=this._fillPolygons(e,n);return i.ops=i.ops.concat(s.ops),i}}class b{constructor(e){this.helper=e}fillPolygons(e,t){const i=g(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(i,t)}dotsOnLines(e,t){const i=[];let n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);let s=t.fillWeight;s<0&&(s=t.strokeWidth/2);const r=n/4;for(const o of e){const e=y(o),a=e/n,h=Math.ceil(a)-1,l=e-h*n,d=(o[0][0]+o[1][0])/2-n/4,c=Math.min(o[0][1],o[1][1]);for(let e=0;e<h;e++){const o=c+l+e*n,a=d-r+2*Math.random()*r,h=o-r+2*Math.random()*r,u=this.helper.ellipse(a,h,s,s,t);i.push(...u.ops)}}return{type:"fillSketch",ops:i}}}class w{constructor(e){this.helper=e}fillPolygons(e,t){const i=g(e,t);return{type:"fillSketch",ops:this.dashedLine(i,t)}}dashedLine(e,t){const i=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,n=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,s=[];return e.forEach((e=>{const r=y(e),o=Math.floor(r/(i+n)),a=(r+n-o*(i+n))/2;let h=e[0],l=e[1];h[0]>l[0]&&(h=e[1],l=e[0]);const d=Math.atan((l[1]-h[1])/(l[0]-h[0]));for(let e=0;e<o;e++){const r=e*(i+n),o=r+i,l=[h[0]+r*Math.cos(d)+a*Math.cos(d),h[1]+r*Math.sin(d)+a*Math.sin(d)],c=[h[0]+o*Math.cos(d)+a*Math.cos(d),h[1]+o*Math.sin(d)+a*Math.sin(d)];s.push(...this.helper.doubleLineOps(l[0],l[1],c[0],c[1],t))}})),s}}class k{constructor(e){this.helper=e}fillPolygons(e,t){const i=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,n=t.zigzagOffset<0?i:t.zigzagOffset,s=g(e,t=Object.assign({},t,{hachureGap:i+n}));return{type:"fillSketch",ops:this.zigzagLines(s,n,t)}}zigzagLines(e,t,i){const n=[];return e.forEach((e=>{const s=y(e),r=Math.round(s/(2*t));let o=e[0],a=e[1];o[0]>a[0]&&(o=e[1],a=e[0]);const h=Math.atan((a[1]-o[1])/(a[0]-o[0]));for(let e=0;e<r;e++){const s=2*e*t,r=2*(e+1)*t,a=Math.sqrt(2*Math.pow(t,2)),l=[o[0]+s*Math.cos(h),o[1]+s*Math.sin(h)],d=[o[0]+r*Math.cos(h),o[1]+r*Math.sin(h)],c=[l[0]+a*Math.cos(h+Math.PI/4),l[1]+a*Math.sin(h+Math.PI/4)];n.push(...this.helper.doubleLineOps(l[0],l[1],c[0],c[1],i),...this.helper.doubleLineOps(c[0],c[1],d[0],d[1],i))}})),n}}const C={};class E{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const D=0,N=1,I=2,S={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function B(e,t){return e.type===t}function M(e){const t=[],i=function(e){const t=new Array;for(;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:D,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:N,text:`${parseFloat(RegExp.$1)}`},e=e.substr(RegExp.$1.length)}return t[t.length]={type:I,text:""},t}(e);let n="BOD",s=0,r=i[s];for(;!B(r,I);){let o=0;const a=[];if("BOD"===n){if("M"!==r.text&&"m"!==r.text)return M("M0,0"+e);s++,o=S[r.text],n=r.text}else B(r,N)?o=S[n]:(s++,o=S[r.text],n=r.text);if(!(s+o<i.length))throw new Error("Path data ended short");for(let e=s;e<s+o;e++){const t=i[e];if(!B(t,N))throw new Error("Param not a number: "+n+","+t.text);a[a.length]=+t.text}if("number"!=typeof S[n])throw new Error("Bad segment: "+n);{const e={key:n,data:a};t.push(e),s+=o,r=i[s],"M"===n&&(n="L"),"m"===n&&(n="l")}}return t}function T(e){let t=0,i=0,n=0,s=0;const r=[];for(const{key:o,data:a}of e)switch(o){case"M":r.push({key:"M",data:[...a]}),[t,i]=a,[n,s]=a;break;case"m":t+=a[0],i+=a[1],r.push({key:"M",data:[t,i]}),n=t,s=i;break;case"L":r.push({key:"L",data:[...a]}),[t,i]=a;break;case"l":t+=a[0],i+=a[1],r.push({key:"L",data:[t,i]});break;case"C":r.push({key:"C",data:[...a]}),t=a[4],i=a[5];break;case"c":{const e=a.map(((e,n)=>n%2?e+i:e+t));r.push({key:"C",data:e}),t=e[4],i=e[5];break}case"Q":r.push({key:"Q",data:[...a]}),t=a[2],i=a[3];break;case"q":{const e=a.map(((e,n)=>n%2?e+i:e+t));r.push({key:"Q",data:e}),t=e[2],i=e[3];break}case"A":r.push({key:"A",data:[...a]}),t=a[5],i=a[6];break;case"a":t+=a[5],i+=a[6],r.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],t,i]});break;case"H":r.push({key:"H",data:[...a]}),t=a[0];break;case"h":t+=a[0],r.push({key:"H",data:[t]});break;case"V":r.push({key:"V",data:[...a]}),i=a[0];break;case"v":i+=a[0],r.push({key:"V",data:[i]});break;case"S":r.push({key:"S",data:[...a]}),t=a[2],i=a[3];break;case"s":{const e=a.map(((e,n)=>n%2?e+i:e+t));r.push({key:"S",data:e}),t=e[2],i=e[3];break}case"T":r.push({key:"T",data:[...a]}),t=a[0],i=a[1];break;case"t":t+=a[0],i+=a[1],r.push({key:"T",data:[t,i]});break;case"Z":case"z":r.push({key:"Z",data:[]}),t=n,i=s}return r}function L(e){const t=[];let i="",n=0,s=0,r=0,o=0,a=0,h=0;for(const{key:l,data:d}of e){switch(l){case"M":t.push({key:"M",data:[...d]}),[n,s]=d,[r,o]=d;break;case"C":t.push({key:"C",data:[...d]}),n=d[4],s=d[5],a=d[2],h=d[3];break;case"L":t.push({key:"L",data:[...d]}),[n,s]=d;break;case"H":n=d[0],t.push({key:"L",data:[n,s]});break;case"V":s=d[0],t.push({key:"L",data:[n,s]});break;case"S":{let e=0,r=0;"C"===i||"S"===i?(e=n+(n-a),r=s+(s-h)):(e=n,r=s),t.push({key:"C",data:[e,r,...d]}),a=d[0],h=d[1],n=d[2],s=d[3];break}case"T":{const[e,r]=d;let o=0,l=0;"Q"===i||"T"===i?(o=n+(n-a),l=s+(s-h)):(o=n,l=s);const c=n+2*(o-n)/3,u=s+2*(l-s)/3,p=e+2*(o-e)/3,m=r+2*(l-r)/3;t.push({key:"C",data:[c,u,p,m,e,r]}),a=o,h=l,n=e,s=r;break}case"Q":{const[e,i,r,o]=d,l=n+2*(e-n)/3,c=s+2*(i-s)/3,u=r+2*(e-r)/3,p=o+2*(i-o)/3;t.push({key:"C",data:[l,c,u,p,r,o]}),a=e,h=i,n=r,s=o;break}case"A":{const e=Math.abs(d[0]),i=Math.abs(d[1]),r=d[2],o=d[3],a=d[4],h=d[5],l=d[6];if(0===e||0===i)t.push({key:"C",data:[n,s,h,l,h,l]}),n=h,s=l;else if(n!==h||s!==l){O(n,s,h,l,e,i,r,o,a).forEach((function(e){t.push({key:"C",data:e})})),n=h,s=l}break}case"Z":t.push({key:"Z",data:[]}),n=r,s=o}i=l}return t}function P(e,t,i){return[e*Math.cos(i)-t*Math.sin(i),e*Math.sin(i)+t*Math.cos(i)]}function O(e,t,i,n,s,r,o,a,h,l){const d=(c=o,Math.PI*c/180);var c;let u=[],p=0,m=0,f=0,g=0;if(l)[p,m,f,g]=l;else{[e,t]=P(e,t,-d),[i,n]=P(i,n,-d);const o=(e-i)/2,l=(t-n)/2;let c=o*o/(s*s)+l*l/(r*r);c>1&&(c=Math.sqrt(c),s*=c,r*=c);const u=s*s,v=r*r,y=u*v-u*l*l-v*o*o,A=u*l*l+v*o*o,x=(a===h?-1:1)*Math.sqrt(Math.abs(y/A));f=x*s*l/r+(e+i)/2,g=x*-r*o/s+(t+n)/2,p=Math.asin(parseFloat(((t-g)/r).toFixed(9))),m=Math.asin(parseFloat(((n-g)/r).toFixed(9))),e<f&&(p=Math.PI-p),i<f&&(m=Math.PI-m),p<0&&(p=2*Math.PI+p),m<0&&(m=2*Math.PI+m),h&&p>m&&(p-=2*Math.PI),!h&&m>p&&(m-=2*Math.PI)}let v=m-p;if(Math.abs(v)>120*Math.PI/180){const e=m,t=i,a=n;m=h&&m>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,u=O(i=f+s*Math.cos(m),n=g+r*Math.sin(m),t,a,s,r,o,0,h,[m,e,f,g])}v=m-p;const y=Math.cos(p),A=Math.sin(p),x=Math.cos(m),b=Math.sin(m),w=Math.tan(v/4),k=4/3*s*w,C=4/3*r*w,E=[e,t],D=[e+k*A,t-C*y],N=[i+k*b,n-C*x],I=[i,n];if(D[0]=2*E[0]-D[0],D[1]=2*E[1]-D[1],l)return[D,N,I].concat(u);{u=[D,N,I].concat(u);const e=[];for(let t=0;t<u.length;t+=3){const i=P(u[t][0],u[t][1],d),n=P(u[t+1][0],u[t+1][1],d),s=P(u[t+2][0],u[t+2][1],d);e.push([i[0],i[1],n[0],n[1],s[0],s[1]])}return e}}const R={randOffset:function(e,t){return K(e,t)},randOffsetWithRange:function(e,t,i){return Y(e,t,i)},ellipse:function(e,t,i,n,s){const r=H(i,n,s);return j(e,t,s,r).opset},doubleLineOps:function(e,t,i,n,s){return J(e,t,i,n,s,!0)}};function _(e,t,i,n,s){return{type:"path",ops:J(e,t,i,n,s)}}function F(e,t,i){const n=(e||[]).length;if(n>2){const s=[];for(let t=0;t<n-1;t++)s.push(...J(e[t][0],e[t][1],e[t+1][0],e[t+1][1],i));return t&&s.push(...J(e[n-1][0],e[n-1][1],e[0][0],e[0][1],i)),{type:"path",ops:s}}return 2===n?_(e[0][0],e[0][1],e[1][0],e[1][1],i):{type:"path",ops:[]}}function z(e,t,i,n,s){return function(e,t){return F(e,!0,t)}([[e,t],[e+i,t],[e+i,t+n],[e,t+n]],s)}function Q(e,t){if(e.length){const i="number"==typeof e[0][0]?[e]:e,n=$(i[0],1*(1+.2*t.roughness),t),s=t.disableMultiStroke?[]:$(i[0],1.5*(1+.22*t.roughness),X(t));for(let e=1;e<i.length;e++){const r=i[e];if(r.length){const e=$(r,1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:$(r,1.5*(1+.22*t.roughness),X(t));for(const t of e)"move"!==t.op&&n.push(t);for(const e of i)"move"!==e.op&&s.push(e)}}return{type:"path",ops:n.concat(s)}}return{type:"path",ops:[]}}function H(e,t,i){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),s=Math.ceil(Math.max(i.curveStepCount,i.curveStepCount/Math.sqrt(200)*n)),r=2*Math.PI/s;let o=Math.abs(e/2),a=Math.abs(t/2);const h=1-i.curveFitting;return o+=K(o*h,i),a+=K(a*h,i),{increment:r,rx:o,ry:a}}function j(e,t,i,n){const[s,r]=te(n.increment,e,t,n.rx,n.ry,1,n.increment*Y(.1,Y(.4,1,i),i),i);let o=ee(s,null,i);if(!i.disableMultiStroke&&0!==i.roughness){const[s]=te(n.increment,e,t,n.rx,n.ry,1.5,0,i),r=ee(s,null,i);o=o.concat(r)}return{estimatedPoints:r,opset:{type:"path",ops:o}}}function q(e,t,i,n,s,r,o,a,h){const l=e,d=t;let c=Math.abs(i/2),u=Math.abs(n/2);c+=K(.01*c,h),u+=K(.01*u,h);let p=s,m=r;for(;p<0;)p+=2*Math.PI,m+=2*Math.PI;m-p>2*Math.PI&&(p=0,m=2*Math.PI);const f=2*Math.PI/h.curveStepCount,g=Math.min(f/2,(m-p)/2),v=ie(g,l,d,c,u,p,m,1,h);if(!h.disableMultiStroke){const e=ie(g,l,d,c,u,p,m,1.5,h);v.push(...e)}return o&&(a?v.push(...J(l,d,l+c*Math.cos(p),d+u*Math.sin(p),h),...J(l,d,l+c*Math.cos(m),d+u*Math.sin(m),h)):v.push({op:"lineTo",data:[l,d]},{op:"lineTo",data:[l+c*Math.cos(p),d+u*Math.sin(p)]})),{type:"path",ops:v}}function W(e,t){const i=L(T(M(e))),n=[];let s=[0,0],r=[0,0];for(const{key:e,data:o}of i)switch(e){case"M":r=[o[0],o[1]],s=[o[0],o[1]];break;case"L":n.push(...J(r[0],r[1],o[0],o[1],t)),r=[o[0],o[1]];break;case"C":{const[e,i,s,a,h,l]=o;n.push(...ne(e,i,s,a,h,l,r,t)),r=[h,l];break}case"Z":n.push(...J(r[0],r[1],s[0],s[1],t)),r=[s[0],s[1]]}return{type:"path",ops:n}}function V(e,t){const i=[];for(const n of e)if(n.length){const e=t.maxRandomnessOffset||0,s=n.length;if(s>2){i.push({op:"move",data:[n[0][0]+K(e,t),n[0][1]+K(e,t)]});for(let r=1;r<s;r++)i.push({op:"lineTo",data:[n[r][0]+K(e,t),n[r][1]+K(e,t)]})}}return{type:"fillPath",ops:i}}function U(e,t){return function(e,t){let i=e.fillStyle||"hachure";if(!C[i])switch(i){case"zigzag":C[i]||(C[i]=new A(t));break;case"cross-hatch":C[i]||(C[i]=new x(t));break;case"dots":C[i]||(C[i]=new b(t));break;case"dashed":C[i]||(C[i]=new w(t));break;case"zigzag-line":C[i]||(C[i]=new k(t));break;default:i="hachure",C[i]||(C[i]=new v(t))}return C[i]}(t,R).fillPolygons(e,t)}function X(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function G(e){return e.randomizer||(e.randomizer=new E(e.seed||0)),e.randomizer.next()}function Y(e,t,i,n=1){return i.roughness*n*(G(i)*(t-e)+e)}function K(e,t,i=1){return Y(-e,e,t,i)}function J(e,t,i,n,s,r=!1){const o=r?s.disableMultiStrokeFill:s.disableMultiStroke,a=Z(e,t,i,n,s,!0,!1);if(o)return a;const h=Z(e,t,i,n,s,!0,!0);return a.concat(h)}function Z(e,t,i,n,s,r,o){const a=Math.pow(e-i,2)+Math.pow(t-n,2),h=Math.sqrt(a);let l=1;l=h<200?1:h>500?.4:-.0016668*h+1.233334;let d=s.maxRandomnessOffset||0;d*d*100>a&&(d=h/10);const c=d/2,u=.2+.2*G(s);let p=s.bowing*s.maxRandomnessOffset*(n-t)/200,m=s.bowing*s.maxRandomnessOffset*(e-i)/200;p=K(p,s,l),m=K(m,s,l);const f=[],g=()=>K(c,s,l),v=()=>K(d,s,l),y=s.preserveVertices;return r&&(o?f.push({op:"move",data:[e+(y?0:g()),t+(y?0:g())]}):f.push({op:"move",data:[e+(y?0:K(d,s,l)),t+(y?0:K(d,s,l))]})),o?f.push({op:"bcurveTo",data:[p+e+(i-e)*u+g(),m+t+(n-t)*u+g(),p+e+2*(i-e)*u+g(),m+t+2*(n-t)*u+g(),i+(y?0:g()),n+(y?0:g())]}):f.push({op:"bcurveTo",data:[p+e+(i-e)*u+v(),m+t+(n-t)*u+v(),p+e+2*(i-e)*u+v(),m+t+2*(n-t)*u+v(),i+(y?0:v()),n+(y?0:v())]}),f}function $(e,t,i){if(!e.length)return[];const n=[];n.push([e[0][0]+K(t,i),e[0][1]+K(t,i)]),n.push([e[0][0]+K(t,i),e[0][1]+K(t,i)]);for(let s=1;s<e.length;s++)n.push([e[s][0]+K(t,i),e[s][1]+K(t,i)]),s===e.length-1&&n.push([e[s][0]+K(t,i),e[s][1]+K(t,i)]);return ee(n,null,i)}function ee(e,t,i){const n=e.length,s=[];if(n>3){const r=[],o=1-i.curveTightness;s.push({op:"move",data:[e[1][0],e[1][1]]});for(let t=1;t+2<n;t++){const i=e[t];r[0]=[i[0],i[1]],r[1]=[i[0]+(o*e[t+1][0]-o*e[t-1][0])/6,i[1]+(o*e[t+1][1]-o*e[t-1][1])/6],r[2]=[e[t+1][0]+(o*e[t][0]-o*e[t+2][0])/6,e[t+1][1]+(o*e[t][1]-o*e[t+2][1])/6],r[3]=[e[t+1][0],e[t+1][1]],s.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]]})}if(t&&2===t.length){const e=i.maxRandomnessOffset;s.push({op:"lineTo",data:[t[0]+K(e,i),t[1]+K(e,i)]})}}else 3===n?(s.push({op:"move",data:[e[1][0],e[1][1]]}),s.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===n&&s.push(...Z(e[0][0],e[0][1],e[1][0],e[1][1],i,!0,!0));return s}function te(e,t,i,n,s,r,o,a){const h=[],l=[];if(0===a.roughness){e/=4,l.push([t+n*Math.cos(-e),i+s*Math.sin(-e)]);for(let r=0;r<=2*Math.PI;r+=e){const e=[t+n*Math.cos(r),i+s*Math.sin(r)];h.push(e),l.push(e)}l.push([t+n*Math.cos(0),i+s*Math.sin(0)]),l.push([t+n*Math.cos(e),i+s*Math.sin(e)])}else{const d=K(.5,a)-Math.PI/2;l.push([K(r,a)+t+.9*n*Math.cos(d-e),K(r,a)+i+.9*s*Math.sin(d-e)]);const c=2*Math.PI+d-.01;for(let o=d;o<c;o+=e){const e=[K(r,a)+t+n*Math.cos(o),K(r,a)+i+s*Math.sin(o)];h.push(e),l.push(e)}l.push([K(r,a)+t+n*Math.cos(d+2*Math.PI+.5*o),K(r,a)+i+s*Math.sin(d+2*Math.PI+.5*o)]),l.push([K(r,a)+t+.98*n*Math.cos(d+o),K(r,a)+i+.98*s*Math.sin(d+o)]),l.push([K(r,a)+t+.9*n*Math.cos(d+.5*o),K(r,a)+i+.9*s*Math.sin(d+.5*o)])}return[l,h]}function ie(e,t,i,n,s,r,o,a,h){const l=r+K(.1,h),d=[];d.push([K(a,h)+t+.9*n*Math.cos(l-e),K(a,h)+i+.9*s*Math.sin(l-e)]);for(let r=l;r<=o;r+=e)d.push([K(a,h)+t+n*Math.cos(r),K(a,h)+i+s*Math.sin(r)]);return d.push([t+n*Math.cos(o),i+s*Math.sin(o)]),d.push([t+n*Math.cos(o),i+s*Math.sin(o)]),ee(d,null,h)}function ne(e,t,i,n,s,r,o,a){const h=[],l=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let d=[0,0];const c=a.disableMultiStroke?1:2,u=a.preserveVertices;for(let p=0;p<c;p++)0===p?h.push({op:"move",data:[o[0],o[1]]}):h.push({op:"move",data:[o[0]+(u?0:K(l[0],a)),o[1]+(u?0:K(l[0],a))]}),d=u?[s,r]:[s+K(l[p],a),r+K(l[p],a)],h.push({op:"bcurveTo",data:[e+K(l[p],a),t+K(l[p],a),i+K(l[p],a),n+K(l[p],a),d[0],d[1]]});return h}function se(e){return[...e]}function re(e,t=0){const i=e.length;if(i<3)throw new Error("A curve must have at least three points.");const n=[];if(3===i)n.push(se(e[0]),se(e[1]),se(e[2]),se(e[2]));else{const i=[];i.push(e[0],e[0]);for(let t=1;t<e.length;t++)i.push(e[t]),t===e.length-1&&i.push(e[t]);const s=[],r=1-t;n.push(se(i[0]));for(let e=1;e+2<i.length;e++){const t=i[e];s[0]=[t[0],t[1]],s[1]=[t[0]+(r*i[e+1][0]-r*i[e-1][0])/6,t[1]+(r*i[e+1][1]-r*i[e-1][1])/6],s[2]=[i[e+1][0]+(r*i[e][0]-r*i[e+2][0])/6,i[e+1][1]+(r*i[e][1]-r*i[e+2][1])/6],s[3]=[i[e+1][0],i[e+1][1]],n.push(s[1],s[2],s[3])}}return n}function oe(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function ae(e,t,i){const n=oe(t,i);if(0===n)return oe(e,t);let s=((e[0]-t[0])*(i[0]-t[0])+(e[1]-t[1])*(i[1]-t[1]))/n;return s=Math.max(0,Math.min(1,s)),oe(e,he(t,i,s))}function he(e,t,i){return[e[0]+(t[0]-e[0])*i,e[1]+(t[1]-e[1])*i]}function le(e,t,i,n){const s=n||[];if(function(e,t){const i=e[t+0],n=e[t+1],s=e[t+2],r=e[t+3];let o=3*n[0]-2*i[0]-r[0];o*=o;let a=3*n[1]-2*i[1]-r[1];a*=a;let h=3*s[0]-2*r[0]-i[0];h*=h;let l=3*s[1]-2*r[1]-i[1];return l*=l,o<h&&(o=h),a<l&&(a=l),o+a}(e,t)<i){const i=e[t+0];if(s.length){(r=s[s.length-1],o=i,Math.sqrt(oe(r,o)))>1&&s.push(i)}else s.push(i);s.push(e[t+3])}else{const n=.5,r=e[t+0],o=e[t+1],a=e[t+2],h=e[t+3],l=he(r,o,n),d=he(o,a,n),c=he(a,h,n),u=he(l,d,n),p=he(d,c,n),m=he(u,p,n);le([r,l,u,m],0,i,s),le([m,p,c,h],0,i,s)}var r,o;return s}function de(e,t){return ce(e,0,e.length,t)}function ce(e,t,i,n,s){const r=s||[],o=e[t],a=e[i-1];let h=0,l=1;for(let n=t+1;n<i-1;++n){const t=ae(e[n],o,a);t>h&&(h=t,l=n)}return Math.sqrt(h)>n?(ce(e,t,l+1,n,r),ce(e,l,i,n,r)):(r.length||r.push(o),r.push(a)),r}function ue(e,t=.15,i){const n=[],s=(e.length-1)/3;for(let i=0;i<s;i++){le(e,3*i,t,n)}return i&&i>0?ce(n,0,n.length,i):n}const pe="none";class me{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,i){return{shape:e,sets:t||[],options:i||this.defaultOptions}}line(e,t,i,n,s){const r=this._o(s);return this._d("line",[_(e,t,i,n,r)],r)}rectangle(e,t,i,n,s){const r=this._o(s),o=[],a=z(e,t,i,n,r);if(r.fill){const s=[[e,t],[e+i,t],[e+i,t+n],[e,t+n]];"solid"===r.fillStyle?o.push(V([s],r)):o.push(U([s],r))}return r.stroke!==pe&&o.push(a),this._d("rectangle",o,r)}ellipse(e,t,i,n,s){const r=this._o(s),o=[],a=H(i,n,r),h=j(e,t,r,a);if(r.fill)if("solid"===r.fillStyle){const i=j(e,t,r,a).opset;i.type="fillPath",o.push(i)}else o.push(U([h.estimatedPoints],r));return r.stroke!==pe&&o.push(h.opset),this._d("ellipse",o,r)}circle(e,t,i,n){const s=this.ellipse(e,t,i,i,n);return s.shape="circle",s}linearPath(e,t){const i=this._o(t);return this._d("linearPath",[F(e,!1,i)],i)}arc(e,t,i,n,s,r,o=!1,a){const h=this._o(a),l=[],d=q(e,t,i,n,s,r,o,!0,h);if(o&&h.fill)if("solid"===h.fillStyle){const o=Object.assign({},h);o.disableMultiStroke=!0;const a=q(e,t,i,n,s,r,!0,!1,o);a.type="fillPath",l.push(a)}else l.push(function(e,t,i,n,s,r,o){const a=e,h=t;let l=Math.abs(i/2),d=Math.abs(n/2);l+=K(.01*l,o),d+=K(.01*d,o);let c=s,u=r;for(;c<0;)c+=2*Math.PI,u+=2*Math.PI;u-c>2*Math.PI&&(c=0,u=2*Math.PI);const p=(u-c)/o.curveStepCount,m=[];for(let e=c;e<=u;e+=p)m.push([a+l*Math.cos(e),h+d*Math.sin(e)]);return m.push([a+l*Math.cos(u),h+d*Math.sin(u)]),m.push([a,h]),U([m],o)}(e,t,i,n,s,r,h));return h.stroke!==pe&&l.push(d),this._d("arc",l,h)}curve(e,t){const i=this._o(t),n=[],s=Q(e,i);if(i.fill&&i.fill!==pe)if("solid"===i.fillStyle){const t=Q(e,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(t.ops)})}else{const t=[],s=e;if(s.length){const e="number"==typeof s[0][0]?[s]:s;for(const n of e)n.length<3?t.push(...n):3===n.length?t.push(...ue(re([n[0],n[0],n[1],n[2]]),10,(1+i.roughness)/2)):t.push(...ue(re(n),10,(1+i.roughness)/2))}t.length&&n.push(U([t],i))}return i.stroke!==pe&&n.push(s),this._d("curve",n,i)}polygon(e,t){const i=this._o(t),n=[],s=F(e,!0,i);return i.fill&&("solid"===i.fillStyle?n.push(V([e],i)):n.push(U([e],i))),i.stroke!==pe&&n.push(s),this._d("polygon",n,i)}path(e,t){const i=this._o(t),n=[];if(!e)return this._d("path",n,i);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=i.fill&&"transparent"!==i.fill&&i.fill!==pe,r=i.stroke!==pe,o=!!(i.simplification&&i.simplification<1),a=function(e,t,i){const n=L(T(M(e))),s=[];let r=[],o=[0,0],a=[];const h=()=>{a.length>=4&&r.push(...ue(a,t)),a=[]},l=()=>{h(),r.length&&(s.push(r),r=[])};for(const{key:e,data:t}of n)switch(e){case"M":l(),o=[t[0],t[1]],r.push(o);break;case"L":h(),r.push([t[0],t[1]]);break;case"C":if(!a.length){const e=r.length?r[r.length-1]:o;a.push([e[0],e[1]])}a.push([t[0],t[1]]),a.push([t[2],t[3]]),a.push([t[4],t[5]]);break;case"Z":h(),r.push([o[0],o[1]])}if(l(),!i)return s;const d=[];for(const e of s){const t=de(e,i);t.length&&d.push(t)}return d}(e,1,o?4-4*(i.simplification||1):(1+i.roughness)/2),h=W(e,i);if(s)if("solid"===i.fillStyle)if(1===a.length){const t=W(e,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(t.ops)})}else n.push(V(a,i));else n.push(U(a,i));return r&&(o?a.forEach((e=>{n.push(F(e,!1,i))})):n.push(h)),this._d("path",n,i)}opsToPath(e,t){let i="";for(const n of e.ops){const e="number"==typeof t&&t>=0?n.data.map((e=>+e.toFixed(t))):n.data;switch(n.op){case"move":i+=`M${e[0]} ${e[1]} `;break;case"bcurveTo":i+=`C${e[0]} ${e[1]}, ${e[2]} ${e[3]}, ${e[4]} ${e[5]} `;break;case"lineTo":i+=`L${e[0]} ${e[1]} `}}return i.trim()}toPaths(e){const t=e.sets||[],i=e.options||this.defaultOptions,n=[];for(const e of t){let t=null;switch(e.type){case"path":t={d:this.opsToPath(e),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:pe};break;case"fillPath":t={d:this.opsToPath(e),stroke:pe,strokeWidth:0,fill:i.fill||pe};break;case"fillSketch":t=this.fillSketch(e,i)}t&&n.push(t)}return n}fillSketch(e,t){let i=t.fillWeight;return i<0&&(i=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||pe,strokeWidth:i,fill:pe}}_mergedShape(e){return e.filter(((e,t)=>0===t||"move"!==e.op))}}class fe{constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new me(t)}draw(e){const t=e.sets||[],i=e.options||this.getDefaultOptions(),n=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const r of t)switch(r.type){case"path":n.save(),n.strokeStyle="none"===i.stroke?"transparent":i.stroke,n.lineWidth=i.strokeWidth,i.strokeLineDash&&n.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(n.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(n,r,s),n.restore();break;case"fillPath":{n.save(),n.fillStyle=i.fill||"";const t="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(n,r,s,t),n.restore();break}case"fillSketch":this.fillSketch(n,r,i)}}fillSketch(e,t,i){let n=i.fillWeight;n<0&&(n=i.strokeWidth/2),e.save(),i.fillLineDash&&e.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(e.lineDashOffset=i.fillLineDashOffset),e.strokeStyle=i.fill||"",e.lineWidth=n,this._drawToContext(e,t,i.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,t,i,n="nonzero"){e.beginPath();for(const n of t.ops){const t="number"==typeof i&&i>=0?n.data.map((e=>+e.toFixed(i))):n.data;switch(n.op){case"move":e.moveTo(t[0],t[1]);break;case"bcurveTo":e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5]);break;case"lineTo":e.lineTo(t[0],t[1])}}"fillPath"===t.type?e.fill(n):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,i,n,s){const r=this.gen.line(e,t,i,n,s);return this.draw(r),r}rectangle(e,t,i,n,s){const r=this.gen.rectangle(e,t,i,n,s);return this.draw(r),r}ellipse(e,t,i,n,s){const r=this.gen.ellipse(e,t,i,n,s);return this.draw(r),r}circle(e,t,i,n){const s=this.gen.circle(e,t,i,n);return this.draw(s),s}linearPath(e,t){const i=this.gen.linearPath(e,t);return this.draw(i),i}polygon(e,t){const i=this.gen.polygon(e,t);return this.draw(i),i}arc(e,t,i,n,s,r,o=!1,a){const h=this.gen.arc(e,t,i,n,s,r,o,a);return this.draw(h),h}curve(e,t){const i=this.gen.curve(e,t);return this.draw(i),i}path(e,t){const i=this.gen.path(e,t);return this.draw(i),i}}const ge="http://www.w3.org/2000/svg";class ve{constructor(e,t){this.svg=e,this.gen=new me(t)}draw(e){const t=e.sets||[],i=e.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,s=n.createElementNS(ge,"g"),r=e.options.fixedDecimalPlaceDigits;for(const o of t){let t=null;switch(o.type){case"path":t=n.createElementNS(ge,"path"),t.setAttribute("d",this.opsToPath(o,r)),t.setAttribute("stroke",i.stroke),t.setAttribute("stroke-width",i.strokeWidth+""),t.setAttribute("fill","none"),i.strokeLineDash&&t.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&t.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break;case"fillPath":t=n.createElementNS(ge,"path"),t.setAttribute("d",this.opsToPath(o,r)),t.setAttribute("stroke","none"),t.setAttribute("stroke-width","0"),t.setAttribute("fill",i.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||t.setAttribute("fill-rule","evenodd");break;case"fillSketch":t=this.fillSketch(n,o,i)}t&&s.appendChild(t)}return s}fillSketch(e,t,i){let n=i.fillWeight;n<0&&(n=i.strokeWidth/2);const s=e.createElementNS(ge,"path");return s.setAttribute("d",this.opsToPath(t,i.fixedDecimalPlaceDigits)),s.setAttribute("stroke",i.fill||""),s.setAttribute("stroke-width",n+""),s.setAttribute("fill","none"),i.fillLineDash&&s.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,i,n,s){const r=this.gen.line(e,t,i,n,s);return this.draw(r)}rectangle(e,t,i,n,s){const r=this.gen.rectangle(e,t,i,n,s);return this.draw(r)}ellipse(e,t,i,n,s){const r=this.gen.ellipse(e,t,i,n,s);return this.draw(r)}circle(e,t,i,n){const s=this.gen.circle(e,t,i,n);return this.draw(s)}linearPath(e,t){const i=this.gen.linearPath(e,t);return this.draw(i)}polygon(e,t){const i=this.gen.polygon(e,t);return this.draw(i)}arc(e,t,i,n,s,r,o=!1,a){const h=this.gen.arc(e,t,i,n,s,r,o,a);return this.draw(h)}curve(e,t){const i=this.gen.curve(e,t);return this.draw(i)}path(e,t){const i=this.gen.path(e,t);return this.draw(i)}}var ye={canvas:(e,t)=>new fe(e,t),svg:(e,t)=>new ve(e,t),generator:e=>new me(e),newSeed:()=>me.newSeed()};function Ae(e){if(window.getSelection){e.focus();var t=e.win.getSelection();try{t.selectAllChildren(e),t.collapseToEnd()}catch(e){}}}class xe{constructor(e,t){this.box={x:0,y:0,width:0,height:0},this.name="node",this.isExpand=!0,this.isSelect=!1,this.children=[],this.isHide=!1,this.isEdit=!1,this._barDom=null,this.callout=null,this.wireFrames=[],this.summaries=[],this.induce=null,this.wireFrame=null,this.layout=null,this.wfs=[],this.induces=[],this.belongInduce=null,this._wireFrames=[],this._summaries=[],this._removeLink=null,this.shouldRender=!0,this.containBar=!1,this.tNode=null,this._shapeDom=null,this._mathTime=null,this._noteTab=null,this.coverDom=null,this._hasImage=null,this._hasLink="",this.data=e,this.mindmap=t,this.data.stroke&&(this.stroke=this.data.stroke),this.data.style&&(this.style=Object.assign({},this.style,this.data.style)),this.initDom()}getId(){return this.data.id}getParent(){return this.parent||null}initDom(){this.containEl=document.createElement("div"),this.containEl.classList.add("mm-node"),this.containEl.setAttribute("contentEditable","false"),this.containEl.setAttribute("tabIndex","-1"),this.containEl.setAttribute("data-id",this.data.id),this.containEl.setAttribute("draggable","false"),this.assistDom=document.createElement("div"),this.assistDom.classList.add("mm-node-assist"),this.contentEl=document.createElement("div"),this.contentEl.classList.add("mm-node-content"),this.containEl.appendChild(this.contentEl),this.contentEl.appendChild(this.assistDom),this.editDom=document.createElement("div"),this.editDom.classList.add("mm-node-edit"),this.contentEl.appendChild(this.editDom),this.plgDom=document.createElement("div"),this.plgDom.classList.add("mm-note-dom"),this.contentEl.appendChild(this.plgDom),this.initNodeBar(),this.updateAnnotate(),this.data.note&&this.updateNote(),this.data.isRoot&&(this.containEl.classList.add("mm-root"),this.isRoot=!0),this.setStyle(),this.parseText(),this.data.cover&&this.createCoverDom()}createCoverDom(){var e=document.createElement("div");this.containEl.appendChild(e),e.classList.add("mm-node-cover"),this.coverDom=e}setCoverText(e){e?(this.data.cover=!0,this.coverDom||this.createCoverDom()):(this.data.cover=!1,this.containEl.contains(this.coverDom)&&(this.containEl.removeChild(this.coverDom),this.coverDom=null))}initNodeBar(){this._barDom=document.createElement("div"),this._barDom.classList.add("mm-node-bar"),this.containEl.appendChild(this._barDom)}parseText(){var t;e.MarkdownRenderer.renderMarkdown(this.data.text,this.editDom,this.mindmap.path||"",this.mindmap._plugin||(null===(t=this.mindmap.view)||void 0===t?void 0:t.plugin)).then((()=>{this.data.mdText=this.editDom.innerHTML,this.refreshBox(),this.mindmap&&this.mindmap.emit("initNode",{}),this._delay()}))}isMindmap(e){if(e&&e.frontmatter){var t=e.frontmatter["mindmap-plugin"];return"rich"==t||"basic"==t}return!1}isMindmapRichMode(e){return!!(e&&e.frontmatter&&e.frontmatter["mindmap-plugin"]&&"rich"==e.frontmatter["mindmap-plugin"])}_deleyRefreshLayout(e,t){if(e&&t){var i=(e=e.tNode?e.tNode:e).getRootLayout()||t.mmLayout,n=t._delayRefresh.filter((e=>e.layout==i));if(n&&n.length)n[0].timeOut&&clearTimeout(n[0].timeOut),n[0].timeOut=setTimeout((()=>{t.emit("renderEditNode",{node:e})}),800);else{if(!i)return;t._delayRefresh.push({node:e,layout:i,timeOut:setTimeout((()=>{t.emit("renderEditNode",{node:e})}),800)})}t._delayRefresh.length>20&&(t._delayRefresh=[])}}_refreshImage(e,t){var i=this;e.findAll(".internal-embed").forEach((e=>{const n=e.getAttribute("src");if(n.startsWith("http")){var s=n.toLowerCase(),r={extension:s.substring(s.lastIndexOf(".")+1)},o=n;"mp4"==r.extension||"webm"==r.extension||"ogv"==r.extension?(e.innerText="",e.createEl("video",{attr:{controls:!0}},(t=>{e.hasAttribute("width")&&t.setAttribute("width",e.getAttribute("width")),e.hasAttribute("alt")&&t.setAttribute("alt",e.getAttribute("alt")),t.createEl("source",{attr:{src:o}})}))):"mp3"==r.extension||"wav"==r.extension||"m4a"==r.extension||"ogg"==r.extension?(e.innerText="",e.createEl("audio",{attr:{controls:!0}},(t=>{e.hasAttribute("width")?t.setAttribute("width",e.getAttribute("width")):t.setAttribute("width","200px"),e.hasAttribute("alt")&&t.setAttribute("alt",e.getAttribute("alt")),t.createEl("source",{attr:{src:o}})}))):"png"!=r.extension&&"gif"!=r.extension&&"svg"!=r.extension&&"jpg"!=r.extension&&"jpeg"!=r.extension||(e.innerText="",e.createEl("img",{attr:{src:o}},(t=>{i._hasImage=t,e.hasAttribute("width")&&t.setAttribute("width",e.getAttribute("width")),e.hasAttribute("alt")&&t.setAttribute("alt",e.getAttribute("alt"))})),e.addClasses(["image-embed","is-loaded"]))}else{if((r="string"==typeof n&&this.mindmap.view&&this.mindmap.view.app&&this.mindmap.view.app.metadataCache.getFirstLinkpathDest(n,this.mindmap.path))&&"md"!==r.extension&&t){e.innerText="";o=this.mindmap.view.app.vault.getResourcePath(r);"mp4"==r.extension||"webm"==r.extension||"ogv"==r.extension?e.createEl("video",{attr:{controls:!0}},(t=>{e.hasAttribute("width")&&t.setAttribute("width",e.getAttribute("width")),e.hasAttribute("alt")&&t.setAttribute("alt",e.getAttribute("alt")),t.createEl("source",{attr:{src:o}})})):"mp3"==r.extension||"wav"==r.extension||"m4a"==r.extension||"ogg"==r.extension?e.createEl("audio",{attr:{controls:!0}},(t=>{e.hasAttribute("width")?t.setAttribute("width",e.getAttribute("width")):t.setAttribute("width","200px"),e.hasAttribute("alt")&&t.setAttribute("alt",e.getAttribute("alt")),t.createEl("source",{attr:{src:o}})})):(e.createEl("img",{attr:{src:o}},(t=>{i._hasImage=t,e.hasAttribute("width")&&t.setAttribute("width",e.getAttribute("width")),e.hasAttribute("alt")&&t.setAttribute("alt",e.getAttribute("alt"))})),e.addClasses(["image-embed","is-loaded"]))}}})),e.querySelectorAll("img").forEach((e=>{var i;e.onload||(e.onload=()=>{var i,n=null===(i=e.closest(".mm-node"))||void 0===i?void 0:i.getAttribute("data-id");if(n){var s=t.getNodeById(n);s&&(s.clearCacheData(),s.refreshBox(),this._deleyRefreshLayout(s,t))}}),e.setAttribute("draggble","false");var n=null===(i=e.closest(".mm-node"))||void 0===i?void 0:i.getAttribute("data-id");if(n){var s=t.getNodeById(n);s&&(s.clearCacheData(),s.refreshBox(),this._deleyRefreshLayout(s,t))}}));var n=e.querySelectorAll("video"),s=e.querySelectorAll("audio");(n.length||s.length)&&setTimeout((()=>{this.clearCacheData(),this.refreshBox(),this._deleyRefreshLayout(this,this.mindmap)}),500)}_createHandDrawFill(){var e=this.getLevel();if(this.mindmap&&this.mindmap.useHandMode&&e<=1){var t=this.mindmap._rc||ye.svg(this.mindmap.draw),i=!!document.querySelector(".theme-dark")||!1;this.shapeSvg&&this.mindmap.draw.node.removeChild(this.shapeSvg);var n=this.getBox(),s=0==e?"solid":"sunburst",r=0==e?"1":"2",o=i?"#fff":"rgb(0, 170, 255)",a=i?"#333":"#000";this.shapeSvg=t.rectangle(n.x,n.y,n.width,n.height,{fill:this.stroke||this.data.stroke||o,fillStyle:s,stroke:this.stroke||this.data.stroke||a,fillWeight:r}),this.mindmap.draw.node.appendChild(this.shapeSvg)}}getImage(){return this._hasImage}getLink(){var e="",i=!1;return this.editDom.findAll("a").forEach((n=>t(this,void 0,void 0,(function*(){e=n.getAttribute("href"),i=!(!n.getAttribute("class")||"internal-link"!=n.getAttribute("class"))})))),{isMd:i,link:e}}_delay(){var i=this;this.editDom.style.overflow="",this.editDom.findAll(".internal-embed").forEach((n=>t(this,void 0,void 0,(function*(){var t,s;const r=n.getAttribute("src");if("string"==typeof r){var o=e.parseLinktext(r);if(!o)return;var a="";if(this.mindmap&&this.mindmap.view){var h=this.mindmap.view.app.metadataCache.getFirstLinkpathDest(o.path,this.mindmap.path);if(h instanceof e.TFile&&"md"===h.extension){if(this.editDom.querySelector(`.markdown-embed[data-name="${h.path}"]`))return;var l=this.mindmap.view.app.metadataCache.getFileCache(h);if(this.isMindmap(l)){if((m=document.createElement("div")).classList.add("markdown-embed"),n.appendChild(m),m.setAttribute("data-name",h.path),(f=document.createElement("div")).classList.add("markdown-embed-content"),(g=document.createElement("div")).classList.add("markdown-preview-view"),f.appendChild(g),(v=document.createElement("div")).classList.add("markdown-embed-link"),v.setAttribute("aria-label","Open link"),v.innerHTML=`<a data-href="${r}" href="${r}" class="internal-link" target="_blank" rel="noopener"><svg viewBox="0 0 100 100" class="link" width="20" height="20"><path fill="currentColor" stroke="currentColor" d="M74,8c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-2.9,2.9-4.7,6.6-5.1,10.6C46,34.6,46,35.3,46,36c0,2.7,0.6,5.4,1.8,7.8l3.1-3.1 C50.3,39.2,50,37.6,50,36c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1s7.3,1.5,9.9,4.1c2.6,2.6,4.1,6.2,4.1,9.9 s-1.5,7.3-4.1,9.9l-10,10C71.3,48.5,67.7,50,64,50c-1.6,0-3.2-0.3-4.7-0.8l-3.1,3.1c2.4,1.1,5,1.8,7.8,1.8c4.8,0,9.3-1.9,12.7-5.3 l10-10C90.1,35.3,92,30.8,92,26s-1.9-9.3-5.3-12.7C83.3,9.9,78.8,8,74,8L74,8z M62,36c-0.5,0-1,0.2-1.4,0.6l-24,24 c-0.5,0.5-0.7,1.2-0.6,1.9c0.2,0.7,0.7,1.2,1.4,1.4c0.7,0.2,1.4,0,1.9-0.6l24-24c0.6-0.6,0.8-1.5,0.4-2.2C63.5,36.4,62.8,36,62,36 z M36,46c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-3.1,3.1-5,7.2-5.2,11.6c0,0.4,0,0.8,0,1.2c0,4.8,1.9,9.3,5.3,12.7 C16.7,90.1,21.2,92,26,92s9.3-1.9,12.7-5.3l10-10C52.1,73.3,54,68.8,54,64c0-2.7-0.6-5.4-1.8-7.8l-3.1,3.1 c0.5,1.5,0.8,3.1,0.8,4.7c0,3.7-1.5,7.3-4.1,9.9l-10,10C33.3,86.5,29.7,88,26,88s-7.3-1.5-9.9-4.1S12,77.7,12,74 c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1c1.6,0,3.2,0.3,4.7,0.8l3.1-3.1C41.4,46.6,38.7,46,36,46L36,46z"></path></svg></a>`,this.editDom.style.overflow="auto",m.appendChild(f),m.appendChild(v),this.isMindmapRichMode(l))yield u(null===(t=this.mindmap.view)||void 0===t?void 0:t.plugin,this.mindmap.view.app,h,n,this,this.mindmap.colors,this.mindmap.setting,(e=>{this._refreshImage(n,e),setTimeout((()=>{e.toDiv(!0),e.containerEL.style.visibility="visible",e.center(),e.root.unSelect(),this.clearCacheData(),this.refreshBox(),this.mindmap&&this.mindmap.emit("renderEditNode",{node:i.tNode?i.tNode:i}),this._createHandDrawFill()}),900)}));else{var d=l&&l.frontmatter;if(d)var p=!!d["display-mode"]&&"table"==d["display-mode"];yield c(null===(s=this.mindmap.view)||void 0===s?void 0:s.plugin,this.mindmap.view.app,h,n,this,this.mindmap.colors,this.mindmap.setting,(e=>{this._refreshImage(n,e),setTimeout((()=>{e.toDiv(!0),e.containerEL.style.visibility="visible",e.center(),e.root.unSelect(),this.clearCacheData(),this.refreshBox(),this.mindmap&&this.mindmap.emit("renderEditNode",{node:i.tNode?i.tNode:i}),this._createHandDrawFill()}),900)}),0,p)}}else{if(!(a=yield this.mindmap.view.app.vault.adapter.read(h.path)).trim())return;var m,f,g,v;if((m=document.createElement("div")).classList.add("markdown-embed"),m.setAttribute("data-name",h.path),(f=document.createElement("div")).classList.add("markdown-embed-content"),(g=document.createElement("div")).classList.add("markdown-preview-view"),f.appendChild(g),(v=document.createElement("div")).classList.add("markdown-embed-link"),v.setAttribute("aria-label","Open link"),v.innerHTML=`<a data-href="${r}" href="${r}" class="internal-link" target="_blank" rel="noopener"><svg viewBox="0 0 100 100" class="link" width="20" height="20"><path fill="currentColor" stroke="currentColor" d="M74,8c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-2.9,2.9-4.7,6.6-5.1,10.6C46,34.6,46,35.3,46,36c0,2.7,0.6,5.4,1.8,7.8l3.1-3.1 C50.3,39.2,50,37.6,50,36c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1s7.3,1.5,9.9,4.1c2.6,2.6,4.1,6.2,4.1,9.9 s-1.5,7.3-4.1,9.9l-10,10C71.3,48.5,67.7,50,64,50c-1.6,0-3.2-0.3-4.7-0.8l-3.1,3.1c2.4,1.1,5,1.8,7.8,1.8c4.8,0,9.3-1.9,12.7-5.3 l10-10C90.1,35.3,92,30.8,92,26s-1.9-9.3-5.3-12.7C83.3,9.9,78.8,8,74,8L74,8z M62,36c-0.5,0-1,0.2-1.4,0.6l-24,24 c-0.5,0.5-0.7,1.2-0.6,1.9c0.2,0.7,0.7,1.2,1.4,1.4c0.7,0.2,1.4,0,1.9-0.6l24-24c0.6-0.6,0.8-1.5,0.4-2.2C63.5,36.4,62.8,36,62,36 z M36,46c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-3.1,3.1-5,7.2-5.2,11.6c0,0.4,0,0.8,0,1.2c0,4.8,1.9,9.3,5.3,12.7 C16.7,90.1,21.2,92,26,92s9.3-1.9,12.7-5.3l10-10C52.1,73.3,54,68.8,54,64c0-2.7-0.6-5.4-1.8-7.8l-3.1,3.1 c0.5,1.5,0.8,3.1,0.8,4.7c0,3.7-1.5,7.3-4.1,9.9l-10,10C33.3,86.5,29.7,88,26,88s-7.3-1.5-9.9-4.1S12,77.7,12,74 c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1c1.6,0,3.2,0.3,4.7,0.8l3.1-3.1C41.4,46.6,38.7,46,36,46L36,46z"></path></svg></a>`,n.appendChild(m),m.appendChild(f),m.appendChild(v),o.subpath){var y=this.mindmap.view.app.metadataCache.getFileCache(h),A=e.resolveSubpath(y,o.subpath);if(A&&A.start&&A.end)var x=a.substring(A.start.offset,A.end.offset);else if(A&&A.start&&!A.end)x=a.substr(A.start.offset);else x=a||""}else x=a||"";x&&e.MarkdownRenderer.renderMarkdown(x,g,this.mindmap.path||"",null).then((()=>{this.refreshBox(),this.mindmap&&this.mindmap.emit("renderEditNode",{node:i.tNode?i.tNode:i}),this._createHandDrawFill()}))}}}}})))),setTimeout((()=>{this._refreshImage(this.editDom,this.mindmap),(this.editDom.querySelector("code")||this.editDom.querySelector(".MathJax")||this.editDom.querySelector(".callout"))&&setTimeout((()=>{this.clearCacheData(),this.refreshBox(),this._deleyRefreshLayout(i,this.mindmap),this._createHandDrawFill()}),200),this.editDom.findAll("a.external-link").length&&setTimeout((()=>{this.clearCacheData(),this.refreshBox(),this._createHandDrawFill(),this.mindmap&&(this.mindmap._initTime&&clearTimeout(this.mindmap._initTime),this.mindmap._initTime=setTimeout((()=>{this._deleyRefreshLayout(i,this.mindmap)}),600))}),300),setTimeout((()=>{this.refreshBox(),this._createHandDrawFill()}),1500)}),280)}_delayRefresh(){}getRootLayout(){for(var e=this,t=null;e;)t=e.layout,e=e.belongInduce?e.belongInduce.node:e.parent;return t}select(){this.isSelect=!0,"relateLink"==this.nodeType||"callout"==this.nodeType?this.containEl.setAttribute("draggable","false"):this.containEl.setAttribute("draggable","true"),Object.assign(window,{myNode:this}),this.containEl.classList.contains("mm-node-select")||this.containEl.classList.add("mm-node-select"),this.mindmap.selectNode=this,this.tNode&&this.tNode.select()}unSelect(){this.isSelect=!1,this.containEl.setAttribute("draggable","false"),this.containEl.classList.contains("mm-node-select")&&this.containEl.classList.remove("mm-node-select")}edit(){this.editDom.innerText="",this._oldText=this.data.text,this.editDom.innerText=this._oldText,this.editDom.setAttribute("contentEditable","true"),this.containEl.setAttribute("draggable","false"),this.editDom.focus(),this.mindmap.editNode=this,this.isEdit=!0,this.data.cover&&this.coverDom&&(this.coverDom.style.display="none"),Ae(this.editDom),this.editDom.innerText!=r("Sub title")&&"callout"!=this.editDom.innerText||this.selectText(),this.containEl.classList.contains("mm-edit-node")||this.containEl.classList.add("mm-edit-node")}selectText(){var e=this.editDom;if(this.editDom.win.getSelection){var t=this.editDom.win.getSelection(),i=this.editDom.doc.createRange();i.selectNodeContents(e),t.removeAllRanges(),t.addRange(i)}}cancelEdit(){var t;if(this.shouldRender){var i=this.editDom.innerText.trim()||"";this.data.text=i,this.editDom.innerText="",this.data.cover&&this.coverDom&&(this.coverDom.style.display=""),e.MarkdownRenderer.renderMarkdown(i,this.editDom,this.mindmap.path||"",null===(t=this.mindmap.view)||void 0===t?void 0:t.plugin).then((()=>{this.data.mdText=this.editDom.innerHTML,this.refreshBox(),this._delay()})),i!=this._oldText&&(this.mindmap.execute("changeNodeText",{node:this.tNode?this.tNode:this,text:i,oldText:this._oldText}),this.callout&&this.callout.refresh()),this.editDom.setAttribute("contentEditable","false"),this.isEdit=!1,this.containEl.classList.contains("mm-edit-node")&&this.containEl.classList.remove("mm-edit-node"),this.mindmap.appEl.focus(),this.mindmap.editNode=null}}getLevel(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}getChildren(){return this.children}setPosition(e,t){this.box.x=e,this.box.y=t,this.containEl.style.left=e+"px",this.containEl.style.top=t+"px",this.data.x=e,this.data.y=t}getPosition(){return{x:this.box.x,y:this.box.y}}move(e,t){var i=this.getPosition();this.setPosition(i.x+e,i.y+t)}getStyle(){return Object.assign({},this.style)}setStyle(e,t){t&&e?this.style=e:e&&(this.style=Object.assign({},this.style,e));var i=this.style,n="";for(var s in this.style)n+="font-size"==s||"border-width"==s?`${s}:${i[s]}px;`:`${s}:${i[s]};`;this.contentEl.setAttribute("style",n),this.nodeType&&"callout"==this.nodeType&&this.callout&&(this.callout.color=this.style["background-color"]||this.callout.color,this.callout.refresh())}isEmptyObject(e){for(var t in e)return!1;return!0}getData(){var e=Object.assign({},this.data);if(e.mdText&&delete e.mdText,this.layout?e.layout={layoutName:this.layout.layoutName,direct:this.layout.direct}:e.layout=null,"freeNode"==this.nodeType){e.main=!1;var t=this.getPosition();e.x=t.x,e.y=t.y}return this.isExpand&&(e.isExpand=!0),this.parent&&(e.pid=this.parent.getId()),e.children&&delete e.children,e.stroke=this.stroke||"",this.isEmptyObject(this.style)||(e.style=Object.assign({},this.style)),this.belongInduce&&(e.direct=this.direct),JSON.parse(JSON.stringify(e))}refreshBox(){this.box=this.getDomBox()}getBox(){return Object.assign({},this.box)}refreshCBox(){this.box=this.getCBox()}getContainBox(){return this.containBar?this.containBox:this.box}getCBox(e){var t=this.getBox(),i=0,n=0;if(this.callout){var s=this.callout.getBox();s.y<t.y&&(i=t.y-s.y),s.y+s.height>t.y+t.height&&(n=s.y+s.height-t.y-t.height)}if(e&&this.wfs.length){var r=0;this.wfs.forEach((e=>{if(e.data&&e.data.text){var t=e.getTextBox().height;r+=t}})),i+=r+3,n+=3}return Object.assign(Object.assign({},t),{th:i,bh:n})}getContainDomBox(){var e=parseInt(this.containEl.style.top);return{x:parseInt(this.containEl.style.left),y:e,width:Math.ceil(this.containEl.offsetWidth),height:Math.ceil(this.containEl.offsetHeight),th:0,bh:0}}getDomBox(){var e=parseInt(this.containEl.style.top);return{x:parseInt(this.containEl.style.left)||0,y:e||0,width:Math.ceil(this.contentEl.offsetWidth),height:Math.ceil(this.contentEl.offsetHeight),th:0,bh:0}}getNodeList(){var e=[];return function t(i){e.push(i),i.children.forEach((e=>{t(e)}))}(this),e}getShowNodeList(){var e=[];return function t(i){i.isShow()&&e.push(i),i.children.forEach((e=>{t(e)}))}(this),e}getSiblings(){return this.parent?this.parent.children.filter((e=>e!=this)):[]}isLeaf(){return!this.children.length}isShow(){return"none"!=this.containEl.style.display}show(){this.containEl.style.display="block",this.isHide=!1}hide(){this.containEl.style.display="none",this.isHide=!0}clearCacheData(){for(var e=this;e;)e.boundingRect=null,e=e.parent||e.belongInduce&&e.belongInduce.node}addChild(e,t){-1==this.children.indexOf(e)&&(t>-1?(t>this.children.length&&(t=this.children.length),this.children.splice(t,0,e)):this.children.push(e),e.parent=this)}removeChild(e){var t=this.children.indexOf(e);return t>-1&&this.children.splice(t,1),t}setText(e){this.data.text=e,this.editDom.innerHTML="",this.parseText()}expand(){this.isExpand=!0,this.data.isExpand=!0,function e(t){t.show(),t.boundingRect=null,t.induces.length&&t.induces.forEach((t=>{e(t.root)})),t.isExpand&&(t.layout&&(t.layout.svgDom&&(t.layout.svgDom.show(),t.layout.isShow=!0),t.layout.group&&(t.layout.group.show(),t.layout.isShow=!0),t.layout.tableDom&&(t.layout.tableDom.style.display="")),t.children.forEach((t=>{e(t)})))}(this),function e(t){t.isShow()||t.show(),t.refreshBox(),t.isExpand&&t.children.forEach((t=>{e(t)})),t.wfs.length&&t.wfs.forEach((e=>{e.show(),e.refreshItems()})),t.induces.length&&t.induces.forEach((t=>{t.show(),t.refreshItems(),e(t.root)}))}(this),this.containEl.classList.contains("mm-node-collapse")&&this.containEl.classList.remove("mm-node-collapse")}collapse(){function e(t){t.hide(),t.setPosition(10,10),t.induces.length&&t.induces.forEach((t=>{e(t.root)})),t.layout&&(t.layout.tableDom&&(t.layout.tableDom.style.display="none"),t.layout.svgDom&&(t.layout.svgDom.hide(),t.layout.isShow=!1),t.layout.group&&(t.layout.group.hide(),t.layout.isShow=!1)),t.isExpand&&t.children.forEach((t=>{e(t)}))}this.children.forEach((t=>{e(t)})),this.isExpand=!1,this.data.isExpand=!1,this.containEl.classList.contains("mm-node-collapse")||this.containEl.classList.add("mm-node-collapse"),this.layout&&(this.layout.tableDom&&(this.layout.tableDom.style.display="none"),this.layout.svgDom&&(this.layout.svgDom.hide(),this.layout.isShow=!1),this.layout.group&&(this.layout.group.hide(),this.layout.isShow=!1)),this.getMind().updateAllAssist()}isFirst(){if(this.parent){var e=this.parent.getChildren();return e&&0==e.indexOf(this)}return!0}isLast(){if(this.parent){var e=this.parent.getChildren();return e.length&&e.indexOf(this)==e.length-1}return!0}getNodeLayout(){return this.layout}getLayout(){for(var e=this,t=null;e;){if(e.layout){t=e.layout;break}e=e.parent}return t}getTopLayout(){if(!this.parent)return this.layout||null;var e=this,t=null,i=this.layout;for(this.layout=null;e;){if(e.layout){t=e.layout;break}e=e.parent}return this.layout=i,this.topLayout=t,t}getMind(){return this.mindmap||null}setAnnotate(e){"highlight"==e.type?(this.editDom.innerHTML=e.selectText,this.editDom.focus(),Ae(this.editDom)):(this.editDom.innerHTML=`![[${e.path}]]`,this.editDom.focus(),Ae(this.editDom)),this.data.annotate=e,this.updateAnnotate()}updateAnnotate(){!this.annotateDom&&this.data.annotate&&(this.annotateDom=document.createElement("div"),this.annotateDom.innerHTML='<svg t="1629010944160" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12916" width="16" height="16"><path d="M672.711111 662.670222L361.329778 351.232l266.979555-222.464 266.951111 266.951111-222.492444 266.951111z" fill="#FF445F" p-id="12917"></path><path d="M984.177778 395.719111a125.724444 125.724444 0 0 1-177.92 0l-177.976889-177.948444a125.895111 125.895111 0 0 1 177.976889-178.005334L984.177778 217.770667a125.838222 125.838222 0 0 1 0 177.948444z" fill="#EF5350" p-id="12918"></path><path d="M398.222222 506.965333S-16.867556 996.380444 5.347556 1018.680889C27.591111 1040.952889 517.034667 625.777778 517.034667 625.777778L398.222222 506.965333z" fill="#C4C6CF" p-id="12919"></path><path d="M717.226667 796.188444a125.838222 125.838222 0 0 1-178.005334 0L227.811556 484.721778a125.866667 125.866667 0 0 1 178.005333-177.948445l311.409778 311.438223a125.866667 125.866667 0 0 1 0 177.976888z" fill="#EF5350" p-id="12920"></path></svg>',this.annotateDom.classList.add("mm-node-annotate"),this.assistDom.appendChild(this.annotateDom))}deleteAnnotate(){this.annotateDom&&(this.assistDom.removeChild(this.annotateDom),this.annotateDom=null,this.data.annotate=null)}getAnnotateId(){return this.data.annotate?this.data.annotate.id:null}getAnnotate(){return this.data.annotate?JSON.parse(JSON.stringify(this.data.annotate)):null}updateNote(){if(this.plgDom.innerHTML="",this.data.note){var e=document.createElement("span");this.plgDom.appendChild(e),e.innerHTML='<svg t="1635666821412" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20498" width="16" height="16"><path d="M832 64 192 64C121.6 64 64 121.6 64 192l0 512c0 70.4 57.6 128 128 128l128 0 132.096 120.448C459.072 957.632 466.88 960 474.432 960 493.824 960 512 944.704 512 922.496L512 832l320 0c70.4 0 128-57.6 128-128L960 192C960 121.6 902.4 64 832 64zM896 704c0 35.328-28.672 64-64 64L512 768c-16.96 0-33.28 6.72-45.248 18.752S448 815.04 448 832l0 30.08-84.864-77.376C351.296 773.952 335.936 768 320 768L192 768c-35.328 0-64-28.672-64-64L128 192c0-35.328 28.672-64 64-64l640 0c35.328 0 64 28.672 64 64L896 704zM736 320l-448 0C270.336 320 256 334.336 256 352S270.336 384 288 384l448 0C753.664 384 768 369.664 768 352S753.664 320 736 320zM736 512l-448 0C270.336 512 256 526.336 256 544S270.336 576 288 576l448 0C753.664 576 768 561.664 768 544S753.664 512 736 512z" p-id="20499"></path></svg>',e.style.display="flex",e.style.alignItems="center",e.style.margin="0 4px",e.style.cursor="pointer",e.classList.add("mm-note-span")}}setNote(e){this.data.note=e,this.updateNote()}}class be{constructor(e,t){this.children=[],this.hasInit=!1,this.isSelect=!1,this.isExpand=!0,this.isEdit=!1,this.layout=null,this.induces=[],this.wireFrames=[],this.wfs=[],this.summaries=[],this.callout=null,this._tableDom=null,this.style={},this.isHide=!1,this.nodeType="",this.data=e,t&&(this.mindmap=t),e.style&&(this.style=e.style),this.iNode=new xe(e,t),this.iNode.tNode=this}init(e){this.hasInit||(0==this.getLevel()?(this.tdDom=document.createElement("th"),this.tdDom.setAttribute("colspan",e)):this.tdDom=document.createElement("td"),this.tdDom.appendChild(this.iNode.containEl),this.tdDom.setAttribute("data-id",this.data.id),this.hasInit=!0,this.setStyle())}_initTdDom(e){this.hasInit||(0==this.getLevel()?(this.tdDom=document.createElement("th"),this.tdDom.setAttribute("colspan",e)):this.tdDom=document.createElement("td"),this.tdDom.innerText=this.data.text,this.tdDom.setAttribute("data-id",this.data.id),this.hasInit=!0)}getLevel(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}isLeaf(){return!this.children.length}isFirst(){if(this.parent){var e=this.parent.getChildren();return e&&0==e.indexOf(this)}return!0}isLast(){if(this.parent){var e=this.parent.getChildren();return e.length&&e.indexOf(this)==e.length-1}return!0}getChildren(){return this.children}getId(){return this.data.id}unSelect(){this.isSelect=!1}select(){this.isSelect=!0,this.mindmap.selectNode=this}getOffset(e,t){for(var i=0,n=0;e&&e!=t;)i+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent||e.parentElement||e.parentNode;return{x:i,y:n}}getBox(e){if(this._tableDom)var t=parseInt(this._tableDom.style.left),i=parseInt(this._tableDom.style.top),n=this.getOffset(this.iNode.containEl,this._tableDom);else t=parseInt(this.mindmap.tableDom.style.left),i=parseInt(this.mindmap.tableDom.style.top),n=this.getOffset(this.iNode.containEl,this.mindmap.tableDom);return{x:n.x+t,y:n.y+i,width:this.iNode.containEl.clientWidth,height:this.iNode.containEl.clientHeight}}getDomBox(){return this.getBox()}clearCacheData(){for(var e=this;e;)e.boundingRect=null,e=e.parent||e.belongInduce&&e.belongInduce.node}expand(){this.isExpand=!0,this.data.isExpand=!0,this.layout&&this.layout.tableDom&&(this.layout.tableDom.style.display="")}hide(){this.isHide=!0,this.layout&&this.layout.tableDom&&(this.layout.tableDom.style.display="none")}show(){this.isHide=!1,this.layout&&this.layout.tableDom&&(this.layout.tableDom.style.display="")}isShow(){return!this.isHide}collapse(){this.isExpand=!1,this.data.isExpand=!1,this.layout&&this.layout.tableDom&&(this.layout.tableDom.style.display="none")}refreshBox(){}getAnnotateId(){}addChild(e,t){-1==this.children.indexOf(e)&&(t>-1?(t>this.children.length&&(t=this.children.length),this.children.splice(t,0,e)):this.children.push(e),e.parent=this)}removeChild(e){var t=this.children.indexOf(e);return t>-1&&this.children.splice(t,1),t}getData(){var e=Object.assign({},this.data);return e.mdText&&delete e.mdText,e.isExpand=this.isExpand,this.parent&&(e.pid=this.parent.getId()),e.children&&delete e.children,this.style&&(e.style=Object.assign({},this.style)),this.layout&&(e.layout={layoutName:"table",direct:""}),JSON.parse(JSON.stringify(e))}setStyle(e,t){t&&e?this.style=e:e&&(this.style=Object.assign(Object.assign({},this.style),e));var i=this.style,n="";for(var s in this.style)n+="font-size"==s||"border-width"==s?`${s}:${i[s]}px;`:`${s}:${i[s]};`;this.tdDom.setAttribute("style",n),this.iNode.setStyle(this.style),this.nodeType&&"callout"==this.nodeType&&this.callout&&(this.callout.color=this.style["background-color"]||this.callout.color,this.callout.refresh())}getStyle(){return this.style}setNote(e){this.data.note=e,this.iNode.setNote(e)}edit(){this.isEdit=!0,this.iNode.edit()}cancelEdit(){this.isEdit=!1,this.iNode.cancelEdit()}setText(e){this.data.text=e}selectText(){this.iNode.selectText()}getMind(){return this.mindmap}getShowNodeList(){var e=[];return this.layout&&"table"==this.layout.layoutName&&e.push(this),e}setPosition(e,t){this.data.x=e,this.data.y=t,this.layout&&this.layout.setPosition(e,t)}getPosition(){return this.getBox()}move(e,t){var i=this.getPosition();this.setPosition(i.x+e,i.y+t)}getLayout(){for(var e=this,t=null;e;){if(e.layout){t=e.layout;break}e=e.parent}return t}getNodeLayout(){return this.layout}getRootLayout(){for(var e=this,t=null;e;)t=e.layout,e=e.belongInduce?e.belongInduce.node:e.parent;return t}getTopLayout(){if(!this.parent)return this.layout||null;var e=this,t=null,i=this.layout;for(this.layout=null;e;){if(e.layout){t=e.layout;break}e=e.parent}return this.layout=i,this.topLayout=t,t}refreshCBox(){this.box=this.getCBox()}getContainBox(){return this.containBar?this.containBox:this.box}getCBox(e){var t=this.getBox(),i=0,n=0;if(this.callout){var s=this.callout.getBox();s.y<t.y&&(i=t.y-s.y),s.y+s.height>t.y+t.height&&(n=s.y+s.height-t.y-t.height)}if(e&&this.wfs.length){var r=0;this.wfs.forEach((e=>{if(e.data&&e.data.text){var t=e.getTextBox().height;r<t&&(r=t)}})),i+=r+3,n+=3}return Object.assign(Object.assign({},t),{th:i,bh:n})}getSiblings(){return this.parent?this.parent.children.filter((e=>e!=this)):[]}getLink(){return this.iNode?this.iNode.getLink():""}getImage(){return this.iNode?this.iNode.getImage():""}}var we="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ke(e){var t={exports:{}};return e(t,t.exports),t.exports}function Ce(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ee=ke((function(e,t){!function(i,n){var s=function(){var e=null,t={};f();var i=[],n=function(t){if(void 0!==(t=t||{}).seed&&null!==t.seed&&t.seed===parseInt(t.seed,10))e=t.seed;else if("string"==typeof t.seed)e=A(t.seed);else{if(void 0!==t.seed&&null!==t.seed)throw new TypeError("The seed value must be an integer or string");e=null}var h,l;if(null!==t.count&&void 0!==t.count){for(var d=t.count,c=[],u=0;u<t.count;u++)i.push(!1);for(t.count=null;d>c.length;){var p=n(t);null!==e&&(t.seed=e),c.push(p)}return t.count=d,c}return a([h=s(t),l=r(h,t),o(h,l,t)],t)};function s(e){if(i.length>0){var t=u(r=x(e.hue)),n=(r[1]-r[0])/i.length,s=parseInt((t-r[0])/n);return!0===i[s]?s=(s+2)%i.length:i[s]=!0,(t=u(r=[(r[0]+s*n)%359,(r[0]+(s+1)*n)%359]))<0&&(t=360+t),t}var r;return(t=u(r=l(e.hue)))<0&&(t=360+t),t}function r(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return u([0,100]);var i=d(e),n=i[0],s=i[1];switch(t.luminosity){case"bright":n=55;break;case"dark":n=s-10;break;case"light":s=55}return u([n,s])}function o(e,t,i){var n=h(e,t),s=100;switch(i.luminosity){case"dark":s=n+20;break;case"light":n=(s+n)/2;break;case"random":n=0,s=100}return u([n,s])}function a(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return y(e);case"hsl":var i=y(e);return"hsl("+i[0]+", "+i[1]+"%, "+i[2]+"%)";case"hsla":var n=y(e),s=t.alpha||Math.random();return"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+s+")";case"rgbArray":return g(e);case"rgb":return"rgb("+g(e).join(", ")+")";case"rgba":var r=g(e);s=t.alpha||Math.random();return"rgba("+r.join(", ")+", "+s+")";default:return p(e)}}function h(e,t){for(var i=c(e).lowerBounds,n=0;n<i.length-1;n++){var s=i[n][0],r=i[n][1],o=i[n+1][0],a=i[n+1][1];if(t>=s&&t<=o){var h=(a-r)/(o-s);return h*t+(r-h*s)}}return 0}function l(e){if("number"==typeof parseInt(e)){var i=parseInt(e);if(i<360&&i>0)return[i,i]}if("string"==typeof e)if(t[e]){var n=t[e];if(n.hueRange)return n.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var s=v(e)[0];return[s,s]}return[0,360]}function d(e){return c(e).saturationRange}function c(e){for(var i in e>=334&&e<=360&&(e-=360),t){var n=t[i];if(n.hueRange&&e>=n.hueRange[0]&&e<=n.hueRange[1])return t[i]}return"Color not found"}function u(t){if(null===e){var i=.618033988749895,n=Math.random();return n+=i,n%=1,Math.floor(t[0]+n*(t[1]+1-t[0]))}var s=t[1]||1,r=t[0]||0,o=(e=(9301*e+49297)%233280)/233280;return Math.floor(r+o*(s-r))}function p(e){var t=g(e);function i(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+i(t[0])+i(t[1])+i(t[2])}function m(e,i,n){var s=n[0][0],r=n[n.length-1][0],o=n[n.length-1][1],a=n[0][1];t[e]={hueRange:i,lowerBounds:n,saturationRange:[s,r],brightnessRange:[o,a]}}function f(){m("monochrome",null,[[0,0],[100,0]]),m("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),m("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),m("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),m("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),m("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),m("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),m("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function g(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var i=e[1]/100,n=e[2]/100,s=Math.floor(6*t),r=6*t-s,o=n*(1-i),a=n*(1-r*i),h=n*(1-(1-r)*i),l=256,d=256,c=256;switch(s){case 0:l=n,d=h,c=o;break;case 1:l=a,d=n,c=o;break;case 2:l=o,d=n,c=h;break;case 3:l=o,d=a,c=n;break;case 4:l=h,d=o,c=n;break;case 5:l=n,d=o,c=a}return[Math.floor(255*l),Math.floor(255*d),Math.floor(255*c)]}function v(e){e=3===(e=e.replace(/^#/,"")).length?e.replace(/(.)/g,"$1$1"):e;var t=parseInt(e.substr(0,2),16)/255,i=parseInt(e.substr(2,2),16)/255,n=parseInt(e.substr(4,2),16)/255,s=Math.max(t,i,n),r=s-Math.min(t,i,n),o=s?r/s:0;switch(s){case t:return[(i-n)/r%6*60||0,o,s];case i:return[60*((n-t)/r+2)||0,o,s];case n:return[60*((t-i)/r+4)||0,o,s]}}function y(e){var t=e[0],i=e[1]/100,n=e[2]/100,s=(2-i)*n;return[t,Math.round(i*n/(s<1?s:2-s)*1e4)/100,s/2*100]}function A(e){for(var t=0,i=0;i!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);i++)t+=e.charCodeAt(i);return t}function x(e){if(isNaN(e)){if("string"==typeof e)if(t[e]){var i=t[e];if(i.hueRange)return i.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){return c(v(e)[0]).hueRange}}else{var n=parseInt(e);if(n<360&&n>0)return c(e).hueRange}return[0,360]}return n}();e&&e.exports&&(t=e.exports=s),t.randomColor=s}()}));class De{constructor(e){this.edges=[],this.isShow=!0,this.lineWeight=!0,this.svgDom=null,this.name=e}layout(e,t){}refresh(){}addEdge(e){this.edges.push(e)}removeEdge(e){var t=this.edges.indexOf(e);t>-1&&this.edges.splice(t,t)}moveNode(e,t,i){e&&e.move(t,i),e.callout&&e.callout.refresh(),e.wfs&&e.wfs.forEach((e=>{e.move(t,i)})),e.induces&&e.induces.forEach((e=>{e.move(t,i),this.moveNode(e.root,t,i)})),e&&e.children.forEach((e=>{this.moveNode(e,t,i)}))}linePoint(e,t){let i=0;var n=Math.ceil;return t%2==1&&(i=.5,n=parseInt),e.map((e=>[n(e[0])+i,n(e[1])+i]))}_updateNodeAssist(e,t){for(var i=e;i;){i.callout&&i.callout.refresh();var n=i.wireFrames,s=i.summaries;if(n.length&&n.forEach((t=>{t.items.indexOf(e)>-1&&(t.refreshNode(),t.refresh())})),s.length&&s.forEach((t=>{t.items.indexOf(e)>-1&&(t.refreshNode(),t.refresh())})),t){if(i==t)break;i=i.parent}else i=i.parent}}_updateRootAssist(){this.root.induce&&(this.root.induce.refreshItems(),this.root.induce.refresh()),this.root.wireFrame&&(this.root.wireFrame.refreshItems(),this.root.wireFrame.refresh())}}class Ne extends De{constructor(e,t,i){super("minder"),this.layoutName="mindmap",this.direct="",this.levelDis=40,this.nodeDis=8,this.firstLevelDis=80,this.firstNodeDis=20,this.isCache=!0,this.lefts=[],this.rights=[],this.colors=[],this.lineWidth=2,this.root=e,this.mind=this.root.mindmap,this.direct=t||"mindmap",this.colors=i||[],this.svgDom=this.mind.edgeGroup.group()}layout(e,t){e&&(this.root=e),this.root.isExpand&&(this.svgDom||(this.svgDom=this.root.mindmap.edgeGroup.group()),this.root.layout=this,t&&(this.direct=t),this.root.nodeType&&"induce"==this.root.nodeType&&(this.firstLevelDis=20,this.firstNodeDis=10),this.root.nodeType&&"freeNode"==this.root.nodeType&&(this.root.containEl.classList.contains("mm-root")||this.root.containEl.classList.add("mm-root")),this.lefts=[],this.rights=[],this.root.isShow()&&(this.setDirect(),this._layoutSecondLevelNode(this.root)),this.createLink())}setDirect(){var e=this,t=this.root.children.length,i=this.root;"right"==this.direct?(this.rights=i.children,this.rights.forEach((e=>{this._setDirect(e,"right")}))):"left"==this.direct?(this.lefts=i.children,this.lefts.forEach((e=>{this._setDirect(e,"left")}))):i.children.forEach((function(i,n){n<t/2?(e.rights.push(i),e._setDirect(i,"right")):(e.lefts.push(i),e._setDirect(i,"left"))}))}_setDirect(e,t){if(e.direct=t,e.containEl){var i=e.containEl.classList.contains("mm-node-second");e.containEl.setAttribute("class",""),e.containEl.classList.add("mm-node"),e.containEl.classList.add("mm-node-"+t),e.containEl.classList.add(`mm-${this.layoutName}-node`),e.isLeaf()&&!e.containEl.classList.contains("mm-node-leaf")?e.containEl.classList.add("mm-node-leaf"):e.containEl.classList.contains("mm-node-leaf")&&e.containEl.classList.remove("mm-node-leaf"),1==e.getLevel()&&"induce"!=this.root.nodeType&&(e.containEl.classList.add("mm-node-second"),e.refreshBox()),i&&e.refreshBox(),e.isExpand||e.containEl.classList.add("mm-node-collapse"),e.isSelect&&e.containEl.classList.add("mm-node-select")}!e.layout&&e.isExpand&&e.children.forEach((e=>{this._setDirect(e,t)}))}_layoutSecondLevelNode(e){this._layoutMinder(),"induce"!=this.root.nodeType&&this._doRefresh(),this._updateRootAssist()}_doRefresh(){var e=this.root,t=e.getPosition(),i=e.getBox(),n=t.y+i.height/2,s=e.getChildren(),r=s.filter((e=>"right"==e.direct)),o=s.filter((e=>"left"==e.direct));if(r.length>=2){var a=r[0],h=r[r.length-1],l=a.getPosition(),d=h.getPosition(),c=h.getBox(),u=d.y+c.height-n,p=n-l.y;if(Math.abs(u)!=Math.abs(p)){var m=Math.abs(Math.abs(u)-Math.abs(p))/2;Math.abs(u)>Math.abs(p)?r.forEach((e=>{this.moveNode(e,0,-parseInt(m+""))})):r.forEach((e=>{this.moveNode(e,0,parseInt(m+""))}))}}if(o.length>=2){a=o[0],h=o[o.length-1],l=a.getPosition(),d=h.getPosition(),c=h.getBox(),u=d.y+c.height-n,p=n-l.y;if(Math.abs(u)!=Math.abs(p)){m=Math.abs(Math.abs(u)-Math.abs(p))/2;Math.abs(u)>Math.abs(p)?o.forEach((e=>{this.moveNode(e,0,-parseInt(m+""))})):o.forEach((e=>{this.moveNode(e,0,parseInt(m+""))}))}}}updateRight(){var e=this.root.getPosition(),t=this.root.getBox(),i=this.rights,n=this._getNodesHeight(i),s=[parseInt(e.x+t.width+this.firstLevelDis+""),parseInt(e.y+t.height/2-n/2+"")];i.forEach((e=>{e.setPosition(s[0],s[1]);var t=e.getBox();s[1]+=parseInt(t.height+this.firstNodeDis+"")})),i.forEach((e=>{this._layoutRight(e)}))}updateLeft(){var e=this.root.getPosition(),t=this.root.getBox(),i=this.lefts,n=this._getNodesHeight(i),s=[parseInt(e.x-this.firstLevelDis+""),parseInt(e.y+t.height/2-n/2+"")];i.forEach((e=>{var t=e.getBox();e.setPosition(parseInt(s[0]-t.width+""),parseInt(s[1]+"")),s[1]+=t.height+this.firstNodeDis})),i.forEach((e=>{this._layoutLeft(e)}))}_layoutMinder(){this.updateRight(),this.updateLeft(),this._doLayout(this.root)}_getNodesHeight(e){if(e[0]&&1==e[0].getLevel())var t=this.firstNodeDis;else t=this.nodeDis;var i=0;return e.forEach(((n,s)=>{i+=n.getBox().height,s!=e.length-1&&(i+=t)})),i}_layoutRight(e){if(e.isExpand){var t=e.getPosition(),i=e.getBox(),n=this._getNodesHeight(e.children);e.callout&&e.callout.refresh();var s=[t.x+i.width+this.levelDis,i.y+i.height/2-n/2];if(e.children.forEach((e=>{e.setPosition(s[0],s[1]);var t=e.getBox();s[1]+=t.height+this.nodeDis})),e.layout)if("table"!=e.layout.layoutName){e.layout.layout(e,e.layout.direct||"");t=e.getPosition();i=e.mindmap.getBBox(e);var r=parseInt(Math.abs(t.x-i.x)+"");this.moveNode(e,r,0),e.boundingRect=null,e.direct="right"}else e.boundingRect=null,e.direct="right";else e.children.forEach((e=>{this._layoutRight(e)}))}}_updateNodeAssist(e){e.callout&&e.callout.refresh();var t=e.parent,i={};if(t){var n=t.wireFrames,s=t.summaries;n.length&&n.forEach((t=>{if(t.node==e&&(t.refresh(),t.data&&t.data.text))if(i[e.getId()])i[e.getId()].rangeNode=i[e.getId()].rangeNode.concat(t.rangeNode.slice()),i[e.getId()].rangeNode.unique();else{var n=t.getTextBox().height,s=t.rangeNode.slice();i[e.getId()]={node:e,wf:t,topDy:n+4,rangeNode:s}}})),s.length&&s.forEach((t=>{t.node==e&&t.refresh()}))}this.topInfo=i}_doLayout(e){var t=this,i=e.mindmap;i.traverseDF((e=>{if(e!=t.root&&e.isShow()){if(e.layout){if(e.layout!=t&&e.getTopLayout()!=t)return}else if(e.getLayout()!=t)return;t._updateNodeAssist(e);var n=e.getCBox();if(t.isCache&&e.boundingRect)var s=e.boundingRect;else{var r=e.getShowNodeList(),o=[],a=[],h=[],l=[];if(r.forEach((e=>{e.callout&&e.callout.isShow&&h.push(e.callout);var t=e.wireFrames;e.summaries.forEach((e=>{e.isShow()&&-1==a.indexOf(e)&&a.push(e)})),t.forEach((e=>{e.isHide||-1==o.indexOf(e)&&o.push(e)}))})),r=r.concat(o),a.forEach((e=>{r=r.concat(e.getAllItem()),l=l.concat(e.groups)})),(r=r.concat(h)).length)s=i.getBoundingRect(r)}var d=e.parent;if(d)var c=d.wireFrames,u=d.summaries;if(e.boundingRect)var p=e.boundingRect.topDy,m=e.boundingRect.downDy;else p=Math.abs(s.y-n.y),m=Math.abs(s.y+s.height-n.y-n.height),c&&c.length&&c.forEach((i=>{var n=i.topNode.getCBox();if(i.node==e&&(p+=Math.abs(6+n.th),t.topInfo[e.getId()]&&(p+=t.topInfo[e.getId()].topDy)),i.endNode&&i.endNode==e){var s=i.bottomNode.getCBox();m+=Math.abs(6+s.bh)}})),s.topDy=p,s.downDy=m,e.boundingRect=s;t._adjustNode(e,0,p,m),c&&c.length&&c.forEach((t=>{t.endNode==e&&t.refresh()})),u&&u.length&&u.forEach((t=>{t.endNode==e&&t.refresh()}))}}),e)}_layoutLeft(e){if(e.isExpand){var t=e.getPosition(),i=e.getBox(),n=this._getNodesHeight(e.children);e.callout&&e.callout.refresh();var s=[t.x-this.levelDis,t.y+i.height/2-n/2];if(e.children.forEach((e=>{var t=e.getBox();e.setPosition(s[0]-t.width,s[1]),s[1]+=t.height+this.nodeDis})),e.layout)if("table"!=e.layout.layoutName){e.layout.layout(e,e.layout.direct||"");t=e.getPosition();var r=e.mindmap.getBBox(e),o=Math.abs(t.x+i.width-r.x-r.width);this.moveNode(e,-o,0),e.direct="left",e.boundingRect=null}else e.direct="left",e.boundingRect=null;else e.children.forEach((e=>{this._layoutLeft(e)}))}}_adjustDoNode(e,t,i){if(e)for(var n=e.direct;e&&e!=this.root;){var s=e.getSiblings(),r=e.getPosition();s.forEach((e=>{e.direct==n&&(e.getPosition().y>r.y?this.moveNode(e,0,i):this.moveNode(e,0,-t))})),e=e.parent}}_adjustNode(e,t,i,n){if(e){var s=e.direct;if(e&&e!=this.root){var r=e.getSiblings(),o=e.getPosition();r.forEach((e=>{e.direct==s&&(e.getPosition().y>o.y?this.moveNode(e,t,n):this.moveNode(e,t,-i))}))}}}refresh(e){this.layout(this.root,e||this.direct),this.createLink()}createLink(){var e=this,t=this.root.mindmap;if(this.svgDom&&this.svgDom.clear(),0!=this.root.getChildren().length&&this.svgDom&&this.root.isShow()){var i=this.lineWidth;t.traverseBF((t=>{if(t.isExpand){var n=t.getChildren(),s=t.getBox(),r=t.getPosition(),o=t.getLevel(),a=n.length,h=2,l=1,d=2,c=1;1==a&&(h=4,l=1,d=4,c=3),n.forEach((n=>{var u=n.direct,p=n.getBox(),m=n.getPosition();let f=t.stroke?t.stroke:n.stroke?n.stroke:Ee();if("right"==u){if(0==o||1==o){var g=[s.width+r.x,s.height/2+r.y];if(0==o)var v=[m.x,p.height/2+m.y];else v=[p.width+m.x,p.height+m.y]}else g=[s.width+r.x,s.height+r.y],v=[p.width+m.x,p.height+m.y];if(0==o)var y=[(A=[g[0]+this.firstLevelDis/h*l,g[1]])[0],v[1]];else{var A=[g[0]+this.levelDis/h*l,g[1]];y=[g[0]+this.levelDis/d*c,v[1]]}}else{if(0==o||1==o){g=[r.x,s.height/2+r.y];if(0==o)v=[m.x+p.width,p.height/2+m.y];else v=[m.x,p.height+m.y]}else g=[r.x,s.height+r.y],v=[m.x,p.height+m.y];if(0==o)y=[(A=[g[0]-this.firstLevelDis/h*l,g[1]])[0],v[1]];else A=[g[0]-this.levelDis/h*l,g[1]],y=[g[0]-this.levelDis/d*c,v[1]]}if(1==a)if(1==o)var x=[g,A,y,v];else if(Math.abs(g[1]-v[1])>2)x=[g,y,v];else x=[g,v];else if(0==t.getLevel()){var b=[],w=[];if(t.getChildren().forEach((e=>{"right"==e.direct?b.push(e):w.push(e)})),b.length>=2&&0==b.indexOf(n)||b.length>=2&&b.indexOf(n)==b.length-1)if("right"==u){if(v[1]>g[1])var k=[A[0],v[1]-2],C=[A[0]+2,v[1]];else k=[A[0],v[1]+2],C=[A[0]+2,v[1]];x=[g,A,k,C,v]}else{if(v[1]>g[1])k=[A[0],v[1]-2],C=[A[0]-2,v[1]];else k=[A[0],v[1]+2],C=[A[0]-2,v[1]];x=[g,A,k,C,v]}else if(w.length>=2&&0==w.indexOf(n)||w.length>=2&&w.indexOf(n)==w.length-1)if("right"==u){if(v[1]>g[1])k=[A[0],v[1]-2],C=[A[0]+2,v[1]];else k=[A[0],v[1]+2],C=[A[0]+2,v[1]];x=[g,A,k,C,v]}else{if(v[1]>g[1])k=[A[0],v[1]-2],C=[A[0]-2,v[1]];else k=[A[0],v[1]+2],C=[A[0]-2,v[1]];x=[g,A,k,C,v]}else if(b.length>=2&&0!=b.indexOf(n)||b.length>=2&&b.indexOf(n)!=b.length-1||w.length>=2&&0!=w.indexOf(n)||w.length>=2&&w.indexOf(n)!=w.length-1)x=[y,v];if(1==b.length&&1==w.length)x=[g,v];if(b.length>1&&1==w.length)if("right"==u)x=[g,y,v];else x=[g,v]}else if("right"==u)if(n.isFirst()||n.isLast()){if(v[1]>g[1])k=[A[0],v[1]-2],C=[A[0]+2,v[1]];else k=[A[0],v[1]+2],C=[A[0]+2,v[1]];x=[g,A,k,C,v]}else x=[y,v];else if(n.isFirst()||n.isLast()){if(v[1]>g[1])k=[A[0],v[1]-2],C=[A[0]-2,v[1]];else k=[A[0],v[1]+2],C=[A[0]-2,v[1]];x=[g,A,k,C,v]}else x=[y,v];var E=e.svgDom.polyline(e.linePoint(x,i));E.fill("none"),E.stroke({color:f,width:i,linecap:"round",linejoin:"round"}),E.source=t,E.target=n}))}}),this.root)}}}class Ie extends Ne{constructor(e,t,i){super(e,t,i),this.firstLevelDis=50,this.levelDis=30,this.nodeDis=10,this.layoutName="mindmap1"}createLink(){var e=this,t=this.levelDis,i=this.direct;this.svgDom&&this.svgDom.clear();var n=this.root;if(this.svgDom&&this.root.isShow()){var s=this.root.getLevel();n.children.forEach(((e,t)=>{e.stroke||(e.stroke=this.colors[t]||Ee())})),function n(r){if(r==e.root);else if(r.layout)return;if(r.isExpand){var o=r.getChildren(),a=o.length,h=r.getPosition(),l=r.getBox(),d=r.getLevel();o.length&&o.forEach((function(o){var c=o.direct,u=o.getPosition(),p=o.getBox();let m=r.stroke?r.stroke:o.stroke?o.stroke:Ee();if(o.stroke||(o.stroke=m),o._barDom&&(o._barDom.style.backgroundColor=m,o._barDom.style.borderColor=m),d==s)if("minder"==i)if("right"==c)var f={x:h.x+l.width/2,y:h.y+l.height/2},g={x:u.x,y:p.height/2+u.y};else f={x:h.x+l.width/2,y:h.y+l.height/2},g={x:Number.parseInt(u.x+p.width+""),y:Number.parseInt(p.height/2+u.y+"")};else{f={x:h.x+l.width/2,y:h.y+l.height/2};if("right"==c)g={x:u.x,y:p.height/2+u.y};else g={x:u.x+p.width,y:p.height/2+u.y}}else if("right"==c)f={x:h.x+l.width,y:h.y+l.height/2},g={x:u.x,y:p.height/2+u.y};else f={x:h.x,y:h.y+l.height/2},g={x:u.x+p.width,y:p.height/2+u.y};if(d==s)var v=e.svgDom.path();else v=e.svgDom.polyline();if(v.fill("none"),v.stroke({color:m,width:e.lineWidth,linecap:"round",linejoin:"round"}),d==s)if("right"==c){var y=parseInt((f.x+g.x)/2-30+""),A=parseInt(f.y+(g.y-f.y)/1.1+""),x=`M ${f.x} ${f.y} Q ${y} ${A},${g.x} ${g.y} `;v.plot(x)}else{y=parseInt((f.x+g.x)/2+30+""),A=parseInt(f.y+(g.y-f.y)/1.1+""),x=`M ${f.x} ${f.y} Q ${y} ${A},${g.x} ${g.y} `;v.plot(x)}else{var b=g.y<f.y?"top":"bottom";if(1==a)var w=[[f.x,f.y],[g.x,g.y]];else if("right"==c)if("top"==b){var k=[f.x,f.y],C=[f.x+t/2,f.y],E=[g.x,g.y];if(o.isFirst())w=[k,C,D=[f.x+t/2,g.y+5],N=[f.x+t/2+5,g.y],E];else if(Math.abs(g.y-f.y)<3)w=[k,C,N=[f.x+t/2,g.y],E];else w=[k,C,D=[f.x+t/2,g.y+5],N=[f.x+t/2+5,g.y],E]}else{k=[f.x,f.y],C=[f.x+t/2,f.y],E=[g.x,g.y];if(o.isLast())w=[k,C,D=[f.x+t/2,g.y-5],N=[f.x+t/2+5,g.y],E];else if(Math.abs(g.y-f.y)<3)w=[k,C,N=[f.x+t/2,g.y],E];else{var D,N;w=[k,C,D=[f.x+t/2,g.y-5],N=[f.x+t/2+5,g.y],E]}}else if("top"==b){k=[f.x,f.y],C=[f.x-t/2,f.y],E=[g.x,g.y];if(o.isFirst())w=[k,C,D=[f.x-t/2,g.y+5],N=[f.x-t/2-5,g.y],E];else if(Math.abs(g.y-f.y)<3)w=[k,C,N=[f.x-t/2,g.y],E];else w=[k,C,D=[f.x-t/2,g.y+5],N=[f.x-t/2-5,g.y],E]}else{k=[f.x+1,f.y],C=[f.x-t/2,f.y],E=[g.x,g.y];if(o.isLast())w=[k,C,D=[f.x-t/2,g.y-5],N=[f.x-t/2-5,g.y],E];else if(Math.abs(g.y-f.y)<3)w=[k,C,N=[f.x-t/2,g.y],E];else w=[k,C,D=[f.x-t/2,g.y-5],N=[f.x-t/2-5,g.y],E]}if(D){(v=e.svgDom.polyline(e.linePoint([k,C,D],e.lineWidth))).fill("none"),v.stroke({color:m,width:e.lineWidth,linecap:"round",linejoin:"round"});var I=e.linePoint([D],e.lineWidth)[0],S=e.linePoint([N],e.lineWidth)[0],B=`M${I[0]} ${I[1]},Q${I[0]} ${S[1]},${S[0]} ${S[1]}`,M=e.svgDom.path().stroke({color:m,width:e.lineWidth,linecap:"round",linejoin:"round"});M.plot(B),M.fill("none"),(v=e.svgDom.line(e.linePoint([N,E],e.lineWidth))).fill("none"),v.stroke({color:m,width:e.lineWidth,linecap:"round",linejoin:"round"})}else{(v=e.svgDom.polyline(e.linePoint(w,e.lineWidth))).fill("none"),v.stroke({color:m,width:e.lineWidth,linecap:"round",linejoin:"round"})}}n(o)}))}}(n),n.children.forEach((e=>{r(e)}))}function r(e){if(e.isExpand){if(e.layout)return void e.layout.createLink();e.children.forEach((e=>{r(e)}))}}}}var Se={mindmap1:Ie,mindmap2:class extends Ne{constructor(e,t,i){super(e,t,i),this.firstLevelDis=40,this.levelDis=30,this.nodeDis=10,this.type="minder",this.layoutName="mindmap2"}createLink(){var e=this,t=this.levelDis,i=this.root;if(this.svgDom&&this.svgDom.clear(),this.svgDom&&this.root.isExpand&&this.root.isShow()){var n=this.lineWidth,s=this.rights,r=this.lefts,o=i.getBox(),a=i.getPosition();s.length,r.length,i.children.forEach(((e,t)=>{e.stroke||(e.stroke=this.colors[t]||Ee())})),function(){var t=[],h=[];s.forEach((e=>{e.getPosition().y+e.getBox().height/2>o.height/2+a.y?h.push(e):t.push(e)}));var l=t.length,d=h.length,c=parseInt((o.width/2-6)/l+""),u=parseInt((o.width/2-6)/d+"");t.forEach(((t,s)=>{var r=t.getBox(),h=t.getPosition(),l=r.height/2+h.y,d=l-(o.height/2+a.y),u=[a.x+o.width/2+6+c*s,a.y+o.height/2];if(Math.abs(d)>2)var p=[u[0],l-5*d/Math.abs(d)],m=[u[0]+5,l];else p=[u[0],l-d/2],m=[u[0]+Math.abs(d)/2,l];var f=[h.x,l];let g=i.stroke?i.stroke:t.stroke||Ee();t.stroke||(t.stroke=g),t._barDom&&(t._barDom.style.backgroundColor=g,t._barDom.style.borderColor=g);var v=e.linePoint([p],n)[0],y=e.linePoint([m],n)[0],A=`M${v[0]} ${v[1]},Q${v[0]} ${y[1]},${y[0]} ${y[1]}`,x=e.svgDom.path().stroke({color:g,width:n+2,linecap:"round",linejoin:"round"});x.plot(A),x.fill("none"),e.svgDom.line(e.linePoint([u,p],n+2)).stroke({color:g,width:n+2,linecap:"round",linejoin:"round"}).fill("none"),e.svgDom.line(e.linePoint([m,f],n+2)).stroke({color:g,width:n+2,linecap:"round",linejoin:"round"}).fill("none")})),h.reverse().forEach(((t,s)=>{var r=t.getBox(),h=t.getPosition(),l=r.height/2+h.y,d=l-(o.height/2+a.y),c=[a.x+o.width/2+6+u*s,a.y+o.height/2];if(Math.abs(d)>2)var p=[c[0],l-5*d/Math.abs(d)],m=[c[0]+5,l];else p=[c[0],l-d/2],m=[c[0]+Math.abs(d)/2,l];var f=[h.x,l];let g=i.stroke?i.stroke:t.stroke||Ee();t.stroke||(t.stroke=g),t._barDom&&(t._barDom.style.backgroundColor=g,t._barDom.style.borderColor=g);var v=e.linePoint([p],n)[0],y=e.linePoint([m],n)[0],A=`M${v[0]} ${v[1]},Q${v[0]} ${y[1]},${y[0]} ${y[1]}`,x=e.svgDom.path().stroke({color:g,width:n+2,linecap:"round",linejoin:"round"});x.plot(A),x.fill("none"),e.svgDom.line(e.linePoint([c,p],n+2)).stroke({color:g,width:n+2,linecap:"round",linejoin:"round"}).fill("none"),e.svgDom.line(e.linePoint([m,f],n+2)).stroke({color:g,width:n+2,linecap:"round",linejoin:"round"}).fill("none")}));var p=[],m=[];r.forEach((e=>{e.getPosition().y+e.getBox().height/2>o.height/2+a.y?m.push(e):p.push(e)}));var f=p.length,g=m.length,v=parseInt((o.width/2-12)/f+""),y=parseInt((o.width/2-12)/g+"");p.forEach(((t,s)=>{var r=t.getBox(),h=t.getPosition(),l=r.height/2+h.y,d=l-(o.height/2+a.y),c=[a.x+o.width/2-6-v*s,a.y+o.height/2];if(Math.abs(d)>2)var u=[c[0],l-5*d/Math.abs(d)],p=[c[0]-5,l];else u=[c[0],l-d/2],p=[c[0]-Math.abs(d)/2,l];var m=[h.x+r.width,l];let f=i.stroke?i.stroke:t.stroke||Ee();t.stroke||(t.stroke=f),t._barDom&&(t._barDom.style.backgroundColor=f,t._barDom.style.borderColor=f);var g=e.linePoint([u],n)[0],y=e.linePoint([p],n)[0],A=`M${g[0]} ${g[1]},Q${g[0]} ${y[1]},${y[0]} ${y[1]}`,x=e.svgDom.path().stroke({color:f,width:n+2,linecap:"round",linejoin:"round"});x.plot(A),x.fill("none"),e.svgDom.line(e.linePoint([c,u],n+2)).stroke({color:f,width:n+2,linecap:"round",linejoin:"round"}).fill("none"),e.svgDom.line(e.linePoint([p,m],n+2)).stroke({color:f,width:n+2,linecap:"round",linejoin:"round"}).fill("none")})),m.reverse().forEach(((t,s)=>{var r=t.getBox(),h=t.getPosition(),l=r.height/2+h.y,d=l-(o.height/2+a.y),c=[a.x+o.width/2-6-y*s,a.y+o.height/2];if(Math.abs(d)>2)var u=[c[0],l-5*d/Math.abs(d)],p=[c[0]-5,l];else u=[c[0],l-d/2],p=[c[0]-Math.abs(d)/2,l];var m=[h.x+r.width,l];let f=i.stroke?i.stroke:t.stroke||Ee();t.stroke||(t.stroke=f),t._barDom&&(t._barDom.style.backgroundColor=f,t._barDom.style.borderColor=f);var g=e.linePoint([u],n)[0],v=e.linePoint([p],n)[0],A=`M${g[0]} ${g[1]},Q${g[0]} ${v[1]},${v[0]} ${v[1]}`,x=e.svgDom.path().stroke({color:f,width:n+2,linecap:"round",linejoin:"round"});x.plot(A),x.fill("none"),e.svgDom.line(e.linePoint([c,u],n+2)).stroke({color:f,width:n+2,linecap:"round",linejoin:"round"}).fill("none"),e.svgDom.line(e.linePoint([p,m],n+2)).stroke({color:f,width:n+2,linecap:"round",linejoin:"round"}).fill("none")}))}(),i.children.forEach(((e,t)=>{h(e),l(e)}))}function h(i){if(!i.layout&&i.isExpand){var s=i.getChildren(),r=s.length,o=i.getPosition(),a=i.getBox();s.length&&s.forEach((function(s){var l=s.direct,d=s.getPosition(),c=s.getBox();let u=i.stroke?i.stroke:s.stroke?s.stroke:Ee();if(s.stroke||(s.stroke=u),s._barDom&&(s._barDom.style.backgroundColor=u,s._barDom.style.borderColor=u),"right"==l)var p={x:o.x+a.width,y:o.y+a.height/2},m={x:d.x,y:c.height/2+d.y};else p={x:o.x,y:o.y+a.height/2},m={x:d.x+c.width,y:c.height/2+d.y};if(1==r)var f=[[p.x,p.y],[m.x,m.y]];else{var g=m.y<p.y?"top":"bottom";if("right"==l)if("top"==g){var v=[p.x,p.y],y=[p.x+t/2,p.y],A=[m.x,m.y];if(s.isFirst())f=[v,y,x=[p.x+t/2,m.y+5],b=[p.x+t/2+5,m.y],A];else if(Math.abs(m.y-p.y)<3)f=[v,y,b=[p.x+t/2,m.y],A];else f=[v,y,x=[p.x+t/2,m.y+5],b=[p.x+t/2+5,m.y],A]}else{v=[p.x,p.y],y=[p.x+t/2,p.y],A=[m.x,m.y];if(s.isLast())f=[v,y,x=[p.x+t/2,m.y-5],b=[p.x+t/2+5,m.y],A];else if(Math.abs(m.y-p.y)<3)f=[v,y,b=[p.x+t/2,m.y],A];else f=[v,y,x=[p.x+t/2,m.y-5],b=[p.x+t/2+5,m.y],A]}else if("top"==g){v=[p.x,p.y],y=[p.x-t/2,p.y],A=[m.x,m.y];if(s.isFirst())f=[v,y,x=[p.x-t/2,m.y+5],b=[p.x-t/2-5,m.y],A];else if(Math.abs(m.y-p.y)<3)f=[v,y,b=[p.x-t/2,m.y],A];else f=[v,y,x=[p.x-t/2,m.y+5],b=[p.x-t/2-5,m.y],A]}else{v=[p.x+1,p.y],y=[p.x-t/2,p.y],A=[m.x,m.y];if(s.isLast())f=[v,y,x=[p.x-t/2,m.y-5],b=[p.x-t/2-5,m.y],A];else if(Math.abs(m.y-p.y)<3)f=[v,y,b=[p.x-t/2,m.y],A];else{var x,b;f=[v,y,x=[p.x-t/2,m.y-5],b=[p.x-t/2-5,m.y],A]}}}if(x){(D=e.svgDom.polyline(e.linePoint([v,y,x],n))).fill("none"),D.stroke({color:u,width:n,linecap:"round",linejoin:"round"});var w=e.linePoint([x],n)[0],k=e.linePoint([b],n)[0],C=`M${w[0]} ${w[1]},Q${w[0]} ${k[1]},${k[0]} ${k[1]}`,E=e.svgDom.path().stroke({color:u,width:n,linecap:"round",linejoin:"round"});E.plot(C),E.fill("none"),(D=e.svgDom.line(e.linePoint([b,A],n))).fill("none"),D.stroke({color:u,width:n,linecap:"round",linejoin:"round"})}else{var D;(D=e.svgDom.polyline(e.linePoint(f,n))).fill("none"),D.stroke({color:u,width:n,linecap:"round",linejoin:"round"})}h(s)}))}}function l(e){if(e.isExpand){if(e.layout)return void e.layout.createLink();e.children.forEach((e=>{l(e)}))}}}},mindmap:class extends De{constructor(e,t,i){super("mindmap"),this.layoutName="mindmap",this.direct="",this.levelDis=50,this.nodeDis=6,this.firstLevelDis=80,this.firstNodeDis=20,this.isCache=!0,this.lefts=[],this.rights=[],this.colors=[],this.lineWidth=2,this.root=e||null,this.mind=(null==e?void 0:e.mindmap)||null,this.direct=t||"mindmap",this.colors=i||[],this.svgDom||(this.svgDom=this.mind.edgeGroup.group()),this.layout()}setDirect(){var e=this,t=this.root.children.length,i=this.root;this.rights=[],this.lefts=[],"right"==this.direct?(this.rights=i.children,this.rights.forEach((e=>{this._setDirect(e,"right")}))):"left"==this.direct?(this.lefts=i.children,this.lefts.forEach((e=>{this._setDirect(e,"left")}))):i.children.forEach((function(i,n){n<t/2?(e.rights.push(i),e._setDirect(i,"right")):(e.lefts.push(i),e._setDirect(i,"left"))}))}_setDirect(e,t){e.stroke="",e.direct=t;var i=e.containEl.classList.contains("mm-node-second");e.containEl.setAttribute("class",""),e.containEl.classList.add("mm-node"),e.containEl.classList.add("mm-node-"+t),e.isLeaf()&&!e.containEl.classList.contains("mm-node-leaf")?e.containEl.classList.add("mm-node-leaf"):e.containEl.classList.contains("mm-node-leaf")&&e.containEl.classList.remove("mm-node-leaf"),1==e.getLevel()&&(e.containEl.classList.add("mm-node-second"),e.refreshBox()),i&&e.refreshBox(),e.isExpand||e.containEl.classList.add("mm-node-collapse"),e.children.forEach((e=>{this._setDirect(e,t)}))}layout(e,t){e&&(this.root=e),t&&(this.direct=t),this.setDirect(),"right"==this.direct?this.layoutRight():"left"==this.direct?this.layoutLeft():this.layoutMindMap(),this._dolayout(),this._doRefresh(),this.root&&this.root.mindmap.useHandMode?this.createHandDrawLink():this.createLink()}layoutMindMap(){this.layoutRight(),this.layoutLeft()}layoutRight(e,t){var i=e||this.rights,n=t||this.root,s=n.getPosition(),r=n.getBox(),o=n.getLevel();if(0==o)var a=this.firstLevelDis,h=this.firstNodeDis;else a=this.levelDis,h=this.nodeDis;var{disHeight:l,height:d}=this._getNodesHeight(i),c=d/i.length;if(0==o)var u=[parseInt(s.x+r.width+a+""),parseInt(s.y+r.height/2-l/2+"")];else if(1==o)u=[parseInt(s.x+r.width+a+""),parseInt(s.y+r.height/2-l/2-c/2-this.lineWidth/2+"")];else u=[parseInt(s.x+r.width+a+""),parseInt(s.y+r.height-l/2-c/2+"")];i.forEach((e=>{e.setPosition(u[0],u[1]);var t=e.getBox();u[1]+=parseInt(t.height+h+"")})),i.forEach((e=>{e.isExpand&&this.layoutRight(e.children,e)}))}layoutLeft(e,t){var i=e||this.lefts,n=t||this.root,s=n.getPosition(),r=n.getBox(),o=n.getLevel();if(0==o)var a=this.firstLevelDis,h=this.firstNodeDis;else a=this.levelDis,h=this.nodeDis;var{disHeight:l,height:d}=this._getNodesHeight(i),c=d/i.length;if(0==o)var u=[parseInt(s.x-a+""),parseInt(s.y+r.height/2-l/2+"")];else if(1==o)u=[parseInt(s.x-a+""),parseInt(s.y+r.height/2-l/2-c/2-this.lineWidth/2+"")];else u=[parseInt(s.x-a+""),parseInt(s.y+r.height-l/2-c/2+"")];i.forEach((e=>{var t=e.getBox();e.setPosition(parseInt(u[0]-t.width+""),parseInt(u[1]+"")),u[1]+=t.height+h})),i.forEach((e=>{e.isExpand&&this.layoutLeft(e.children,e)}))}_getNodesHeight(e){if(e[0]&&1==e[0].getLevel())var t=this.firstNodeDis;else t=this.nodeDis;var i=0,n=0;return 1==e.length?{disHeight:i=e[0].getBox().height,height:i}:(e.forEach(((s,r)=>{var o=s.getBox().height;i+=o,n+=o,r!=e.length-1&&(i+=t)})),{disHeight:i,height:n})}_doRefresh(){var e=this.root,t=e.getPosition(),i=e.getBox(),n=t.y+i.height/2,s=this.rights,r=this.lefts;if(s.length>=2){var o=s[0],a=s[s.length-1],h=o.getPosition(),l=a.getPosition(),d=a.getBox(),c=l.y+d.height-n,u=n-h.y;if(Math.abs(c)!=Math.abs(u)){var p=Math.abs(Math.abs(c)-Math.abs(u))/2+"";Math.abs(c)>Math.abs(u)?s.forEach((e=>{this.moveNode(e,0,-parseInt(p))})):s.forEach((e=>{this.moveNode(e,0,parseInt(p))}))}}if(r.length>=2){o=r[0],a=r[r.length-1],h=o.getPosition(),l=a.getPosition(),d=a.getBox(),c=l.y+d.height-n,u=n-h.y;if(Math.abs(c)!=Math.abs(u)){p=Math.abs(Math.abs(c)-Math.abs(u))/2+"";Math.abs(c)>Math.abs(u)?r.forEach((e=>{this.moveNode(e,0,-parseInt(p))})):r.forEach((e=>{this.moveNode(e,0,parseInt(p))}))}}}moveNode(e,t,i){e.move(t,i),e&&e.children&&e.children.forEach((e=>{this.moveNode(e,t,i)}))}linePoint(e,t){let i=0;var n;return t%2==1?(i=.5,n=parseInt):n=Math.ceil,e.map((e=>[n(e[0])+i,n(e[1])+i]))}_dolayout(){var e=this,t=this.mind;t.traverseDF((i=>{if(i!=e.root&&i.isExpand){var n=i.getCBox();if(e.isCache&&i.boundingRect)var s=i.boundingRect;else{var r=i.getShowNodeList();r.length&&(s=t.getBoundingRect(r))}if(s){if(i.boundingRect&&e.isCache)var o=s.topDy,a=s.downDy;else o=Math.abs(s.y-n.y),a=Math.abs(s.y+s.height-n.y-n.height),s.topDy=o,s.downDy=a,i.boundingRect=s;e._adjustNode(i,0,o,a)}}}))}_adjustNode(e,t,i,n){if(e){var s=e.direct;if(e&&e!=this.root){var r=e.getSiblings(),o=e.getPosition();r.forEach((e=>{e.direct==s&&(e.getPosition().y>o.y?this.moveNode(e,t,n):this.moveNode(e,t,-i))}))}}}refresh(e,t){this.layout(e,t)}createHandDrawLink(){var e=this;this.svgDom&&this.svgDom.clear();var t=ye.svg(this.root.mindmap.draw);if(0!=this.root.getChildren().length){var i=this.levelDis,n=this.root,s=this.lineWidth,r=this.root.getLevel();this.root.children.forEach(((e,t)=>{e.stroke=this.colors[t]||Ee()})),function n(o){if(o.isExpand){var a=o.getChildren(),h=o.getPosition(),l=o.getBox();l.height=l.height+s;var d=o.getLevel();a.length&&a.forEach((function(a){var c=a.direct,u=a.getPosition(),p=Object.assign({},a.getBox());p.height=p.height+s;let m=o.stroke?o.stroke:a.stroke?a.stroke:Ee();if(a.stroke||(a.stroke=m),a._barDom&&(a._barDom.style.backgroundColor=m,a._barDom.style.borderColor=m),d==r)var f={x:h.x+l.width/2,y:h.y+l.height/2};else f=d==1+r?"right"==c?{x:h.x+l.width,y:h.y+l.height/2}:{x:h.x,y:h.y+l.height/2}:"right"==c?{x:h.x+l.width,y:h.y+l.height}:{x:h.x,y:h.y+l.height};if(d==r)if("right"==c)var g={x:u.x,y:p.height/2+u.y};else g={x:u.x+p.width,y:p.height/2+u.y};else g="right"==c?{x:u.x,y:p.height+u.y}:{x:u.x+p.width,y:p.height+u.y};if(s%2==1)var v=parseInt(f.x+"")-.5,y=parseInt(g.x+"")-.5,A=parseInt(f.y+"")-.5,x=parseInt(g.y+"")-.5;else v=parseInt(f.x+""),A=parseInt(f.y+""),y=parseInt(g.x+""),x=parseInt(g.y+"");if(s%2==1)var b=parseInt(u.x+"")-.5,w=parseInt(u.x+p.width+"")-.5,k=x,C=x;else b=parseInt(u.x+""),k=parseInt(p.height+u.y+""),w=parseInt(u.x+p.width+""),C=parseInt(p.height+u.y+"");if(d==r){var E=`M${v} ${A}  C ${parseInt(f.x+"")+(g.x-f.x)/9} ${parseInt(f.y+"")+(g.y-f.y)/9*8}, ${parseInt(f.x+(g.x-f.x)/9*8+"")} ${parseInt(g.y+"")}, ${y} ${x}`,D=t.path(E,{stroke:m,strokeWidth:s+1,fill:"none"});e.svgDom.node.appendChild(D)}else{var N={x:f.x+i/2,y:f.y},I={x:f.x+i/2,y:g.y};"left"==c&&(N.x=f.x-i/2,I.x=f.x-i/2),N.x=parseInt(N.x+""),N.y=parseInt(N.y+""),I.x=parseInt(I.x+""),I.y=parseInt(I.y+"");var S=`M${v} ${A}  C${N.x} ${N.y}, ${I.x} ${I.y}, ${y} ${x}`,B=t.path(S,{stroke:m,strokeWidth:d==r?s+1:s,fill:"none",roughness:.4});D=t.line(b-1,k,w+1,C,{stroke:m,strokeWidth:d==r?s+1:s,fill:"none",roughness:.8});e.svgDom.node.appendChild(D),e.svgDom.node.appendChild(B)}n(a)}))}}(n)}}createLink(){var e=this;if(this.svgDom&&this.svgDom.clear(),0!=this.root.getChildren().length){var t=this.levelDis,i=this.root,n=this.lineWidth,s=this.root.getLevel();this.root.children.forEach(((e,t)=>{e.stroke=this.colors[t]||Ee()})),function i(r){if(r.isExpand){var o=r.getChildren(),a=r.getPosition(),h=r.getBox();h.height=h.height+n;var l=r.getLevel();o.length&&o.forEach((function(o){var d=o.direct,c=o.getPosition(),u=Object.assign({},o.getBox());u.height=u.height+n;let p=r.stroke?r.stroke:o.stroke?o.stroke:Ee();if(o.stroke||(o.stroke=p),o._barDom&&(o._barDom.style.backgroundColor=p,o._barDom.style.borderColor=p),l==s)var m={x:a.x+h.width/2,y:a.y+h.height/2};else m=l==1+s?"right"==d?{x:a.x+h.width,y:a.y+h.height/2}:{x:a.x,y:a.y+h.height/2}:"right"==d?{x:a.x+h.width,y:a.y+h.height}:{x:a.x,y:a.y+h.height};if(l==s)if("right"==d)var f={x:c.x,y:u.height/2+c.y};else f={x:c.x+u.width,y:u.height/2+c.y};else f="right"==d?{x:c.x,y:u.height+c.y}:{x:c.x+u.width,y:u.height+c.y};if(n%2==1)var g=parseInt(m.x+"")-.5,v=parseInt(f.x+"")-.5,y=parseInt(m.y+"")-.5,A=parseInt(f.y+"")-.5;else g=parseInt(m.x+""),y=parseInt(m.y+""),v=parseInt(f.x+""),A=parseInt(f.y+"");if(l==s)var x=e.svgDom.path().stroke({color:p,width:n+1,linecap:"round",linejoin:"round"}).fill("none");else x=e.svgDom.path().stroke({color:p,width:n,linecap:"round",linejoin:"round"}).fill("none");if(n%2==1)var b=parseInt(c.x+"")-.5,w=parseInt(c.x+u.width+"")-.5,k=A,C=A;else b=parseInt(c.x+""),k=parseInt(u.height+c.y+""),w=parseInt(c.x+u.width+""),C=parseInt(u.height+c.y+"");if(l==s){var E=`M${g} ${y}  C ${parseInt(m.x+"")+(f.x-m.x)/9} ${parseInt(m.y+"")+(f.y-m.y)/9*8}, ${parseInt(m.x+(f.x-m.x)/9*8+"")} ${parseInt(f.y+"")}, ${v} ${A}`;x.plot(E)}else{e.svgDom.line(b,k,w,C).stroke({color:p,width:n,linecap:"miter",linejoin:"miter"}).fill("none");var D={x:m.x+t/2,y:m.y},N={x:m.x+t/2,y:f.y};"left"==d&&(D.x=m.x-t/2,N.x=m.x-t/2),D.x=parseInt(D.x+""),D.y=parseInt(D.y+""),N.x=parseInt(N.x+""),N.y=parseInt(N.y+"");var I=`M${g} ${y}  C ${D.x} ${D.y}, ${N.x} ${N.y}, ${v} ${A}`;x.plot(I)}i(o)}))}}(i)}}},fish:class extends De{constructor(e,t,i){super("fish"),this.root=null,this.tops=[],this.bottoms=[],this.dis=10,this.levelDis=20,this.firstLevelDis=20,this.layoutName="fish",this.type="fish",this.angle=7*Math.PI/18,this.isCache=!1,this.colors=[],this.fishTail=null,this.stroke="",this.root=e,this.direct=t||"right",this.colors=i||[],this.stroke=Ee(),this.svgDom||(this.svgDom=this.root.getMind().edgeGroup.group())}layout(e,t){if(this.direct=t||"right",this.tops=[],this.bottoms=[],this.root=e||this.root,this.root.isExpand){this.svgDom||(this.svgDom=this.root.getMind().edgeGroup.group()),this.root.layout=this,this.root.parent||"induce"==this.root.nodeType||this.root.containEl.classList.add("mm-root");var i=this.root.children.length;this.root.getChildren().forEach(((e,t)=>{t<Math.ceil(i/2)?(this.tops.push(e),e.getNodeList().forEach((e=>{e.mark="up",e.containEl.classList=[],e.containEl.classList.add("mm-node"),e.containEl.classList.add("mm-node-"+this.direct),e.containEl.classList.add(`mm-${this.layoutName}-node`),e.direct=this.direct,e.isExpand||e.containEl.classList.add("mm-node-collapse"),e.isLeaf()&&!e.containEl.classList.contains("mm-node-leaf")?e.containEl.classList.add("mm-node-leaf"):e.containEl.classList.contains("mm-node-leaf")&&e.containEl.classList.remove("mm-node-leaf")}))):(this.bottoms.push(e),e.getNodeList().forEach((e=>{e.mark="down",e.containEl.classList=[],e.containEl.classList.add("mm-node"),e.containEl.classList.add("mm-node-"+this.direct),e.containEl.classList.add(`mm-${this.layoutName}-node`),e.direct=this.direct,e.isExpand||e.containEl.classList.add("mm-node-collapse"),e.isLeaf()&&!e.containEl.classList.contains("mm-node-leaf")?e.containEl.classList.add("mm-node-leaf"):e.containEl.classList.contains("mm-node-leaf")&&e.containEl.classList.remove("mm-node-leaf")}))),e.containEl.classList.add("mm-node-second"),e.refreshBox()})),"left"==this.direct?this._layoutRight():"right"==this.direct&&this._layoutLeft(),this.root.mindmap.useHandMode?this.createHandDrawLink():this.createLink()}}_layoutLeft(){var e=this,t=this.root,i=t.getMind(),n=t.getBox(),s=t.getPosition(),r=s.y+n.height/2,o=[];this.tops.forEach(((t,i)=>{t.direct="up";var a=t.getCBox();0==i?(t.setPosition(n.width+s.x+40+e.dis/Math.tan(e.angle),r-e.dis-a.height),o=[n.width+s.x+40+e.dis/Math.tan(e.angle)+a.width+e.dis,0]):(t.setPosition(o[0]+e.dis/Math.tan(e.angle),r-e.dis-a.height),o=[o[0]+a.width+e.dis+40,0]),e._layout(t,"top")})),this.bottoms.forEach(((t,i)=>{t.direct="down";var a=t.getBox();if(0==i){var h=n.width+50+(e.dis+a.height)/Math.tan(e.angle)+e.dis;t.setPosition(h+s.x,r+e.dis),o=[h+a.width+e.dis+40,0]}else t.setPosition(o[0]+(e.dis+a.height)/Math.tan(e.angle)+e.dis,r+e.dis),o=[o[0]+a.width+e.dis,0];e._layout(t,"bottom")})),this.tops.forEach(((e,t)=>{if(t>0){var n=i.getBBox(this.tops[t-1]),s=e.getPosition(),r=n.right-s.x+this.dis+40;this.moveNode(e,r,0)}})),this.bottoms.forEach(((e,t)=>{if(t>0){var n=i.getBBox(this.bottoms[t-1]),s=e.getPosition(),r=n.right-s.x+this.dis+40;this.moveNode(e,r,0)}})),this.tops.forEach((e=>{this._updateNodeAssist(e,this.root)})),this.bottoms.forEach((e=>{this._updateNodeAssist(e,this.root)})),this._updateRootAssist()}_layoutRight(){var e=this,t=this.root,i=t.getMind(),n=t.getBox(),s=t.getPosition(),r=s.y+n.height/2,o=[];this.tops.forEach(((t,i)=>{t.direct="up";var n=t.getBox();0==i?(t.setPosition(s.x-n.width-e.dis-e.dis/Math.tan(e.angle)-40,r-e.dis-n.height),o=[s.x-n.width-e.dis-e.dis/Math.tan(e.angle)-40,0]):(t.setPosition(o[0]-n.width-e.dis-e.dis/Math.tan(e.angle)-40,r-e.dis-n.height),o=[o[0]-n.width-e.dis-e.dis/Math.tan(e.angle)-40,0]),e._layout1(t,"top")})),this.bottoms.forEach(((t,i)=>{t.direct="down";var n=t.getBox();if(0==i){var a=s.x-n.width-e.dis-(e.dis+n.height)/Math.tan(e.angle)-40;t.setPosition(a,r+e.dis),o=[a,0]}else t.setPosition(o[0]-n.width-(e.dis+n.height)/Math.tan(e.angle)-e.dis-40,r+e.dis),o=[o[0]-(e.dis+n.height)/Math.tan(e.angle)-e.dis-40,0];e._layout1(t,"bottom")})),this.tops.forEach(((e,t)=>{if(t>0){var n=i.getBBox(this.tops[t-1]),s=e.getPosition(),r=e.getBox(),o=s.x-n.x+this.dis+r.width+40;this.moveNode(e,-o,0)}})),this.bottoms.forEach(((e,t)=>{if(t>0){var n=i.getBBox(this.bottoms[t-1]),s=e.getPosition(),r=e.getBox(),o=s.x-n.x+this.dis+r.width+40;this.moveNode(e,-o,0)}})),this.tops.forEach((e=>{this._updateNodeAssist(e)})),this.bottoms.forEach((e=>{this._updateNodeAssist(e)})),this._updateRootAssist()}_layout(e,t){if(e.isExpand){e.layout&&(e.layout.group&&(e.layout.group.clear(),e.layout.group.remove(),e.layout.group=null),e.layout.svgDom&&(e.layout.svgDom.clear(),e.layout.svgDom.remove(),e.layout.svgDom=null));var i=this,n=e.getMind();if("top"==t){var s=e.getBox(),r=e.getPosition(),o=s.width+r.x+i.dis,a=e.getChildren(),h=0,l=0;a.forEach(((e,d)=>{if(e.isShow()){e.callout&&e.callout.refresh();var c=e.getCBox();if(0==d)l=o+(i.dis+s.height+c.bh)/Math.tan(i.angle),h=r.y-c.height-c.bh-i.dis,e.setPosition(l,h);else{var u=n.getBBox(a[d-1]),p=a[d-1].getCBox(),m=(p.y-u.y+i.dis+c.bh+p.height)/Math.tan(i.angle),f=p.x+m,g=u.y-i.dis-c.height-c.bh;e.setPosition(f,g)}i._updateNodeAssist(e,i.root),i._layout(e,t)}}))}else{s=e.getBox(),r=e.getPosition(),o=s.width+r.x+i.dis,h=0,l=0,a=e.getChildren();e.getChildren().forEach(((e,d)=>{if(e.isShow()){e.callout&&e.callout.refresh();var c=e.getCBox();if(0==d){var u=(i.dis+c.th+c.height)/Math.tan(i.angle);l=o+u,h=r.y+s.height+i.dis+c.th+0,e.setPosition(l,h)}else{var p=n.getBBox(a[d-1]),m=a[d-1].getCBox(),f=(u=(i.dis+c.th+c.height+p.y+p.height-m.y-m.height)/Math.tan(i.angle),m.x+u),g=p.y+p.height+i.dis+c.th;e.setPosition(f,g)}i._updateNodeAssist(e,i.root),i._layout(e,t)}}))}}}_layout1(e,t){if(e.isExpand){e.layout&&(e.layout.group&&(e.layout.group.clear(),e.layout.group.remove(),e.layout.group=null),e.layout.svgDom&&(e.layout.svgDom.clear(),e.layout.svgDom.remove(),e.layout.svgDom=null));var i=this,n=e.getMind(),s=e.getChildren();if("top"==t){var r=e.getBox(),o=(a=e.getPosition()).x-i.dis;s.forEach(((e,h)=>{if(e.isShow()){e.callout&&e.callout.refresh();var l=e.getCBox();if(0==h){var d=o-l.width-(r.height+i.dis+l.bh)/Math.tan(i.angle),c=a.y-l.height-l.bh-i.dis;e.setPosition(d,c)}else{var u=n.getBBox(s[h-1]),p=s[h-1].getBox(),m=(p.y-u.y+i.dis+p.height+l.bh+0)/Math.tan(i.angle),f=p.x+p.width-l.width-m,g=u.y-i.dis-l.height-l.bh-0;e.setPosition(f,g)}i._updateNodeAssist(e,i.root),i._layout1(e,t)}}))}else{var a;r=e.getBox(),o=(a=e.getPosition()).x-i.dis;e.getChildren().forEach(((e,h)=>{if(e.isShow()){e.callout&&e.callout.refresh();var l=e.getCBox();if(0==h){var d=o-l.width-(l.height+i.dis+l.th+0)/Math.tan(i.angle),c=a.y+r.height+i.dis+l.th+0;e.setPosition(d,c)}else{var u=n.getBBox(s[h-1]),p=s[h-1].getBox(),m=u.y+u.height-p.y-p.height,f=(m+i.dis+l.th+0+l.height)/Math.tan(i.angle),g=p.x+p.width-l.width-f,v=p.y+i.dis+m+l.th+0+p.height;e.setPosition(g,v)}i._updateNodeAssist(e,i.root),i._layout1(e,t)}}))}}}adjustNode(e,t){var i=e.getPosition(),n=e.getBBox(),s=e.getParent(),r=s.getPosition(),o=s.getBBox();if("top"==t)var a=r.y-i.y;else a=i.y-r.y-o.height+n.height;for(var h=a/Math.tan(this.angle);s.getLevel()>1;){r=s.getPosition(),s.getSiblings().forEach((e=>{var i=e.getPosition();"top"==t?i.y<r.y&&this.moveNode(e,h,-a):"bottom"==t&&i.y>r.y&&this.moveNode(e,h,a)})),s=s.getParent()}}adjustNode1(e,t){var i=e.getPosition(),n=e.getBBox(),s=e.getParent(),r=s.getPosition(),o=s.getBBox();if("top"==t)var a=r.y-i.y;else a=i.y-r.y-o.height+n.height;for(var h=a/Math.tan(this.angle);s.getLevel()>1;){r=s.getPosition(),s.getSiblings().forEach((e=>{var i=e.getPosition();"top"==t?i.y<r.y&&this.moveNode(e,-h,-a):"bottom"==t&&i.y>r.y&&this.moveNode(e,-h,a)})),s=s.getParent()}}createHandDrawLink(){if(this.svgDom&&this.svgDom.clear(),!this.svgDom)return;if(0==this.root.getChildren().length)return;if("left"==this.direct)return void this.createHandDrawLink1();var e=ye.svg(this.root.mindmap.draw),t=this;this.dis;var i=this.root.getLevel();function n(s,r){var o=s.getBox(),a=s.getPosition();let h=s.parent.stroke?s.parent.stroke:s.stroke?s.stroke:Ee();if(s.stroke||(s.stroke=h),s._barDom&&(s._barDom.style.backgroundColor=h,s._barDom.style.borderColor=h),s.getLevel()==i+1){if("top"==r){var l=[a.x-t.dis/Math.tan(t.angle),parseInt(a.y+o.height+t.dis)],d=[(c=[a.x,a.y+o.height+1])[0]+o.width+1,c[1]];t.svgDom.node.appendChild(e.linearPath(t.linePoint([l,c,d],1),{stroke:h,strokeWidth:1,fill:"none",roughness:.6}))}else if("bottom"==r){var c;l=[a.x-(t.dis+o.height)/Math.tan(t.angle),parseInt(a.y-t.dis)],d=[(c=[a.x,a.y+o.height+1])[0]+o.width+1,c[1]];t.svgDom.node.appendChild(e.linearPath(t.linePoint([l,c,d],1),{stroke:h,strokeWidth:1,fill:"none",roughness:.6}))}}else{var u=s.getParent(),p=u.getPosition(),m=u.getBox();if(s.isLast())var f=[l=[p.x+m.width-1,p.y+m.height+1],[l[0]+t.dis,l[1]],g=[a.x,a.y+o.height+1],d=[g[0]+o.width,g[1]]];else{var g;f=[g=[a.x,a.y+o.height+1],d=[g[0]+o.width,g[1]]]}t.svgDom.node.appendChild(e.linearPath(t.linePoint(f,1),{stroke:h,strokeWidth:1,fill:"none",roughness:.6}))}s.isExpand&&s.getChildren().forEach((e=>{n(e,r)}))}this.root.children.forEach(((e,t)=>{e.stroke||(e.stroke=this.colors[t]||Ee())})),this.tops.forEach((e=>{n(e,"top")})),this.bottoms.forEach((e=>{n(e,"bottom")})),this.createHandDrawBone()}createLink(){if(this.svgDom&&this.svgDom.clear(),!this.svgDom)return;if(0==this.root.getChildren().length)return;if("left"==this.direct)return void this.createLink1();var e=this;this.dis;var t=this.root.getLevel();function i(n,s){var r=n.getBox(),o=n.getPosition();let a=n.parent.stroke?n.parent.stroke:n.stroke?n.stroke:Ee();if(n.stroke||(n.stroke=a),n._barDom&&(n._barDom.style.backgroundColor=a,n._barDom.style.borderColor=a),n.getLevel()==t+1){if("top"==s){var h=[o.x-e.dis/Math.tan(e.angle),parseInt(o.y+r.height+e.dis)],l=[(d=[o.x,o.y+r.height+1])[0]+r.width+1,d[1]];(c=e.svgDom.polyline(e.linePoint([h,d,l],2))).fill("none"),c.stroke({color:a,width:2,linecap:"round",linejoin:"round"})}else if("bottom"==s){var d;h=[o.x-(e.dis+r.height)/Math.tan(e.angle),parseInt(o.y-e.dis)],l=[(d=[o.x,o.y+r.height+1])[0]+r.width+1,d[1]];(c=e.svgDom.polyline(e.linePoint([h,d,l],2))).fill("none"),c.stroke({color:a,width:2,linecap:"round",linejoin:"round"})}}else{var c,u=n.getParent(),p=u.getPosition(),m=u.getBox();if(n.isLast())var f=[h=[p.x+m.width-1,p.y+m.height+1],[h[0]+e.dis,h[1]],g=[o.x,o.y+r.height+1],l=[g[0]+r.width,g[1]]];else{var g;f=[g=[o.x,o.y+r.height+1],l=[g[0]+r.width,g[1]]]}(c=e.svgDom.polyline(e.linePoint(f,2))).fill("none"),c.stroke({color:a,width:2,linecap:"round",linejoin:"round"})}n.isExpand&&n.getChildren().forEach((e=>{i(e,s)}))}this.root.children.forEach(((e,t)=>{e.stroke||(e.stroke=this.colors[t]||Ee())})),this.tops.forEach((e=>{i(e,"top")})),this.bottoms.forEach((e=>{i(e,"bottom")})),this.creatBone()}createHandDrawLink1(){var e=this;if(this.dis,!this.svgDom)return;if(this.svgDom&&this.svgDom.clear(),0==this.root.getChildren().length)return;var t=ye.svg(this.root.mindmap.draw);var i=this.root.getLevel();function n(s,r){var o=s.getBox(),a=s.getPosition();let h=s.parent.stroke?s.parent.stroke:s.stroke?s.stroke:Ee();if(s.stroke||(s.stroke=h),s._barDom&&(s._barDom.style.backgroundColor=h,s._barDom.style.borderColor=h),s.getChildren().length,s.getLevel()==i+1){if("top"==r){var l=[a.x+o.width+e.dis/Math.tan(e.angle),parseInt(a.y+o.height+e.dis)],d=[a.x+o.width,a.y+o.height+1],c=[a.x-1,d[1]];e.svgDom.node.appendChild(t.linearPath(e.linePoint([l,d,c],1),{stroke:h,strokeWidth:1,fill:"none",roughness:.6}))}else if("bottom"==r){l=[a.x+o.width+(e.dis+o.height)/Math.tan(e.angle),parseInt(a.y-e.dis)],d=[a.x+o.width,a.y+o.height+1],c=[a.x-1,d[1]];e.svgDom.node.appendChild(t.linearPath(e.linePoint([l,d,c],1),{stroke:h,strokeWidth:1,fill:"none",roughness:.6}))}}else{var u=s.getParent(),p=u.getPosition(),m=u.getBox();if(s.isLast())var f=[l=[p.x+1,p.y+m.height+1],[l[0]-e.dis,l[1]],g=[a.x+o.width,a.y+o.height+1],c=[a.x,g[1]]];else{var g;f=[g=[a.x+o.width,a.y+o.height+1],c=[a.x,g[1]]]}e.svgDom.node.appendChild(t.linearPath(e.linePoint(f,1),{stroke:h,strokeWidth:1,fill:"none",roughness:.6}))}s.isExpand&&s.getChildren().forEach((e=>{n(e,r)}))}this.root.children.forEach(((e,t)=>{e.stroke||(e.stroke=this.colors[t]||Ee())})),this.tops.forEach((e=>{n(e,"top")})),this.bottoms.forEach((e=>{n(e,"bottom")})),this.createHandDrawBone1()}createLink1(){var e=this;if(this.dis,!this.svgDom)return;if(this.svgDom&&this.svgDom.clear(),0==this.root.getChildren().length)return;var t=this.root.getLevel();function i(n,s){var r=n.getBox(),o=n.getPosition();let a=n.parent.stroke?n.parent.stroke:n.stroke?n.stroke:Ee();if(n.stroke||(n.stroke=a),n._barDom&&(n._barDom.style.backgroundColor=a,n._barDom.style.borderColor=a),n.getChildren().length,n.getLevel()==t+1){if("top"==s){var h=[o.x+r.width+e.dis/Math.tan(e.angle),parseInt(o.y+r.height+e.dis)],l=[o.x+r.width,o.y+r.height+1],d=[o.x-1,l[1]];(c=e.svgDom.polyline(e.linePoint([h,l,d],2))).fill("none"),c.stroke({color:a,width:2,linecap:"round",linejoin:"round"})}else if("bottom"==s){h=[o.x+r.width+(e.dis+r.height)/Math.tan(e.angle),parseInt(o.y-e.dis)],l=[o.x+r.width,o.y+r.height+1],d=[o.x-1,l[1]];(c=e.svgDom.polyline(e.linePoint([h,l,d],2))).fill("none"),c.stroke({color:a,width:2,linecap:"round",linejoin:"round"})}}else{var c,u=n.getParent(),p=u.getPosition(),m=u.getBox();if(n.isLast())var f=[h=[p.x+1,p.y+m.height+1],[h[0]-e.dis,h[1]],g=[o.x+r.width,o.y+r.height+1],d=[o.x,g[1]]];else{var g;f=[g=[o.x+r.width,o.y+r.height+1],d=[o.x,g[1]]]}(c=e.svgDom.polyline(e.linePoint(f,2))).fill("none"),c.stroke({color:a,width:2,linecap:"round",linejoin:"round"})}n.isExpand&&n.getChildren().forEach((e=>{i(e,s)}))}this.root.children.forEach(((e,t)=>{e.stroke||(e.stroke=this.colors[t]||Ee())})),this.tops.forEach((e=>{i(e,"top")})),this.bottoms.forEach((e=>{i(e,"bottom")})),this.creatBone1()}createHandDrawBone(){var e=this;if(!this.isShow)return;if(!this.svgDom)return;var t=ye.svg(this.root.mindmap.draw),i=this.root.getMind(),n=this.root,s=n.getBox(),r=n.getPosition(),o=i.getBoundingRect(n.getShowNodeList());let a=this.stroke;var h=parseInt(r.x+s.width)+.5,l=parseInt(r.y+s.height/2)+.5,d=parseInt(r.x+o.width+30)+.5,c=l;e.svgDom.node.appendChild(t.polygon([[h,l-3],[d,c],[h,l+3]],{stroke:a,strokeWidth:1,fill:a,roughness:.4}));var u=[r.x+o.width+30,l],p=[u[0]+60,u[1]-30],m=[u[0]+60,u[1]+30];e.fishTail=t.polygon([u,p,m],{stroke:a,strokeWidth:1,fill:a,roughness:.6}),e.svgDom.node.appendChild(e.fishTail)}creatBone(){var e=this;if(!this.isShow)return;if(!this.svgDom)return;var t=this.root.getMind(),i=this.root,n=i.getBox(),s=i.getPosition(),r=t.getBoundingRect(i.getShowNodeList());let o=this.root.stroke||this.stroke;this.stroke;var a=parseInt(s.x+n.width),h=parseInt(s.y+n.height/2),l=parseInt(s.x+r.width+30),d=h;e.svgDom.line(a,h,l,d).stroke({color:o,width:2,linecap:"round",linejoin:"round"});var c=[s.x+r.width+30,h],u=[c[0]+60,c[1]-30],p=[c[0]+60,c[1]+30];e.fishTail=e.svgDom.polygon([c,u,p]).fill("lightskyblue").stroke({color:o,width:2,linecap:"round",linejoin:"round"})}createHandDrawBone1(){var e=this;if(!this.svgDom)return;var t=ye.svg(this.root.mindmap.draw),i=this.root,n=i.getMind(),s=i.getBox(),r=i.getPosition(),o=n.getBoundingRect(i.getShowNodeList());let a=this.stroke;var h=parseInt(r.x)+.5,l=parseInt(r.y+s.height/2)+.5,d=parseInt(o.x-40)+.5,c=l;e.svgDom.node.appendChild(t.polygon([[h,l-3],[d,c],[h,l+3]],{stroke:a,strokeWidth:1,fill:a,roughness:.4}));var u=[o.x-40,l],p=[u[0]-60,u[1]-30],m=[u[0]-60,u[1]+30];e.fishTail=t.polygon([u,p,m],{stroke:a,strokeWidth:1,fill:a,roughness:.6}),e.svgDom.node.appendChild(e.fishTail)}creatBone1(){var e=this;if(!this.svgDom)return;var t=this.root,i=t.getMind(),n=t.getBox(),s=t.getPosition(),r=i.getBoundingRect(t.getShowNodeList());let o=this.root.stroke||this.stroke;var a=parseInt(s.x),h=parseInt(s.y+n.height/2),l=parseInt(r.x-40),d=h;e.svgDom.line(a,h,l,d).stroke({color:o,width:2,linecap:"round",linejoin:"round"});var c=[r.x-40,h],u=[c[0]-60,c[1]-30],p=[c[0]-60,c[1]+30];e.fishTail=e.svgDom.polygon([c,u,p]).fill("lightskyblue").stroke({color:o,width:2,linecap:"round",linejoin:"round"})}refresh(){this.tops=[],this.bottoms=[],this.layout(this.root,this.direct)}},tree:class extends De{constructor(e,t,i){super("tree"),this.layoutName="tree",this.direct="down",this.levelDis=20,this.dis=10,this.firstLevel=60,this.firstNodeDis=20,this.isCache=!0,this.lefts=[],this.rights=[],this.colors=[],this.lineWidth=2,this.cache={},this.group=null,this.root=e,"down"!=t&&"up"!=t||(this.direct=t),this.colors=i||[],this.mind=this.root.mindmap,this.group||(this.group=this.mind.edgeGroup.group())}layout(e,t){e&&(this.root=e),this.direct=t&&("down"==t||"up"==t)?t:"down",e.layout=this,this.group||(this.group=this.root.getMind().edgeGroup.group()),this.svgDom=this.group,this.root.isShow()&&(e.children.forEach((e=>{this.setDirect(e)})),this._doLayout(e),this.doLayout(e),this.root.nodeType&&"induce"!=this.root.nodeType&&this.refreshLayout(),this._updateRootAssist()),this.createLink()}setDirect(e){if(e.direct=this.direct,e.containEl){var t=e.containEl.classList.contains("mm-node-second");e.containEl.setAttribute("class",""),e.containEl.classList.add("mm-node"),e.containEl.classList.add("mm-node-"+this.direct),e.belongInduce&&e.containEl.classList.add("mm-node-induce"),e.isLeaf()&&!e.containEl.classList.contains("mm-node-leaf")?e.containEl.classList.add("mm-node-leaf"):e.containEl.classList.contains("mm-node-leaf")&&e.containEl.classList.remove("mm-node-leaf"),0==e.getLevel()&&this.root.nodeType&&"induce"!=this.root.nodeType&&e.containEl.classList.add("mm-root"),1==e.getLevel()&&this.root.nodeType&&"induce"!=this.root.nodeType&&(e.containEl.classList.add("mm-node-second"),e.refreshBox()),t&&e.refreshBox(),e.isExpand||e.containEl.classList.add("mm-node-collapse"),e.isSelect&&e.containEl.classList.add("mm-node-select"),(e===this.root||!e.layout&&e.isExpand)&&e.children.forEach((e=>{this.setDirect(e)}))}}_doLayout(e){var t=this,i=this.levelDis,n=this.dis,s=e.getBox(),r=e.getPosition();0==e.getLevel()&&(i=this.firstLevel,n=this.firstNodeDis);var o=e.getChildren().length-1;let a=0;if(e.getChildren().forEach((function(e,t){let i=e.getBox();a+=i.width,t!=o&&(a+=n)})),"down"==this.direct){let t=r.y+s.height+i,o=r.x+s.width/2-a/2,h=0;e.getChildren().forEach((function(e,i){e.callout&&e.callout.refresh();let s=e.getCBox();var r=t+s.th;0==i?(e.setPosition(o,r),h=o+s.width+n):(e.setPosition(h,r),h=h+s.width+n)}))}else{let t=r.y-i,o=r.x+s.width/2-a/2,h=0;e.getChildren().forEach((function(e,i){e.callout&&e.callout.refresh(),e.wireFrame&&e.wireFrame.refresh();let s=e.getCBox();0==i?(e.setPosition(o,t-s.height-s.bh),h=o+s.width+n):(e.setPosition(h,t-s.height-s.bh),h=h+s.width+n)}))}if("down"==this.direct&&e.layout&&e!=this.root)if("table"!=e.layout.layoutName){e.layout.layout(e,e.layout.direct||""),s=e.getMind().getBBox(e);var h=e.getCBox().th,l=Math.abs(Math.abs(r.y-s.y)-h);this.moveNode(e,0,l),e.boundingRect=null,e.direct="down"}else e.direct="down",e.boundingRect=null;else e.isExpand&&e.getChildren().forEach((function(e,i){t._doLayout(e)}))}doLayout(e){if(e&&e.isExpand){var t=this,i=e.getMind();i.traverseDF((e=>{if(e!=t.root&&e.isShow()){if(e.layout){if(e.layout!=t&&e.getTopLayout()!=t)return}else if(e.getLayout()!=t&&"down"==t.direct)return;e.callout&&e.callout.isShow&&e.callout.refresh();var n={},s=e.parent;if(s){var r=s.wireFrames,o=s.summaries;r.length&&r.forEach((t=>{if(t.node==e&&(t.refreshNode(),t.refresh(),t.data&&t.data.text))if(n[e.getId()])n[e.getId()].rangeNode=n[e.getId()].rangeNode.concat(t.rangeNode.slice()),n[e.getId()].rangeNode.unique();else{var i=t.getTextBox().height,s=t.rangeNode.slice();n[e.getId()]={node:e,wf:t,topDy:i+4,rangeNode:s}}})),o.length&&o.forEach((t=>{t.node==e&&(t.refreshNode(),t.refresh())}))}var a=e.getBox();if(t.isCache&&e.boundingRect)var h=e.boundingRect;else{var l=e.getShowNodeList(),d=[],c=[],u=[],p=[];if(l.forEach((e=>{e.callout&&e.callout.isShow&&-1==u.indexOf(e)&&u.push(e.callout),e.layout&&e.layout.isShow&&-1==p.indexOf(e.layout)&&p.push(e.layout);var t=e.wireFrames;e.summaries.forEach((e=>{e.isShow()&&-1==c.indexOf(e)&&c.push(e)})),t.forEach((e=>{e.isHide||-1==d.indexOf(e)&&d.push(e)}))})),l=l.concat(d).concat(u),c.forEach((e=>{l=l.concat(e.getAllItem())})),l.length){h=i.getBoundingRect(l);p.length&&p.forEach((e=>{if("fish"==e.layoutName&&"down"==t.direct&&("right"==e.direct?e.creatBone():e.creatBone1(),e.fishTail)){var i=e.fishTail.bbox();i.x<h.x&&(h.x=i.x),i.y<h.y&&(h.y=i.y),i.x+i.width>h.right&&(h.right=i.x+i.width),i.y+i.height>h.bottom&&(h.bottom=i.y+i.height),h.width=h.right-h.x,h.height=h.bottom-h.y}}))}}if(t.isCache&&e.boundingRect)var m=e.boundingRect.leftDx,f=e.boundingRect.rightDx;else{m=Math.abs(h.x-a.x),f=Math.abs(h.right-a.x-a.width);var g={},v={};r&&r.length&&r.forEach((t=>{var i=t.leftNode;if(t.node==e){if(g[i])return;g[i]=!0,m+=6}if(t.endNode&&t.endNode==e){var n=t.rightNode;if(v[n])return;v[n]=!0,f+=6}})),h.leftDx=m,h.rightDx=f,e.boundingRect=h}if(t.adjustNode(e,m,f,0),"top"!==e.direct)for(let e in n)t.adjustNode(n[e].node,0,0,n[e].topDy,n[e]);r&&r.length&&r.forEach((t=>{t.endNode==e&&t.refresh()})),o&&o.length&&o.forEach((t=>{t.endNode==e&&t.refresh()}))}}),e,!1)}}adjustNode(e,t,i,n,s){var r=this;if(s)s.rangeNode.forEach((e=>{"down"==r.direct?r.moveNode(e,0,n):r.moveNode(e,0,-n)}));else if(e&&e!=this.root){var o=e.getPosition();e.getSiblings().forEach((function(e){let n=e.getPosition();if(o.x>n.x){if(0==t)return;r.moveNode(e,-t,0)}else{if(0==i)return;r.moveNode(e,i,0)}}))}}refreshLayout(){var e=this.root,t=e.getPosition(),i=e.getBox(),n=t.x+i.width/2,s=e.getChildren();if(s.length>=2){var r=s[0],o=s[s.length-1],a=r.getPosition(),h=o.getPosition(),l=o.getBox(),d=h.x+l.width-n,c=n-a.x;if(Math.abs(d)!=Math.abs(c)){var u=Math.abs(Math.abs(d)-Math.abs(c))/2;Math.abs(d)>Math.abs(c)?s.forEach((e=>{this.moveNode(e,-u,0)})):s.forEach((e=>{this.moveNode(e,u,0)}))}}}createLink(){"down"==this.direct?this.createDownLink():this.createUpLink()}createDownLink(){var e=this,t=this.root;if(this.group&&this.group.clear(),0==this.root.getChildren().length)return;if(!this.group||!this.root.isShow())return;let i=this.lineWidth;function n(e){if(e.isExpand){if(e.layout)return void e.layout.createLink();e.children.forEach((e=>{n(e)}))}}!function t(n){if((!n.layout||n==e.root)&&n.isExpand){var s=n.getPosition(),r=n.getBox();n==e.root&&(r.height+=1),n.getChildren().forEach((function(o,a){let h=o.getBox(),l=o.getPosition(),d={x:s.x+r.width/2,y:s.y+r.height},c=l.x+h.width/2,u=l.y,p=n.stroke?n.stroke:o.stroke?o.stroke:e.colors[a]||Ee();if(o.stroke||(o.stroke=p),o._barDom&&(o._barDom.style.backgroundColor=p,o._barDom.style.borderColor=p),1==n.getChildren().length){if(i%2==1)var m=parseInt(d.x+"")+.5,f=d.y,g=parseInt(c+"")+.5,v=parseInt(u+"")+.5;else m=parseInt(d.x+""),f=d.y,g=parseInt(c+""),v=parseInt(u+"");var y=e.group.line(m,f,g,v).stroke({color:p,width:i,linecap:"round",linejoin:"round"})}else{var A=[s.x+r.width/2,s.y+r.height],x=[l.x+h.width/2,l.y];if(0==n.getLevel())var b=[A[0],A[1]+e.firstLevel/2];else b=[A[0],A[1]+e.levelDis/2];if(l.x+h.width/2>s.x+r.width/2)var w=[x[0]-4,b[1]],k=[x[0],b[1]+4];else w=[x[0]+4,b[1]],k=[x[0],b[1]+4];var C=[A,b,w],E=[k,x];if(C.length>2){(y=e.group.polyline(e.linePoint(C,i))).fill("none"),y.stroke({color:p,width:i,linecap:"round",linejoin:"round"});var D=e.linePoint([k],i)[0],N=e.linePoint([w],i)[0],I=`M${D[0]} ${D[1]},Q${D[0]} ${N[1]},${N[0]} ${N[1]}`,S=e.group.path().stroke({color:p,width:i,linecap:"round",linejoin:"round"});S.plot(I),S.fill("none"),(y=e.group.polyline(e.linePoint(E,i))).fill("none"),y.stroke({color:p,width:i,linecap:"round",linejoin:"round"})}else{(y=e.group.polyline(e.linePoint(C,i))).fill("none"),y.stroke({color:p,width:i,linecap:"round",linejoin:"round"})}}t(o)}))}}(t),t.children.forEach(((e,t)=>{n(e)}))}createUpLink(){var e=this,t=this.root;if(this.group&&this.group.clear(),0==this.root.getChildren().length)return;if(!this.group||!this.root.isShow())return;let i=this.lineWidth;(t=this.root).children.forEach(((e,t)=>{e.stroke||(e.stroke=this.colors[t]||Ee())})),function t(n){if(n.layout&&n!=e.root&&n.layout.group&&n.layout.group.clear(),n.isExpand){var s=n.getPosition(),r=n.getBox();n.getLevel(),n.getChildren().forEach((function(o,a){let h=o.getCBox(),l=o.getPosition(),d=parseInt(s.x+r.width/2+""),c=parseInt(s.y+""),u=parseInt(l.x+h.width/2+""),p=parseInt(l.y+h.height+""),m=n.stroke?n.stroke:o.stroke?o.stroke:Ee();if(o.stroke||(o.stroke=m),o._barDom&&(o._barDom.style.backgroundColor=m,o._barDom.style.borderColor=m),1==n.getChildren().length){if(i%2==1)var f=parseInt(d+"")+.5,g=parseInt(c+"")+.5,v=parseInt(u+"")+.5,y=parseInt(p+"")+.5;else f=parseInt(d+""),g=parseInt(c+""),v=parseInt(u+""),y=parseInt(p+"");var A=e.group.line(f,g,v,y).stroke({color:m,width:i,linecap:"round",linejoin:"round"})}else{var x=[s.x+r.width/2,s.y],b=[l.x+h.width/2,l.y+h.height],w=[x[0],x[1]-e.levelDis/2];if(o.isFirst()||o.isLast()){if(l.x+h.width/2>s.x+r.width/2)var k=[b[0]-4,w[1]],C=[b[0],w[1]-4];else k=[b[0]+4,w[1]],C=[b[0],w[1]-4];var E=[x,w,k],D=[C,b]}else E=[k=[b[0],w[1]],b];if(E.length>2){(A=e.group.polyline(e.linePoint(E,i))).fill("none"),A.stroke({color:m,width:i,linecap:"round",linejoin:"round"});var N=e.linePoint([C],i)[0],I=e.linePoint([k],i)[0],S=`M${N[0]} ${N[1]},Q${N[0]} ${I[1]},${I[0]} ${I[1]}`,B=e.group.path().stroke({color:m,width:i,linecap:"round",linejoin:"round"});B.plot(S),B.fill("none"),(A=e.group.polyline(e.linePoint(D,i))).fill("none"),A.stroke({color:m,width:i,linecap:"round",linejoin:"round"})}else{(A=e.group.polyline(e.linePoint(E,i))).fill("none"),A.stroke({color:m,width:i,linecap:"round",linejoin:"round"})}}t(o)}))}}(t)}refresh(){var e=this.root;this.layout(e,this.direct),this.createLink()}},multipleTree:class extends De{constructor(e,t,i){super("multipleTree"),this.mind=null,this.colors=[],this.layoutName="multipleTree",this.type="multipleTree",this.levelDis=20,this.firstLevelDis=40,this.nodeDis=18,this.root=null,this.rootLevel=0,this.rights=[],this.lefts=[],this.isCache=!1,this.name="multipleTree",this.lineWidth=2,this.root=e,this.mind=this.root.mindmap,this.colors=i||[],this.direct=t||"multipleTree",this.svgDom||(this.svgDom=this.mind.edgeGroup.group())}layout(e,t){if(this.rights=[],this.lefts=[],this.root=e||this.root,this.rootLevel=this.root.getLevel(),this.root.layout=this,this.direct=t,this.root.containEl.classList.contains("mm-multipleTree-node")||(this.root.containEl.classList.add("mm-node-down"),this.root.containEl.classList.add("mm-multipleTree-node")),this.svgDom||(this.svgDom=this.root.mindmap.edgeGroup.group()),"right"==this.direct)this.root.children.forEach((e=>{this.rights.push(e),this.setDirect(e,"right")}));else if("left"==this.direct)this.root.children.forEach((e=>{this.lefts.push(e),this.setDirect(e,"left")}));else{var i=this.root.children.length;this.root.children.forEach(((e,t)=>{t<Math.ceil(i/2)?(this.rights.push(e),this.setDirect(e,"right")):(this.lefts.push(e),this.setDirect(e,"left"))}))}this._layoutTow(),this._updateRootAssist(),this.createLink()}setDirect(e,t){if(e.direct=t,e.containEl){var i=e.containEl.classList.contains("mm-node-second");if(e.containEl.setAttribute("class",""),e.containEl.classList.add("mm-node"),e.containEl.classList.add("mm-node-down"),e.containEl.classList.add(`mm-${this.layoutName}-node`),e.isLeaf()&&!e.containEl.classList.contains("mm-node-leaf")?e.containEl.classList.add("mm-node-leaf"):e.containEl.classList.contains("mm-node-leaf")&&e.containEl.classList.remove("mm-node-leaf"),e.layout)return;1==e.getLevel()&&"induce"!=this.root.nodeType&&(e.containEl.classList.add("mm-node-second"),e.refreshBox()),i&&e.refreshBox(),e.isSelect&&e.containEl.classList.add("mm-node-select"),e.isExpand||e.containEl.classList.add("mm-node-collapse"),e.children.forEach((e=>{this.setDirect(e,t)}))}}_layoutTow(){this.root.isExpand&&this.root.isShow()&&(this._layoutRight(),this._layoutLeft())}_layoutRight(){var e=this.root.getCBox();this.rights.forEach(((t,i)=>{t.callout&&t.callout.refresh(),this._layoutRightNode(t,i,e,!0,t.getLevel()-1)}))}getParentPos(e){e.getLevel();var t=e.getDomBox();return{x:t.x+t.width/2,y:t.y+t.height}}_layoutRightNode(e,t,i,n,s){var r=this.root.getMind(),o=i.x+i.width/2,a=i.y+i.height;if(0==t){var h=e.getCBox(!0);e.setPosition(o+this.levelDis,a+this.nodeDis+h.th+i.bh)}else{var l=e.getCBox(!0);if(n){let i=this.rights[t-1];if(this.isCache&&i.boundingRect)var d=i.boundingRect;else{d=r.getBBox(i);i.boundingRect=d}var c=i.getPosition();if(i.layout){var{x:u}=this.getParentPos(i.parent);e.setPosition(u+this.levelDis,d.y+d.height+this.nodeDis+l.th)}else e.setPosition(c.x,d.y+d.height+this.nodeDis+l.th)}else{var p=e.parent.children[t-1];let i=p.getPosition();if(this.isCache&&p.boundingRect)d=p.boundingRect;else{d=r.getBBox(p);p.boundingRect=d}if(p.layout){var{x:u}=this.getParentPos(p.parent);e.setPosition(u+this.levelDis,d.y+d.height+this.nodeDis+l.th)}else e.setPosition(i.x,d.y+d.height+this.nodeDis+l.th)}}if(e.layout){if("table"!=e.layout.layoutName){e.layout.layout(e,e.layout.direct||"");let t=e.getPosition();i=r.getBBox(e);e.boundingRect=i;var m=Math.abs(t.x-i.x);if(h)var f=Math.abs(t.y-i.y)-h.th;else f=Math.abs(t.y-i.y);return this.moveNode(e,m,f),e.direct="right",void this._updateNodeAssist(e)}return e.boundingRect=null,e.direct="right",void this._updateNodeAssist(e)}if(this._updateNodeAssist(e),e.isExpand){var g=e.getCBox(!0);e.children.forEach(((e,t)=>{e.callout&&e.callout.refresh(),this._layoutRightNode(e,t,g)}))}}_layoutLeft(){var e=this.root.getCBox();this.lefts.forEach(((t,i)=>{t.callout&&t.callout.refresh(),this._layoutLeftNode(t,i,e,!0,t.getLevel()-1)}))}_layoutLeftNode(e,t,i,n,s){var r=this.root.getMind(),o=i.x+i.width/2,a=i.y+i.height,{width:h,th:l}=e.getCBox(!0);if(0==t){var d=0;s==this.rootLevel&&(d=20),e.setPosition(o-h-this.levelDis,a+this.nodeDis+d+l+i.bh)}else{var c=e.getCBox(!0);if(n){var u=this.lefts[t-1];if(this.isCache&&u.boundingRect)var p=u.boundingRect;else{p=r.getBBox(u);u.boundingRect=p}if(u.layout){var{x:m}=this.getParentPos(u.parent);e.setPosition(m-this.levelDis-h,p.y+p.height+this.nodeDis+c.th)}else{var f=u.getCBox(!0);e.setPosition(f.x+f.width-h,p.y+p.height+this.nodeDis+c.th)}}else{let i=e.parent.children[t-1];p=r.getBBox(i);if(this.isCache&&i.boundingRect)p=i.boundingRect;else{p=r.getBBox(i);i.boundingRect=p}if(i.layout){var{x:m}=this.getParentPos(i.parent);e.setPosition(m-this.levelDis-h,p.y+p.height+this.nodeDis+c.th)}else{let t=i.getCBox(!0);e.setPosition(t.x+t.width-h,p.y+p.height+this.nodeDis+c.th)}}}if(e.layout){if("table"!=e.layout.layoutName){e.layout.layout(e,e.layout.direct||"");var g=e.getPosition(),v=(i=r.getBBox(e),Math.abs(g.x+h-i.x-i.width)),y=Math.abs(g.y-i.y)-l;return this.moveNode(e,-v,y),e.direct="left",void this._updateNodeAssist(e)}g=e.getPosition(),i=r.getBBox(e),v=Math.abs(g.x+h-i.x-i.width),y=Math.abs(g.y-i.y)-l;return this.moveNode(e,-v,y),e.direct="left",e.boundingRect=null,void this._updateNodeAssist(e)}if(this._updateNodeAssist(e),e.isExpand){var A=e.getCBox(!0);e.children.forEach(((e,t)=>{e.callout&&e.callout.refresh(),this._layoutLeftNode(e,t,A)}))}}createLink(){var e=this;if(this.svgDom&&this.svgDom.clear(),this.svgDom&&this.root.isShow()&&0!=this.root.getChildren().length){var t=this.lineWidth;Ee(),this.root.children.forEach(((e,t)=>{e.stroke||(e.stroke=this.colors[t]||Ee())})),function i(n){if(n.isExpand){var s=Object.assign({},n.getBox());n!=e.root&&(s.height+=1);var r=[s.x+s.width/2,s.y+s.height];n.children.forEach((s=>{var o=Object.assign({},s.getBox());o.height+=1;var a=n.stroke?n.stroke:s.stroke?s.stroke:Ee();if(s.stroke||(s.stroke=a),s._barDom&&(s._barDom.style.backgroundColor=a,s._barDom.style.borderColor=a),"right"==s.direct)var h=e.linePoint([[r[0],o.y+o.height-6]],t)[0],l=e.linePoint([[o.x+o.width,o.y+o.height]],t)[0],d=e.linePoint([[h[0]+6,l[1]]],t)[0],c=`M${h[0]} ${h[1]},Q${h[0]} ${h[1]+6},${d[0]} ${d[1]}`;else h=e.linePoint([[r[0],o.y+o.height-6]],t)[0],l=e.linePoint([[o.x,o.y+o.height]],t)[0],d=e.linePoint([[h[0]-6,l[1]]],t)[0],c=`M${h[0]} ${h[1]},Q${h[0]} ${h[1]+6},${d[0]} ${d[1]} `;var u=e.svgDom.path().stroke({color:a,width:t,linecap:"round",linejoin:"round"});u.plot(c),u.fill("none");var p=e.svgDom.line(e.linePoint([r,h],t));p.fill("none"),p.stroke({color:a,width:t,linecap:"round",linejoin:"round"});var m=e.svgDom.line(e.linePoint([d,l],t));m.fill("none"),m.stroke({color:a,width:t,linecap:"round",linejoin:"round"}),s.layout||i(s)}))}}(this.root),this.root.children.forEach(((e,t)=>{i(e)}))}function i(e){if(e.isExpand){if(e.layout)return void e.layout.createLink();e.children.forEach((e=>{i(e)}))}}}refresh(){this.layout(this.root,this.direct),this.createLink()}},vertical:class extends De{constructor(e,t,i){if(super("vertical"),this.layoutName="vertical",this.type="vertical",this.dis=40,this.direct="vertical",this.isCache=!0,this.root=null,this.colors=[],this.svgDom=null,this.root=e,this.direct=t||"vertical",this.colors=i||[],!e.stroke){var n=Ee();e.data.stroke=n,e.stroke=n}}layout(e,t){this.direct=t||"vertical",this.root=e||this.root,this.root.parent||this.root.containEl.classList.contains("mm-root")||this.root.containEl.classList.add("mm-root"),this.svgDom||(this.svgDom=this.root.getMind().edgeGroup.group()),this.root.layout=this,this._layout(this.root,this.direct),this._updateRootAssist(),this.createLink()}_layout(e,t){var i=this;this.root=e,this.direct=t||"vertical";var n=this.root.mindmap,s=this.root.getPosition(),r=this.root.getBox(),o=s.x+r.width/2,a=s.y+r.height;this.root.isExpand&&(this.root.children.forEach(((e,t)=>{var s="right";t%2==0&&(s="left");var r;if(e.stroke)var h=e.stroke;else h=this.colors[t]||Ee(),e.data.stroke=h,e.stroke=h;r=new Array(100).fill(h),!e.layout&&(e.layout=new Ie(e,s,r)),e.layout.root=e;var l=e.getBox();if(0==t)e.setPosition(o-l.width/2,a+this.dis);else{var d=this.root.children[t-1],c=n.getBBox(d);e.boundingRect=c;var u=c.bottom;e.setPosition(o-l.width/2,u+this.dis)}e.layout.layout(e,s||this.direct||""),e.callout&&e.callout.refresh();var p=e.getPosition(),m=(l=n.getBBox(e),Math.abs(p.y-l.y));this.moveNode(e,0,m),e.containEl.classList=[],e.containEl.classList.add("mm-node"),e.containEl.classList.add("mm-node-"+s),e.containEl.classList.add("mm-node-second"),e.containEl.classList.add("mm-vertical-node"),e.isLeaf()?e.containEl.classList.contains("mm-node-leaf")||e.containEl.classList.add("mm-node-leaf"):e.containEl.classList.contains("mm-node-leaf")&&e.containEl.classList.remove("mm-node-leaf"),this._updateNodeAssist(e,i.root)})),this._updateNodeAssist(this.root,this.root))}createLink(){var e=this.root.children,t=e.length;if(this.svgDom&&this.svgDom.clear(),!this.svgDom||!this.root.isShow())return;if(0==t)return;let i=this.root.stroke?this.root.stroke:Ee();var n=e[t-1];var s=this.root.getPosition(),r=this.root.getCBox();n.getCBox();var o=n.getPosition(),a=s.x+r.width/2,h=a,l=s.y+r.height,d=o.y;this.svgDom.line(a,l,h,d).stroke({color:i,width:2,linecap:"round",linejoin:"round"}),e.forEach((e=>{e.layout.createLink()}))}refresh(){this.layout(this.root,this.direct)}},table:class extends De{constructor(e,t){super("table"),this.layoutName="table",this.direct="",this.data=null,this.levelDis=50,this.nodeDis=6,this.firstLevelDis=80,this.firstNodeDis=20,this.isCache=!0,this.lefts=[],this.rights=[],this.colors=[],this.lineWidth=2,this.tableDom=null,this.lastNode=null,this.x=0,this.y=0,this.root=e,this.direct=t||"right",this.mind=this.root.getMind();var i=this.getData(e),{x:n,y:s}=e.getPosition();this.x=n,this.y=s,this.initTableDom(),this.initTableNode(i),this.layout()}layout(e,t){var i=document.createElement("table");i.classList.add("mm-table"),i.classList.add("mm-table-bordered"),this.tableDom.innerHTML="",this.tableDom.appendChild(i);var n=this.getMaxlevel(),s=document.createElement("thead"),r=document.createElement("tr");i.appendChild(s),this.root.init(n),this.root.tdDom.setAttribute("colspan",n),r.appendChild(this.root.tdDom),s.appendChild(r);var o=[];this.root.children.forEach((e=>{this.mind.traverseDF((e=>{if(e.init(),e.isLeaf()&&1!=e.getLevel()){var t=document.createElement("tr");e.trDom=t,i.appendChild(t),t.appendChild(e.tdDom),o.push(e),e.tdDom.setAttribute("colspan",n-e.getLevel()+1),e.tdDom.setAttribute("rowspan",1)}}),e)})),o.forEach((e=>{for(var t=e.parent;t&&t!=this.root&&!i.querySelector(`[data-id='${t.data.id}']`);){t.tdDom.setAttribute("colspan",1);var n=t.children[0].trDom;n.insertBefore(t.tdDom,n.firstChild),t.trDom=n;var s=this.getRowspan(t);t.tdDom.setAttribute("rowspan",s),t=t.parent}})),this.root.children.forEach(((e,t)=>{if(!i.querySelector(`[data-id='${e.data.id}']`)){var r=document.createElement("tr");if(r.appendChild(e.tdDom),e.tdDom.setAttribute("colspan",n),e.tdDom.setAttribute("rowspan",1),e.trDom=r,0==t)Hi(r,s);else{var o=this.getLastNode(this.root.children[t-1]);o&&Hi(r,o.trDom)}}}))}initTableDom(){if(!this.tableDom){var e=document.createElement("div");e.classList.add("mm-table-content"),e.style.position="absolute",e.style.left=this.x+"px",e.style.top=this.y+"px",this.tableDom=e,this.mind.contentEL.appendChild(e)}}initTableNode(e){var t=this;!function e(i,n,s){var r=new be(i,t.mind);r._tableDom=t.tableDom,n?(t.root=r,r.layout=t):(s.children.push(r),r.parent=s),r.direct=t.direct,t.lastNode=r,i.children&&i.children.length&&i.children.forEach((t=>{e(t,!1,r)}))}(e,!0),this.initTableDom()}getLastNode(e){return function e(t){var i=t.children.length;return i?e(t.children[i-1]):t}(e)}getMaxlevel(e){var t=0;return this.mind.traverseDF((e=>{var i=e.getLevel();t<i&&(t=i)}),e||this.root),t}getRowspan(e){return function e(t){var i=t.children.length,n=t.children.filter((e=>e.children&&e.children.length));if(n.length){var s=[i];n.forEach((t=>{var i=e(t);s.push(i)}));var r=0;return s.forEach((e=>{r+=e})),r-n.length}return i}(e)}getData(e){var t=e.getData();return e.getChildren().length&&(t.children=[],e.getChildren().forEach((e=>{t.children.push(this.getData(e))}))),t}createLink(){}refresh(){this.layout()}setPosition(e,t){this.x=e,this.y=t,this.tableDom&&(this.tableDom.style.left=e+"px",this.tableDom.style.top=t+"px")}getBox(){return this.tableDom?{x:this.x,y:this.y,width:this.tableDom.clientWidth,height:this.tableDom.clientHeight}:{x:this.x,y:this.y,width:0,height:0}}}},Be=ke((function(e,t){!function(t,i){e.exports=t.document?i(t,t.document):function(e){return i(e,e.document)}}("undefined"!=typeof window?window:we,(function(e,t){var i=(void 0!==this?this:e).SVG=function(e){if(i.supported)return e=new i.Doc(e),i.parser.draw||i.prepare(),e};if(i.ns="http://www.w3.org/2000/svg",i.xmlns="http://www.w3.org/2000/xmlns/",i.xlink="http://www.w3.org/1999/xlink",i.svgjs="http://svgjs.com/svgjs",i.supported=!!t.createElementNS&&!!t.createElementNS(i.ns,"svg").createSVGRect,!i.supported)return!1;i.did=1e3,i.eid=function(e){return"Svgjs"+c(e)+i.did++},i.create=function(e){var i=t.createElementNS(this.ns,e);return i.setAttribute("id",this.eid(e)),i},i.extend=function(){var e,t,n,s;for(t=(e=[].slice.call(arguments)).pop(),s=e.length-1;s>=0;s--)if(e[s])for(n in t)e[s].prototype[n]=t[n];i.Set&&i.Set.inherit&&i.Set.inherit()},i.invent=function(e){var t="function"==typeof e.create?e.create:function(){this.constructor.call(this,i.create(e.create))};return e.inherit&&(t.prototype=new e.inherit),e.extend&&i.extend(t,e.extend),e.construct&&i.extend(e.parent||i.Container,e.construct),t},i.adopt=function(t){return t?t.instance?t.instance:((n="svg"==t.nodeName?t.parentNode instanceof e.SVGElement?new i.Nested:new i.Doc:"linearGradient"==t.nodeName?new i.Gradient("linear"):"radialGradient"==t.nodeName?new i.Gradient("radial"):i[c(t.nodeName)]?new(i[c(t.nodeName)]):new i.Element(t)).type=t.nodeName,n.node=t,t.instance=n,n instanceof i.Doc&&n.namespace().defs(),n.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),n):null;var n},i.prepare=function(){var e=t.getElementsByTagName("body")[0],n=(e?new i.Doc(e):i.adopt(t.documentElement).nested()).size(2,0);i.parser={body:e||t.documentElement,draw:n.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:n.polyline().node,path:n.path().node,native:i.create("svg")}},i.parser={native:i.create("svg")},t.addEventListener("DOMContentLoaded",(function(){i.parser.draw||i.prepare()}),!1),i.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},i.utils={map:function(e,t){var i,n=e.length,s=[];for(i=0;i<n;i++)s.push(t(e[i]));return s},filter:function(e,t){var i,n=e.length,s=[];for(i=0;i<n;i++)t(e[i])&&s.push(e[i]);return s},radians:function(e){return e%360*Math.PI/180},degrees:function(e){return 180*e/Math.PI%360},filterSVGElements:function(t){return this.filter(t,(function(t){return t instanceof e.SVGElement}))}},i.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},i.Color=function(e){var t,n;(this.r=0,this.g=0,this.b=0,e)&&("string"==typeof e?i.regex.isRgb.test(e)?(t=i.regex.rgb.exec(e.replace(i.regex.whitespace,"")),this.r=parseInt(t[1]),this.g=parseInt(t[2]),this.b=parseInt(t[3])):i.regex.isHex.test(e)&&(t=i.regex.hex.exec(4==(n=e).length?["#",n.substring(1,2),n.substring(1,2),n.substring(2,3),n.substring(2,3),n.substring(3,4),n.substring(3,4)].join(""):n),this.r=parseInt(t[1],16),this.g=parseInt(t[2],16),this.b=parseInt(t[3],16)):"object"==typeof e&&(this.r=e.r,this.g=e.g,this.b=e.b))},i.extend(i.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+u(this.r)+u(this.g)+u(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(e){return this.destination=new i.Color(e),this},at:function(e){return this.destination?(e=e<0?0:e>1?1:e,new i.Color({r:~~(this.r+(this.destination.r-this.r)*e),g:~~(this.g+(this.destination.g-this.g)*e),b:~~(this.b+(this.destination.b-this.b)*e)})):this}}),i.Color.test=function(e){return e+="",i.regex.isHex.test(e)||i.regex.isRgb.test(e)},i.Color.isRgb=function(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b},i.Color.isColor=function(e){return i.Color.isRgb(e)||i.Color.test(e)},i.Array=function(e,t){0==(e=(e||[]).valueOf()).length&&t&&(e=t.valueOf()),this.value=this.parse(e)},i.extend(i.Array,{morph:function(e){if(this.destination=this.parse(e),this.value.length!=this.destination.length){for(var t=this.value[this.value.length-1],i=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(i);for(;this.value.length<this.destination.length;)this.value.push(t)}return this},settle:function(){for(var e=0,t=this.value.length,i=[];e<t;e++)-1==i.indexOf(this.value[e])&&i.push(this.value[e]);return this.value=i},at:function(e){if(!this.destination)return this;for(var t=0,n=this.value.length,s=[];t<n;t++)s.push(this.value[t]+(this.destination[t]-this.value[t])*e);return new i.Array(s)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(e){return e=e.valueOf(),Array.isArray(e)?e:this.split(e)},split:function(e){return e.trim().split(i.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var e=new this.constructor;return e.value=l(this.value),e}}),i.PointArray=function(e,t){i.Array.call(this,e,t||[[0,0]])},i.PointArray.prototype=new i.Array,i.PointArray.prototype.constructor=i.PointArray,i.extend(i.PointArray,{toString:function(){for(var e=0,t=this.value.length,i=[];e<t;e++)i.push(this.value[e].join(","));return i.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(e){if(!this.destination)return this;for(var t=0,n=this.value.length,s=[];t<n;t++)s.push([this.value[t][0]+(this.destination[t][0]-this.value[t][0])*e,this.value[t][1]+(this.destination[t][1]-this.value[t][1])*e]);return new i.PointArray(s)},parse:function(e){var t=[];if(e=e.valueOf(),Array.isArray(e)){if(Array.isArray(e[0]))return e.map((function(e){return e.slice()}));if(null!=e[0].x)return e.map((function(e){return[e.x,e.y]}))}else e=e.trim().split(i.regex.delimiter).map(parseFloat);e.length%2!=0&&e.pop();for(var n=0,s=e.length;n<s;n+=2)t.push([e[n],e[n+1]]);return t},move:function(e,t){var i=this.bbox();if(e-=i.x,t-=i.y,!isNaN(e)&&!isNaN(t))for(var n=this.value.length-1;n>=0;n--)this.value[n]=[this.value[n][0]+e,this.value[n][1]+t];return this},size:function(e,t){var i,n=this.bbox();for(i=this.value.length-1;i>=0;i--)n.width&&(this.value[i][0]=(this.value[i][0]-n.x)*e/n.width+n.x),n.height&&(this.value[i][1]=(this.value[i][1]-n.y)*t/n.height+n.y);return this},bbox:function(){return i.parser.poly.setAttribute("points",this.toString()),i.parser.poly.getBBox()}});for(var n={M:function(e,t,i){return t.x=i.x=e[0],t.y=i.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,i){return t.x=i.x,t.y=i.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},s="mlhvqtcsaz".split(""),r=0,o=s.length;r<o;++r)n[s[r]]=function(e){return function(t,i,s){if("H"==e)t[0]=t[0]+i.x;else if("V"==e)t[0]=t[0]+i.y;else if("A"==e)t[5]=t[5]+i.x,t[6]=t[6]+i.y;else for(var r=0,o=t.length;r<o;++r)t[r]=t[r]+(r%2?i.y:i.x);return n[e](t,i,s)}}(s[r].toUpperCase());i.PathArray=function(e,t){i.Array.call(this,e,t||[["M",0,0]])},i.PathArray.prototype=new i.Array,i.PathArray.prototype.constructor=i.PathArray,i.extend(i.PathArray,{toString:function(){return function(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t][0],null!=e[t][1]&&(n+=e[t][1],null!=e[t][2]&&(n+=" ",n+=e[t][2],null!=e[t][3]&&(n+=" ",n+=e[t][3],n+=" ",n+=e[t][4],null!=e[t][5]&&(n+=" ",n+=e[t][5],n+=" ",n+=e[t][6],null!=e[t][7]&&(n+=" ",n+=e[t][7])))));return n+" "}(this.value)},move:function(e,t){var i=this.bbox();if(e-=i.x,t-=i.y,!isNaN(e)&&!isNaN(t))for(var n,s=this.value.length-1;s>=0;s--)"M"==(n=this.value[s][0])||"L"==n||"T"==n?(this.value[s][1]+=e,this.value[s][2]+=t):"H"==n?this.value[s][1]+=e:"V"==n?this.value[s][1]+=t:"C"==n||"S"==n||"Q"==n?(this.value[s][1]+=e,this.value[s][2]+=t,this.value[s][3]+=e,this.value[s][4]+=t,"C"==n&&(this.value[s][5]+=e,this.value[s][6]+=t)):"A"==n&&(this.value[s][6]+=e,this.value[s][7]+=t);return this},size:function(e,t){var i,n,s=this.bbox();for(i=this.value.length-1;i>=0;i--)"M"==(n=this.value[i][0])||"L"==n||"T"==n?(this.value[i][1]=(this.value[i][1]-s.x)*e/s.width+s.x,this.value[i][2]=(this.value[i][2]-s.y)*t/s.height+s.y):"H"==n?this.value[i][1]=(this.value[i][1]-s.x)*e/s.width+s.x:"V"==n?this.value[i][1]=(this.value[i][1]-s.y)*t/s.height+s.y:"C"==n||"S"==n||"Q"==n?(this.value[i][1]=(this.value[i][1]-s.x)*e/s.width+s.x,this.value[i][2]=(this.value[i][2]-s.y)*t/s.height+s.y,this.value[i][3]=(this.value[i][3]-s.x)*e/s.width+s.x,this.value[i][4]=(this.value[i][4]-s.y)*t/s.height+s.y,"C"==n&&(this.value[i][5]=(this.value[i][5]-s.x)*e/s.width+s.x,this.value[i][6]=(this.value[i][6]-s.y)*t/s.height+s.y)):"A"==n&&(this.value[i][1]=this.value[i][1]*e/s.width,this.value[i][2]=this.value[i][2]*t/s.height,this.value[i][6]=(this.value[i][6]-s.x)*e/s.width+s.x,this.value[i][7]=(this.value[i][7]-s.y)*t/s.height+s.y);return this},equalCommands:function(e){var t,n,s;for(e=new i.PathArray(e),s=this.value.length===e.value.length,t=0,n=this.value.length;s&&t<n;t++)s=this.value[t][0]===e.value[t][0];return s},morph:function(e){return e=new i.PathArray(e),this.equalCommands(e)?this.destination=e:this.destination=null,this},at:function(e){if(!this.destination)return this;var t,n,s,r,o=this.value,a=this.destination.value,h=[],l=new i.PathArray;for(t=0,n=o.length;t<n;t++){for(h[t]=[o[t][0]],s=1,r=o[t].length;s<r;s++)h[t][s]=o[t][s]+(a[t][s]-o[t][s])*e;"A"===h[t][0]&&(h[t][4]=+(0!=h[t][4]),h[t][5]=+(0!=h[t][5]))}return l.value=h,l},parse:function(e){if(e instanceof i.PathArray)return e.valueOf();var t,s={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};e="string"==typeof e?e.replace(i.regex.numbersWithDots,h).replace(i.regex.pathLetters," $& ").replace(i.regex.hyphen,"$1 -").trim().split(i.regex.delimiter):e.reduce((function(e,t){return[].concat.call(e,t)}),[]);var r=[],o=new i.Point,a=new i.Point,l=0,d=e.length;do{i.regex.isPathLetter.test(e[l])?(t=e[l],++l):"M"==t?t="L":"m"==t&&(t="l"),r.push(n[t].call(null,e.slice(l,l+=s[t.toUpperCase()]).map(parseFloat),o,a))}while(d>l);return r},bbox:function(){return i.parser.path.setAttribute("d",this.toString()),i.parser.path.getBBox()}}),i.Number=i.invent({create:function(e,t){this.value=0,this.unit=t||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(t=e.match(i.regex.numberAndUnit))&&(this.value=parseFloat(t[1]),"%"==t[5]?this.value/=100:"s"==t[5]&&(this.value*=1e3),this.unit=t[5]):e instanceof i.Number&&(this.value=e.valueOf(),this.unit=e.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(e){return e=new i.Number(e),new i.Number(this+e,this.unit||e.unit)},minus:function(e){return e=new i.Number(e),new i.Number(this-e,this.unit||e.unit)},times:function(e){return e=new i.Number(e),new i.Number(this*e,this.unit||e.unit)},divide:function(e){return e=new i.Number(e),new i.Number(this/e,this.unit||e.unit)},to:function(e){var t=new i.Number(this);return"string"==typeof e&&(t.unit=e),t},morph:function(e){return this.destination=new i.Number(e),e.relative&&(this.destination.value+=this.value),this},at:function(e){return this.destination?new i.Number(this.destination).minus(this).times(e).plus(this):this}}}),i.Element=i.invent({create:function(e){this._stroke=i.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=e)&&(this.type=e.nodeName,this.node.instance=this,this._events=e._events||{},this._stroke=e.getAttribute("stroke")||this._stroke)},extend:{x:function(e){return this.attr("x",e)},y:function(e){return this.attr("y",e)},cx:function(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)},cy:function(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},width:function(e){return this.attr("width",e)},height:function(e){return this.attr("height",e)},size:function(e,t){var n=p(this,e,t);return this.width(new i.Number(n.width)).height(new i.Number(n.height))},clone:function(e){this.writeDataToDom();var t=v(this.node.cloneNode(!0));return e?e.add(t):this.after(t),t},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(e){return this.after(e).remove(),e},addTo:function(e){return e.put(this)},putIn:function(e){return e.add(this)},id:function(e){return this.attr("id",e)},inside:function(e,t){var i=this.bbox();return e>i.x&&t>i.y&&e<i.x+i.width&&t<i.y+i.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var e=this.attr("class");return null==e?[]:e.trim().split(i.regex.delimiter)},hasClass:function(e){return-1!=this.classes().indexOf(e)},addClass:function(e){if(!this.hasClass(e)){var t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter((function(t){return t!=e})).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},reference:function(e){return i.get(this.attr(e))},parent:function(t){var n=this;if(!n.node.parentNode)return null;if(n=i.adopt(n.node.parentNode),!t)return n;for(;n&&n.node instanceof e.SVGElement;){if("string"==typeof t?n.matches(t):n instanceof t)return n;if(!n.node.parentNode||"#document"==n.node.parentNode.nodeName||"#document-fragment"==n.node.parentNode.nodeName)return null;n=i.adopt(n.node.parentNode)}},doc:function(){return this instanceof i.Doc?this:this.parent(i.Doc)},parents:function(e){var t=[],i=this;do{if(!(i=i.parent(e))||!i.node)break;t.push(i)}while(i.parent);return t},matches:function(e){return function(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}(this.node,e)},native:function(){return this.node},svg:function(e){var n=t.createElement("svg");if(!(e&&this instanceof i.Parent))return n.appendChild(e=t.createElement("svg")),this.writeDataToDom(),e.appendChild(this.node.cloneNode(!0)),n.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");n.innerHTML="<svg>"+e.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var s=0,r=n.firstChild.childNodes.length;s<r;s++)this.node.appendChild(n.firstChild.firstChild);return this},writeDataToDom:function(){(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()}));return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(e){return this.dom=e,this},is:function(e){return function(e,t){return e instanceof t}(this,e)}}}),i.easing={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return 1-Math.cos(e*Math.PI/2)}},i.morph=function(e){return function(t,n){return new i.MorphObj(t,n).at(e)}},i.Situation=i.invent({create:function(e){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new i.Number(e.duration).valueOf(),this.delay=new i.Number(e.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=e.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),i.FX=i.invent({create:function(e){this._target=e,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(e,t,n){"object"==typeof e&&(t=e.ease,n=e.delay,e=e.duration);var s=new i.Situation({duration:e||1e3,delay:n||0,ease:i.easing[t||"-"]||t});return this.queue(s),this},delay:function(e){var t=new i.Situation({duration:e,delay:0,ease:i.easing["-"]});return this.queue(t)},target:function(e){return e&&e instanceof i.Element?(this._target=e,this):this._target},timeToAbsPos:function(e){return(e-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(e){return this.situation.duration/this._speed*e+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=e.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){e.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(e){return("function"==typeof e||e instanceof i.Situation)&&this.situations.push(e),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof i.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var e,t,n,s=this.situation;if(s.init)return this;for(e in s.animations)for(n=this.target()[e](),Array.isArray(n)||(n=[n]),Array.isArray(s.animations[e])||(s.animations[e]=[s.animations[e]]),t=n.length;t--;)s.animations[e][t]instanceof i.Number&&(n[t]=new i.Number(n[t])),s.animations[e][t]=n[t].morph(s.animations[e][t]);for(e in s.attrs)s.attrs[e]=new i.MorphObj(this.target().attr(e),s.attrs[e]);for(e in s.styles)s.styles[e]=new i.MorphObj(this.target().style(e),s.styles[e]);return s.initialTransformation=this.target().matrixify(),s.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(e,t){var i=this.active;return this.active=!1,t&&this.clearQueue(),e&&this.situation&&(!i&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var e=this.situation;this.stop(),this.situation=e,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return!0===this.situation.loops&&(this.situation.loops=this.situation.loop+1),"number"==typeof this.situation.loops?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(e,t){var i=this.situation.duration/this._speed;return this.absPos=e,t||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*i,this.situation.finish=this.situation.start+i,this.step(!0)},speed:function(e){return 0===e?this.pause():e?(this._speed=e,this.at(this.absPos,!0)):this._speed},loop:function(e,t){var i=this.last();return i.loops=null==e||e,i.loop=0,t&&(i.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(e){var t=this.last();return t.reversed=void 0===e?!t.reversed:e,this},progress:function(e){return e?this.situation.ease(this.pos):this.pos},after:function(e){var t=this.last();return this.target().on("finished.fx",(function i(n){n.detail.situation==t&&(e.call(this,t),this.off("finished.fx",i))})),this._callStart()},during:function(e){var t=this.last(),n=function(n){n.detail.situation==t&&e.call(this,n.detail.pos,i.morph(n.detail.pos),n.detail.eased,t)};return this.target().off("during.fx",n).on("during.fx",n),this.after((function(){this.off("during.fx",n)})),this._callStart()},afterAll:function(e){var t=function t(i){e.call(this),this.off("allfinished.fx",t)};return this.target().off("allfinished.fx",t).on("allfinished.fx",t),this._callStart()},duringAll:function(e){var t=function(t){e.call(this,t.detail.pos,i.morph(t.detail.pos),t.detail.eased,t.detail.situation)};return this.target().off("during.fx",t).on("during.fx",t),this.afterAll((function(){this.off("during.fx",t)})),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(e,t,i){return this.last()[i||"animations"][e]=t,this._callStart()},step:function(e){var t,i,n;(e||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops)?(t=Math.max(this.absPos,0),i=Math.floor(t),!0===this.situation.loops||i<this.situation.loops?(this.pos=t-i,n=this.situation.loop,this.situation.loop=i):(this.absPos=this.situation.loops,this.pos=1,n=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-n)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos);this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var s=this.situation.ease(this.pos);for(var r in this.situation.once)r>this.lastPos&&r<=s&&(this.situation.once[r].call(this.target(),this.pos,s),delete this.situation.once[r]);return this.active&&this.target().fire("during",{pos:this.pos,eased:s,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=s,this):this},eachAt:function(){var e,t,n,s=this,r=this.target(),o=this.situation;for(e in o.animations)n=[].concat(o.animations[e]).map((function(e){return"string"!=typeof e&&e.at?e.at(o.ease(s.pos),s.pos):e})),r[e].apply(r,n);for(e in o.attrs)n=[e].concat(o.attrs[e]).map((function(e){return"string"!=typeof e&&e.at?e.at(o.ease(s.pos),s.pos):e})),r.attr.apply(r,n);for(e in o.styles)n=[e].concat(o.styles[e]).map((function(e){return"string"!=typeof e&&e.at?e.at(o.ease(s.pos),s.pos):e})),r.style.apply(r,n);if(o.transforms.length){for(n=o.initialTransformation,e=0,t=o.transforms.length;e<t;e++){var a=o.transforms[e];a instanceof i.Matrix?n=a.relative?n.multiply((new i.Matrix).morph(a).at(o.ease(this.pos))):n.morph(a).at(o.ease(this.pos)):(a.relative||a.undo(n.extract()),n=n.multiply(a.at(o.ease(this.pos))))}r.matrix(n)}return this},once:function(e,t,i){var n=this.last();return i||(e=n.ease(e)),n.once[e]=t,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:i.Element,construct:{animate:function(e,t,n){return(this.fx||(this.fx=new i.FX(this))).animate(e,t,n)},delay:function(e){return(this.fx||(this.fx=new i.FX(this))).delay(e)},stop:function(e,t){return this.fx&&this.fx.stop(e,t),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(e){if(this.fx){if(null==e)return this.fx.speed();this.fx.speed(e)}return this}}}),i.MorphObj=i.invent({create:function(e,t){return i.Color.isColor(t)?new i.Color(e).morph(t):i.regex.delimiter.test(e)?i.regex.pathLetters.test(e)?new i.PathArray(e).morph(t):new i.Array(e).morph(t):i.regex.numberAndUnit.test(t)?new i.Number(e).morph(t):(this.value=e,void(this.destination=t))},extend:{at:function(e,t){return t<1?this.value:this.destination},valueOf:function(){return this.value}}}),i.extend(i.FX,{attr:function(e,t,i){if("object"==typeof e)for(var n in e)this.attr(n,e[n]);else this.add(e,t,"attrs");return this},style:function(e,t){if("object"==typeof e)for(var i in e)this.style(i,e[i]);else this.add(e,t,"styles");return this},x:function(e,t){if(this.target()instanceof i.G)return this.transform({x:e},t),this;var n=new i.Number(e);return n.relative=t,this.add("x",n)},y:function(e,t){if(this.target()instanceof i.G)return this.transform({y:e},t),this;var n=new i.Number(e);return n.relative=t,this.add("y",n)},cx:function(e){return this.add("cx",new i.Number(e))},cy:function(e){return this.add("cy",new i.Number(e))},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},size:function(e,t){var n;this.target()instanceof i.Text?this.attr("font-size",e):(e&&t||(n=this.target().bbox()),e||(e=n.width/n.height*t),t||(t=n.height/n.width*e),this.add("width",new i.Number(e)).add("height",new i.Number(t)));return this},width:function(e){return this.add("width",new i.Number(e))},height:function(e){return this.add("height",new i.Number(e))},plot:function(e,t,i,n){return 4==arguments.length?this.plot([e,t,i,n]):this.add("plot",new(this.target().morphArray)(e))},leading:function(e){return this.target().leading?this.add("leading",new i.Number(e)):this},viewbox:function(e,t,n,s){return this.target()instanceof i.Container&&this.add("viewbox",new i.ViewBox(e,t,n,s)),this},update:function(e){if(this.target()instanceof i.Stop){if("number"==typeof e||e instanceof i.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",e.offset)}return this}}),i.Box=i.invent({create:function(e,t,n,s){if(!("object"!=typeof e||e instanceof i.Element))return i.Box.call(this,null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height);4==arguments.length&&(this.x=e,this.y=t,this.width=n,this.height=s),y(this)},extend:{merge:function(e){var t=new this.constructor;return t.x=Math.min(this.x,e.x),t.y=Math.min(this.y,e.y),t.width=Math.max(this.x+this.width,e.x+e.width)-t.x,t.height=Math.max(this.y+this.height,e.y+e.height)-t.y,y(t)},transform:function(e){var t,n=1/0,s=-1/0,r=1/0,o=-1/0;return[new i.Point(this.x,this.y),new i.Point(this.x2,this.y),new i.Point(this.x,this.y2),new i.Point(this.x2,this.y2)].forEach((function(t){t=t.transform(e),n=Math.min(n,t.x),s=Math.max(s,t.x),r=Math.min(r,t.y),o=Math.max(o,t.y)})),(t=new this.constructor).x=n,t.width=s-n,t.y=r,t.height=o-r,y(t),t}}}),i.BBox=i.invent({create:function(e){if(i.Box.apply(this,[].slice.call(arguments)),e instanceof i.Element){var n;try{if(t.documentElement.contains){if(!t.documentElement.contains(e.node))throw new Exception("Element not in the dom")}else{for(var s=e.node;s.parentNode;)s=s.parentNode;if(s!=t)throw new Exception("Element not in the dom")}n=e.node.getBBox()}catch(t){if(e instanceof i.Shape){var r=e.clone(i.parser.draw.instance).show();n=r.node.getBBox(),r.remove()}else n={x:e.node.clientLeft,y:e.node.clientTop,width:e.node.clientWidth,height:e.node.clientHeight}}i.Box.call(this,n)}},inherit:i.Box,parent:i.Element,construct:{bbox:function(){return new i.BBox(this)}}}),i.BBox.prototype.constructor=i.BBox,i.extend(i.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),i.RBox=i.invent({create:function(e){i.Box.apply(this,[].slice.call(arguments)),e instanceof i.Element&&i.Box.call(this,e.node.getBoundingClientRect())},inherit:i.Box,parent:i.Element,extend:{addOffset:function(){return this.x+=e.pageXOffset,this.y+=e.pageYOffset,this}},construct:{rbox:function(e){return e?new i.RBox(this).transform(e.screenCTM().inverse()):new i.RBox(this).addOffset()}}}),i.RBox.prototype.constructor=i.RBox,i.Matrix=i.invent({create:function(e){var t,n=f([1,0,0,1,0,0]);for(e=e instanceof i.Element?e.matrixify():"string"==typeof e?f(e.split(i.regex.delimiter).map(parseFloat)):6==arguments.length?f([].slice.call(arguments)):Array.isArray(e)?f(e):"object"==typeof e?e:n,t=x.length-1;t>=0;--t)this[x[t]]=null!=e[x[t]]?e[x[t]]:n[x[t]]},extend:{extract:function(){var e=m(this,0,1),t=m(this,1,0),n=180/Math.PI*Math.atan2(e.y,e.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(n*Math.PI/180)+this.f*Math.sin(n*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(n*Math.PI/180)+this.e*Math.sin(-n*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-n,skewY:180/Math.PI*Math.atan2(t.y,t.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new i.Matrix(this)}},clone:function(){return new i.Matrix(this)},morph:function(e){return this.destination=new i.Matrix(e),this},at:function(e){return this.destination?new i.Matrix({a:this.a+(this.destination.a-this.a)*e,b:this.b+(this.destination.b-this.b)*e,c:this.c+(this.destination.c-this.c)*e,d:this.d+(this.destination.d-this.d)*e,e:this.e+(this.destination.e-this.e)*e,f:this.f+(this.destination.f-this.f)*e}):this},multiply:function(e){return new i.Matrix(this.native().multiply(function(e){e instanceof i.Matrix||(e=new i.Matrix(e));return e}(e).native()))},inverse:function(){return new i.Matrix(this.native().inverse())},translate:function(e,t){return new i.Matrix(this.native().translate(e||0,t||0))},scale:function(e,t,n,s){return 1==arguments.length?t=e:3==arguments.length&&(s=n,n=t,t=e),this.around(n,s,new i.Matrix(e,0,0,t,0,0))},rotate:function(e,t,n){return e=i.utils.radians(e),this.around(t,n,new i.Matrix(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0))},flip:function(e,t){return"x"==e?this.scale(-1,1,t,0):"y"==e?this.scale(1,-1,0,t):this.scale(-1,-1,e,null!=t?t:e)},skew:function(e,t,n,s){return 1==arguments.length?t=e:3==arguments.length&&(s=n,n=t,t=e),e=i.utils.radians(e),t=i.utils.radians(t),this.around(n,s,new i.Matrix(1,Math.tan(t),Math.tan(e),1,0,0))},skewX:function(e,t,i){return this.skew(e,0,t,i)},skewY:function(e,t,i){return this.skew(0,e,t,i)},around:function(e,t,n){return this.multiply(new i.Matrix(1,0,0,1,e||0,t||0)).multiply(n).multiply(new i.Matrix(1,0,0,1,-e||0,-t||0))},native:function(){for(var e=i.parser.native.createSVGMatrix(),t=x.length-1;t>=0;t--)e[x[t]]=this[x[t]];return e},toString:function(){return"matrix("+A(this.a)+","+A(this.b)+","+A(this.c)+","+A(this.d)+","+A(this.e)+","+A(this.f)+")"}},parent:i.Element,construct:{ctm:function(){return new i.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof i.Nested){var e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new i.Matrix(t)}return new i.Matrix(this.node.getScreenCTM())}}}),i.Point=i.invent({create:function(e,t){var i;i=Array.isArray(e)?{x:e[0],y:e[1]}:"object"==typeof e?{x:e.x,y:e.y}:null!=e?{x:e,y:null!=t?t:e}:{x:0,y:0},this.x=i.x,this.y=i.y},extend:{clone:function(){return new i.Point(this)},morph:function(e,t){return this.destination=new i.Point(e,t),this},at:function(e){return this.destination?new i.Point({x:this.x+(this.destination.x-this.x)*e,y:this.y+(this.destination.y-this.y)*e}):this},native:function(){var e=i.parser.native.createSVGPoint();return e.x=this.x,e.y=this.y,e},transform:function(e){return new i.Point(this.native().matrixTransform(e.native()))}}}),i.extend(i.Element,{point:function(e,t){return new i.Point(e,t).transform(this.screenCTM().inverse())}}),i.extend(i.Element,{attr:function(e,t,n){if(null==e){for(e={},n=(t=this.node.attributes).length-1;n>=0;n--)e[t[n].nodeName]=i.regex.isNumber.test(t[n].nodeValue)?parseFloat(t[n].nodeValue):t[n].nodeValue;return e}if("object"==typeof e)for(t in e)this.attr(t,e[t]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?i.defaults.attrs[e]:i.regex.isNumber.test(t)?parseFloat(t):t;"stroke-width"==e?this.attr("stroke",parseFloat(t)>0?this._stroke:null):"stroke"==e&&(this._stroke=t),"fill"!=e&&"stroke"!=e||(i.regex.isImage.test(t)&&(t=this.doc().defs().image(t,0,0)),t instanceof i.Image&&(t=this.doc().defs().pattern(0,0,(function(){this.add(t)})))),"number"==typeof t?t=new i.Number(t):i.Color.isColor(t)?t=new i.Color(t):Array.isArray(t)&&(t=new i.Array(t)),"leading"==e?this.leading&&this.leading(t):"string"==typeof n?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!=e&&"x"!=e||this.rebuild(e,t)}return this}}),i.extend(i.Element,{transform:function(e,t){var n,s,r=this;if("object"!=typeof e)return n=new i.Matrix(r).extract(),"string"==typeof e?n[e]:n;if(n=new i.Matrix(r),t=!!t||!!e.relative,null!=e.a)n=t?n.multiply(new i.Matrix(e)):new i.Matrix(e);else if(null!=e.rotation)g(e,r),n=t?n.rotate(e.rotation,e.cx,e.cy):n.rotate(e.rotation-n.extract().rotation,e.cx,e.cy);else if(null!=e.scale||null!=e.scaleX||null!=e.scaleY){if(g(e,r),e.scaleX=null!=e.scale?e.scale:null!=e.scaleX?e.scaleX:1,e.scaleY=null!=e.scale?e.scale:null!=e.scaleY?e.scaleY:1,!t){var o=n.extract();e.scaleX=1*e.scaleX/o.scaleX,e.scaleY=1*e.scaleY/o.scaleY}n=n.scale(e.scaleX,e.scaleY,e.cx,e.cy)}else if(null!=e.skew||null!=e.skewX||null!=e.skewY){if(g(e,r),e.skewX=null!=e.skew?e.skew:null!=e.skewX?e.skewX:0,e.skewY=null!=e.skew?e.skew:null!=e.skewY?e.skewY:0,!t){o=n.extract();n=n.multiply((new i.Matrix).skew(o.skewX,o.skewY,e.cx,e.cy).inverse())}n=n.skew(e.skewX,e.skewY,e.cx,e.cy)}else e.flip?("x"==e.flip||"y"==e.flip?e.offset=null==e.offset?r.bbox()["c"+e.flip]:e.offset:null==e.offset?(s=r.bbox(),e.flip=s.cx,e.offset=s.cy):e.flip=e.offset,n=(new i.Matrix).flip(e.flip,e.offset)):null==e.x&&null==e.y||(t?n=n.translate(e.x,e.y):(null!=e.x&&(n.e=e.x),null!=e.y&&(n.f=e.y)));return this.attr("transform",n)}}),i.extend(i.FX,{transform:function(e,t){var n,s,r=this.target();return"object"!=typeof e?(n=new i.Matrix(r).extract(),"string"==typeof e?n[e]:n):(t=!!t||!!e.relative,null!=e.a?n=new i.Matrix(e):null!=e.rotation?(g(e,r),n=new i.Rotate(e.rotation,e.cx,e.cy)):null!=e.scale||null!=e.scaleX||null!=e.scaleY?(g(e,r),e.scaleX=null!=e.scale?e.scale:null!=e.scaleX?e.scaleX:1,e.scaleY=null!=e.scale?e.scale:null!=e.scaleY?e.scaleY:1,n=new i.Scale(e.scaleX,e.scaleY,e.cx,e.cy)):null!=e.skewX||null!=e.skewY?(g(e,r),e.skewX=null!=e.skewX?e.skewX:0,e.skewY=null!=e.skewY?e.skewY:0,n=new i.Skew(e.skewX,e.skewY,e.cx,e.cy)):e.flip?("x"==e.flip||"y"==e.flip?e.offset=null==e.offset?r.bbox()["c"+e.flip]:e.offset:null==e.offset?(s=r.bbox(),e.flip=s.cx,e.offset=s.cy):e.flip=e.offset,n=(new i.Matrix).flip(e.flip,e.offset)):null==e.x&&null==e.y||(n=new i.Translate(e.x,e.y)),n?(n.relative=t,this.last().transforms.push(n),this._callStart()):this)}}),i.extend(i.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var e=(this.attr("transform")||"").split(i.regex.transforms).slice(0,-1).map((function(e){var t=e.trim().split("(");return[t[0],t[1].split(i.regex.delimiter).map((function(e){return parseFloat(e)}))]})).reduce((function(e,t){return"matrix"==t[0]?e.multiply(f(t[1])):e[t[0]].apply(e,t[1])}),new i.Matrix);return e},toParent:function(e){if(this==e)return this;var t=this.screenCTM(),i=e.screenCTM().inverse();return this.addTo(e).untransform().transform(i.multiply(t)),this},toDoc:function(){return this.toParent(this.doc())}}),i.Transformation=i.invent({create:function(e,t){if(arguments.length>1&&"boolean"!=typeof t)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(e))for(var i=0,n=this.arguments.length;i<n;++i)this[this.arguments[i]]=e[i];else if("object"==typeof e)for(i=0,n=this.arguments.length;i<n;++i)this[this.arguments[i]]=e[this.arguments[i]];this.inversed=!1,!0===t&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(e){for(var t=[],n=0,s=this.arguments.length;n<s;++n)t.push(this[this.arguments[n]]);var r=this._undo||new i.Matrix;return r=(new i.Matrix).morph(i.Matrix.prototype[this.method].apply(r,t)).at(e),this.inversed?r.inverse():r},undo:function(e){for(var t=0,n=this.arguments.length;t<n;++t)e[this.arguments[t]]=void 0===this[this.arguments[t]]?0:e[this.arguments[t]];return e.cx=this.cx,e.cy=this.cy,this._undo=new(i[c(this.method)])(e,!0).at(1),this}}}),i.Translate=i.invent({parent:i.Matrix,inherit:i.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),i.Rotate=i.invent({parent:i.Matrix,inherit:i.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(e){var t=(new i.Matrix).rotate((new i.Number).morph(this.rotation-(this._undo?this._undo.rotation:0)).at(e),this.cx,this.cy);return this.inversed?t.inverse():t},undo:function(e){return this._undo=e,this}}}),i.Scale=i.invent({parent:i.Matrix,inherit:i.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),i.Skew=i.invent({parent:i.Matrix,inherit:i.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),i.extend(i.Element,{style:function(e,t){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof e)for(t in e)this.style(t,e[t]);else{if(!i.regex.isCss.test(e))return this.node.style[d(e)];for(e=e.split(/\s*;\s*/).filter((function(e){return!!e})).map((function(e){return e.split(/\s*:\s*/)}));t=e.pop();)this.style(t[0],t[1])}else this.node.style[d(e)]=null===t||i.regex.isBlank.test(t)?"":t;return this}}),i.Parent=i.invent({create:function(e){this.constructor.call(this,e)},inherit:i.Element,extend:{children:function(){return i.utils.map(i.utils.filterSVGElements(this.node.childNodes),(function(e){return i.adopt(e)}))},add:function(e,t){return null==t?this.node.appendChild(e.node):e.node!=this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this},put:function(e,t){return this.add(e,t),e},has:function(e){return this.index(e)>=0},index:function(e){return[].slice.call(this.node.childNodes).indexOf(e.node)},get:function(e){return i.adopt(this.node.childNodes[e])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(e,t){var n,s,r=this.children();for(n=0,s=r.length;n<s;n++)r[n]instanceof i.Element&&e.apply(r[n],[n,r]),t&&r[n]instanceof i.Container&&r[n].each(e,t);return this},removeElement:function(e){return this.node.removeChild(e.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),i.extend(i.Parent,{ungroup:function(e,t){return 0===t||this instanceof i.Defs||this.node==i.parser.draw||(e=e||(this instanceof i.Doc?this:this.parent(i.Parent)),t=t||1/0,this.each((function(){return this instanceof i.Defs?this:this instanceof i.Parent?this.ungroup(e,t-1):this.toParent(e)})),this.node.firstChild||this.remove()),this},flatten:function(e,t){return this.ungroup(e,t)}}),i.Container=i.invent({create:function(e){this.constructor.call(this,e)},inherit:i.Parent}),i.ViewBox=i.invent({create:function(e){var t,n,s,r,o,a,h,l=1,d=1,c=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(e instanceof i.Element){for(a=e,h=e,o=(e.attr("viewBox")||"").match(c),e.bbox,s=new i.Number(e.width()),r=new i.Number(e.height());"%"==s.unit;)l*=s.value,s=new i.Number(a instanceof i.Doc?a.parent().offsetWidth:a.parent().width()),a=a.parent();for(;"%"==r.unit;)d*=r.value,r=new i.Number(h instanceof i.Doc?h.parent().offsetHeight:h.parent().height()),h=h.parent();this.x=0,this.y=0,this.width=s*l,this.height=r*d,this.zoom=1,o&&(t=parseFloat(o[0]),n=parseFloat(o[1]),s=parseFloat(o[2]),r=parseFloat(o[3]),this.zoom=this.width/this.height>s/r?this.height/r:this.width/s,this.x=t,this.y=n,this.width=s,this.height=r)}else e="string"==typeof e?e.match(c).map((function(e){return parseFloat(e)})):Array.isArray(e)?e:"object"==typeof e?[e.x,e.y,e.width,e.height]:4==arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=e[0],this.y=e[1],this.width=e[2],this.height=e[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(e,t,n,s){return this.destination=new i.ViewBox(e,t,n,s),this},at:function(e){return this.destination?new i.ViewBox([this.x+(this.destination.x-this.x)*e,this.y+(this.destination.y-this.y)*e,this.width+(this.destination.width-this.width)*e,this.height+(this.destination.height-this.height)*e]):this}},parent:i.Container,construct:{viewbox:function(e,t,n,s){return 0==arguments.length?new i.ViewBox(this):this.attr("viewBox",new i.ViewBox(e,t,n,s))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(e){i.Element.prototype[e]=function(t){return null==t?i.off(this,e):i.on(this,e,t),this}})),i.listenerId=0,i.on=function(e,t,n,s,r){var o=n.bind(s||e),a=e instanceof i.Element?e.node:e;a.instance=a.instance||{_events:{}};var h=a.instance._events;n._svgjsListenerId||(n._svgjsListenerId=++i.listenerId),t.split(i.regex.delimiter).forEach((function(e){var t=e.split(".")[0],i=e.split(".")[1]||"*";h[t]=h[t]||{},h[t][i]=h[t][i]||{},h[t][i][n._svgjsListenerId]=o,a.addEventListener(t,o,r||!1)}))},i.off=function(e,t,n,s){var r=e instanceof i.Element?e.node:e;if(r.instance&&("function"!=typeof n||(n=n._svgjsListenerId))){var o=r.instance._events;(t||"").split(i.regex.delimiter).forEach((function(e){var t,a,h=e&&e.split(".")[0],l=e&&e.split(".")[1];if(n)o[h]&&o[h][l||"*"]&&(r.removeEventListener(h,o[h][l||"*"][n],s||!1),delete o[h][l||"*"][n]);else if(h&&l){if(o[h]&&o[h][l]){for(a in o[h][l])i.off(r,[h,l].join("."),a);delete o[h][l]}}else if(l)for(e in o)for(t in o[e])l===t&&i.off(r,[e,l].join("."));else if(h){if(o[h]){for(t in o[h])i.off(r,[h,t].join("."));delete o[h]}}else{for(e in o)i.off(r,e);r.instance._events={}}}))}},i.extend(i.Element,{on:function(e,t,n,s){return i.on(this,e,t,n,s),this},off:function(e,t){return i.off(this.node,e,t),this},fire:function(t,n){return t instanceof e.Event?this.node.dispatchEvent(t):this.node.dispatchEvent(t=new i.CustomEvent(t,{detail:n,cancelable:!0})),this._event=t,this},event:function(){return this._event}}),i.Defs=i.invent({create:"defs",inherit:i.Container}),i.G=i.invent({create:"g",inherit:i.Container,extend:{x:function(e){return null==e?this.transform("x"):this.transform({x:e-this.x()},!0)},y:function(e){return null==e?this.transform("y"):this.transform({y:e-this.y()},!0)},cx:function(e){return null==e?this.gbox().cx:this.x(e-this.gbox().width/2)},cy:function(e){return null==e?this.gbox().cy:this.y(e-this.gbox().height/2)},gbox:function(){var e=this.bbox(),t=this.transform();return e.x+=t.x,e.x2+=t.x,e.cx+=t.x,e.y+=t.y,e.y2+=t.y,e.cy+=t.y,e}},construct:{group:function(){return this.put(new i.G)}}}),i.Doc=i.invent({create:function(e){e&&("svg"==(e="string"==typeof e?t.getElementById(e):e).nodeName?this.constructor.call(this,e):(this.constructor.call(this,i.create("svg")),e.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:i.Container,extend:{namespace:function(){return this.attr({xmlns:i.ns,version:"1.1"}).attr("xmlns:xlink",i.xlink,i.xmlns).attr("xmlns:svgjs",i.svgjs,i.xmlns)},defs:function(){var e;this._defs||((e=this.node.getElementsByTagName("defs")[0])?this._defs=i.adopt(e):this._defs=new i.Defs,this.node.appendChild(this._defs.node));return this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName&&"#document-fragment"!=this.node.parentNode.nodeName?this.node.parentNode:null},spof:function(){var e=this.node.getScreenCTM();return e&&this.style("left",-e.e%1+"px").style("top",-e.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,i.parser.draw.parentNode||this.node.appendChild(i.parser.draw),this},clone:function(e){this.writeDataToDom();var t=this.node,i=v(t.cloneNode(!0));return e?(e.node||e).appendChild(i.node):t.parentNode.insertBefore(i.node,t.nextSibling),i}}}),i.extend(i.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var e=this.position()+1,t=this.parent();return t.removeElement(this).add(this,e),t instanceof i.Doc&&t.node.appendChild(t.defs().node),this},backward:function(){var e=this.position();return e>0&&this.parent().removeElement(this).add(this,e-1),this},front:function(){var e=this.parent();return e.node.appendChild(this.node),e instanceof i.Doc&&e.node.appendChild(e.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(e){e.remove();var t=this.position();return this.parent().add(e,t),this},after:function(e){e.remove();var t=this.position();return this.parent().add(e,t+1),this}}),i.Mask=i.invent({create:function(){this.constructor.call(this,i.create("mask")),this.targets=[]},inherit:i.Container,extend:{remove:function(){for(var e=this.targets.length-1;e>=0;e--)this.targets[e]&&this.targets[e].unmask();return this.targets=[],i.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new i.Mask)}}}),i.extend(i.Element,{maskWith:function(e){return this.masker=e instanceof i.Mask?e:this.parent().mask().add(e),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),i.ClipPath=i.invent({create:function(){this.constructor.call(this,i.create("clipPath")),this.targets=[]},inherit:i.Container,extend:{remove:function(){for(var e=this.targets.length-1;e>=0;e--)this.targets[e]&&this.targets[e].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new i.ClipPath)}}}),i.extend(i.Element,{clipWith:function(e){return this.clipper=e instanceof i.ClipPath?e:this.parent().clip().add(e),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),i.Gradient=i.invent({create:function(e){this.constructor.call(this,i.create(e+"Gradient")),this.type=e},inherit:i.Container,extend:{at:function(e,t,n){return this.put(new i.Stop).update(e,t,n)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(e,t,n){return"transform"==e&&(e="gradientTransform"),i.Container.prototype.attr.call(this,e,t,n)}},construct:{gradient:function(e,t){return this.defs().gradient(e,t)}}}),i.extend(i.Gradient,i.FX,{from:function(e,t){return"radial"==(this._target||this).type?this.attr({fx:new i.Number(e),fy:new i.Number(t)}):this.attr({x1:new i.Number(e),y1:new i.Number(t)})},to:function(e,t){return"radial"==(this._target||this).type?this.attr({cx:new i.Number(e),cy:new i.Number(t)}):this.attr({x2:new i.Number(e),y2:new i.Number(t)})}}),i.extend(i.Defs,{gradient:function(e,t){return this.put(new i.Gradient(e)).update(t)}}),i.Stop=i.invent({create:"stop",inherit:i.Element,extend:{update:function(e){return("number"==typeof e||e instanceof i.Number)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new i.Number(e.offset)),this}}}),i.Pattern=i.invent({create:"pattern",inherit:i.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return this.fill()},attr:function(e,t,n){return"transform"==e&&(e="patternTransform"),i.Container.prototype.attr.call(this,e,t,n)}},construct:{pattern:function(e,t,i){return this.defs().pattern(e,t,i)}}}),i.extend(i.Defs,{pattern:function(e,t,n){return this.put(new i.Pattern).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}}),i.Shape=i.invent({create:function(e){this.constructor.call(this,e)},inherit:i.Element}),i.Bare=i.invent({create:function(e,t){if(this.constructor.call(this,i.create(e)),t)for(var n in t.prototype)"function"==typeof t.prototype[n]&&(this[n]=t.prototype[n])},inherit:i.Element,extend:{words:function(e){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(t.createTextNode(e)),this}}}),i.extend(i.Parent,{element:function(e,t){return this.put(new i.Bare(e,t))}}),i.Symbol=i.invent({create:"symbol",inherit:i.Container,construct:{symbol:function(){return this.put(new i.Symbol)}}}),i.Use=i.invent({create:"use",inherit:i.Shape,extend:{element:function(e,t){return this.attr("href",(t||"")+"#"+e,i.xlink)}},construct:{use:function(e,t){return this.put(new i.Use).element(e,t)}}}),i.Rect=i.invent({create:"rect",inherit:i.Shape,construct:{rect:function(e,t){return this.put(new i.Rect).size(e,t)}}}),i.Circle=i.invent({create:"circle",inherit:i.Shape,construct:{circle:function(e){return this.put(new i.Circle).rx(new i.Number(e).divide(2)).move(0,0)}}}),i.extend(i.Circle,i.FX,{rx:function(e){return this.attr("r",e)},ry:function(e){return this.rx(e)}}),i.Ellipse=i.invent({create:"ellipse",inherit:i.Shape,construct:{ellipse:function(e,t){return this.put(new i.Ellipse).size(e,t).move(0,0)}}}),i.extend(i.Ellipse,i.Rect,i.FX,{rx:function(e){return this.attr("rx",e)},ry:function(e){return this.attr("ry",e)}}),i.extend(i.Circle,i.Ellipse,{x:function(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())},y:function(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())},cx:function(e){return null==e?this.attr("cx"):this.attr("cx",e)},cy:function(e){return null==e?this.attr("cy"):this.attr("cy",e)},width:function(e){return null==e?2*this.rx():this.rx(new i.Number(e).divide(2))},height:function(e){return null==e?2*this.ry():this.ry(new i.Number(e).divide(2))},size:function(e,t){var n=p(this,e,t);return this.rx(new i.Number(n.width).divide(2)).ry(new i.Number(n.height).divide(2))}}),i.Line=i.invent({create:"line",inherit:i.Shape,extend:{array:function(){return new i.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(e,t,n,s){return null==e?this.array():(e=void 0!==t?{x1:e,y1:t,x2:n,y2:s}:new i.PointArray(e).toLine(),this.attr(e))},move:function(e,t){return this.attr(this.array().move(e,t).toLine())},size:function(e,t){var i=p(this,e,t);return this.attr(this.array().size(i.width,i.height).toLine())}},construct:{line:function(e,t,n,s){return i.Line.prototype.plot.apply(this.put(new i.Line),null!=e?[e,t,n,s]:[0,0,0,0])}}}),i.Polyline=i.invent({create:"polyline",inherit:i.Shape,construct:{polyline:function(e){return this.put(new i.Polyline).plot(e||new i.PointArray)}}}),i.Polygon=i.invent({create:"polygon",inherit:i.Shape,construct:{polygon:function(e){return this.put(new i.Polygon).plot(e||new i.PointArray)}}}),i.extend(i.Polyline,i.Polygon,{array:function(){return this._array||(this._array=new i.PointArray(this.attr("points")))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new i.PointArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},size:function(e,t){var i=p(this,e,t);return this.attr("points",this.array().size(i.width,i.height))}}),i.extend(i.Line,i.Polyline,i.Polygon,{morphArray:i.PointArray,x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){var t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){var t=this.bbox();return null==e?t.height:this.size(t.width,e)}}),i.Path=i.invent({create:"path",inherit:i.Shape,extend:{morphArray:i.PathArray,array:function(){return this._array||(this._array=new i.PathArray(this.attr("d")))},plot:function(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new i.PathArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("d",this.array().move(e,t))},x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},size:function(e,t){var i=p(this,e,t);return this.attr("d",this.array().size(i.width,i.height))},width:function(e){return null==e?this.bbox().width:this.size(e,this.bbox().height)},height:function(e){return null==e?this.bbox().height:this.size(this.bbox().width,e)}},construct:{path:function(e){return this.put(new i.Path).plot(e||new i.PathArray)}}}),i.Image=i.invent({create:"image",inherit:i.Shape,extend:{load:function(t){if(!t)return this;var n=this,s=new e.Image;return i.on(s,"load",(function(){i.off(s);var e=n.parent(i.Pattern);null!==e&&(0==n.width()&&0==n.height()&&n.size(s.width,s.height),e&&0==e.width()&&0==e.height()&&e.size(n.width(),n.height()),"function"==typeof n._loaded&&n._loaded.call(n,{width:s.width,height:s.height,ratio:s.width/s.height,url:t}))})),i.on(s,"error",(function(e){i.off(s),"function"==typeof n._error&&n._error.call(n,e)})),this.attr("href",s.src=this.src=t,i.xlink)},loaded:function(e){return this._loaded=e,this},error:function(e){return this._error=e,this}},construct:{image:function(e,t,n){return this.put(new i.Image).load(e).size(t||0,n||t||0)}}}),i.Text=i.invent({create:function(){this.constructor.call(this,i.create("text")),this.dom.leading=new i.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",i.defaults.attrs["font-family"])},inherit:i.Shape,extend:{x:function(e){return null==e?this.attr("x"):this.attr("x",e)},y:function(e){var t=this.attr("y"),i="number"==typeof t?t-this.bbox().y:0;return null==e?"number"==typeof t?t-i:t:this.attr("y","number"==typeof e.valueOf()?e+i:e)},cx:function(e){return null==e?this.bbox().cx:this.x(e-this.bbox().width/2)},cy:function(e){return null==e?this.bbox().cy:this.y(e-this.bbox().height/2)},text:function(e){if(void 0===e){e="";for(var t=this.node.childNodes,n=0,s=t.length;n<s;++n)0!=n&&3!=t[n].nodeType&&1==i.adopt(t[n]).dom.newLined&&(e+="\n"),e+=t[n].textContent;return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else{n=0;for(var r=(e=e.split("\n")).length;n<r;n++)this.tspan(e[n]).newLine()}return this.build(!1).rebuild()},size:function(e){return this.attr("font-size",e).rebuild()},leading:function(e){return null==e?this.dom.leading:(this.dom.leading=new i.Number(e),this.rebuild())},lines:function(){var e=(this.textPath&&this.textPath()||this).node,t=i.utils.map(i.utils.filterSVGElements(e.childNodes),(function(e){return i.adopt(e)}));return new i.Set(t)},rebuild:function(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){var t=this,n=0,s=this.dom.leading*new i.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(t.textPath()||this.attr("x",t.attr("x")),"\n"==this.text()?n+=s:(this.attr("dy",s+n),n=0))})),this.fire("rebuild")}return this},build:function(e){return this._build=!!e,this},setData:function(e){return this.dom=e,this.dom.leading=new i.Number(e.leading||1.3),this}},construct:{text:function(e){return this.put(new i.Text).text(e)},plain:function(e){return this.put(new i.Text).plain(e)}}}),i.Tspan=i.invent({create:"tspan",inherit:i.Shape,extend:{text:function(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?e.call(this,this):this.plain(e),this)},dx:function(e){return this.attr("dx",e)},dy:function(e){return this.attr("dy",e)},newLine:function(){var e=this.parent(i.Text);return this.dom.newLined=!0,this.dy(e.dom.leading*e.attr("font-size")).attr("x",e.x())}}}),i.extend(i.Text,i.Tspan,{plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(t.createTextNode(e)),this},tspan:function(e){var t=(this.textPath&&this.textPath()||this).node,n=new i.Tspan;return!1===this._build&&this.clear(),t.appendChild(n.node),n.text(e)},clear:function(){for(var e=(this.textPath&&this.textPath()||this).node;e.hasChildNodes();)e.removeChild(e.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),i.TextPath=i.invent({create:"textPath",inherit:i.Parent,parent:i.Text,construct:{morphArray:i.PathArray,path:function(e){for(var t=new i.TextPath,n=this.doc().defs().path(e);this.node.hasChildNodes();)t.node.appendChild(this.node.firstChild);return this.node.appendChild(t.node),t.attr("href","#"+n,i.xlink),this},array:function(){var e=this.track();return e?e.array():null},plot:function(e){var t=this.track(),i=null;return t&&(i=t.plot(e)),null==e?i:this},track:function(){var e=this.textPath();if(e)return e.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return i.adopt(this.node.firstChild)}}}),i.Nested=i.invent({create:function(){this.constructor.call(this,i.create("svg")),this.style("overflow","visible")},inherit:i.Container,construct:{nested:function(){return this.put(new i.Nested)}}}),i.A=i.invent({create:"a",inherit:i.Container,extend:{to:function(e){return this.attr("href",e,i.xlink)},show:function(e){return this.attr("show",e,i.xlink)},target:function(e){return this.attr("target",e)}},construct:{link:function(e){return this.put(new i.A).to(e)}}}),i.extend(i.Element,{linkTo:function(e){var t=new i.A;return"function"==typeof e?e.call(t,t):t.to(e),this.parent().put(t).put(this)}}),i.Marker=i.invent({create:"marker",inherit:i.Container,extend:{width:function(e){return this.attr("markerWidth",e)},height:function(e){return this.attr("markerHeight",e)},ref:function(e,t){return this.attr("refX",e).attr("refY",t)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(e,t,i){return this.defs().marker(e,t,i)}}}),i.extend(i.Defs,{marker:function(e,t,n){return this.put(new i.Marker).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(n)}}),i.extend(i.Line,i.Polyline,i.Polygon,i.Path,{marker:function(e,t,n,s){var r=["marker"];return"all"!=e&&r.push(e),r=r.join("-"),e=arguments[1]instanceof i.Marker?arguments[1]:this.doc().marker(t,n,s),this.attr(r,e)}});var a={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"==t?e:e+"-"+t}};function h(e,t,n,s){return n+s.replace(i.regex.dots," .")}function l(e){for(var t=e.slice(0),i=t.length;i--;)Array.isArray(t[i])&&(t[i]=l(t[i]));return t}function d(e){return e.toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}function u(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function p(e,t,i){if(null==t||null==i){var n=e.bbox();null==t?t=n.width/n.height*i:null==i&&(i=n.height/n.width*t)}return{width:t,height:i}}function m(e,t,i){return{x:t*e.a+i*e.c+0,y:t*e.b+i*e.d+0}}function f(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}function g(e,t){e.cx=null==e.cx?t.bbox().cx:e.cx,e.cy=null==e.cy?t.bbox().cy:e.cy}function v(t){for(var n=t.childNodes.length-1;n>=0;n--)t.childNodes[n]instanceof e.SVGElement&&v(t.childNodes[n]);return i.adopt(t).id(i.eid(t.nodeName))}function y(e){return null==e.x&&(e.x=0,e.y=0,e.width=0,e.height=0),e.w=e.width,e.h=e.height,e.x2=e.x+e.width,e.y2=e.y+e.height,e.cx=e.x+e.width/2,e.cy=e.y+e.height/2,e}function A(e){return Math.abs(e)>1e-37?e:0}["fill","stroke"].forEach((function(e){var t,n={};n[e]=function(n){if(void 0===n)return this;if("string"==typeof n||i.Color.isRgb(n)||n&&"function"==typeof n.fill)this.attr(e,n);else for(t=a[e].length-1;t>=0;t--)null!=n[a[e][t]]&&this.attr(a.prefix(e,a[e][t]),n[a[e][t]]);return this},i.extend(i.Element,i.FX,n)})),i.extend(i.Element,i.FX,{rotate:function(e,t,i){return this.transform({rotation:e,cx:t,cy:i})},skew:function(e,t,i,n){return 1==arguments.length||3==arguments.length?this.transform({skew:e,cx:t,cy:i}):this.transform({skewX:e,skewY:t,cx:i,cy:n})},scale:function(e,t,i,n){return 1==arguments.length||3==arguments.length?this.transform({scale:e,cx:t,cy:i}):this.transform({scaleX:e,scaleY:t,cx:i,cy:n})},translate:function(e,t){return this.transform({x:e,y:t})},flip:function(e,t){return t="number"==typeof e?e:t,this.transform({flip:e||"both",offset:t})},matrix:function(e){return this.attr("transform",new i.Matrix(6==arguments.length?[].slice.call(arguments):e))},opacity:function(e){return this.attr("opacity",e)},dx:function(e){return this.x(new i.Number(e).plus(this instanceof i.FX?0:this.x()),!0)},dy:function(e){return this.y(new i.Number(e).plus(this instanceof i.FX?0:this.y()),!0)},dmove:function(e,t){return this.dx(e).dy(t)}}),i.extend(i.Rect,i.Ellipse,i.Circle,i.Gradient,i.FX,{radius:function(e,t){var n=(this._target||this).type;return"radial"==n||"circle"==n?this.attr("r",new i.Number(e)):this.rx(e).ry(null==t?e:t)}}),i.extend(i.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(e){return this.node.getPointAtLength(e)}}),i.extend(i.Parent,i.Text,i.Tspan,i.FX,{font:function(e,t){if("object"==typeof e)for(t in e)this.font(t,e[t]);return"leading"==e?this.leading(t):"anchor"==e?this.attr("text-anchor",t):"size"==e||"family"==e||"weight"==e||"stretch"==e||"variant"==e||"style"==e?this.attr("font-"+e,t):this.attr(e,t)}}),i.Set=i.invent({create:function(e){e instanceof i.Set?this.members=e.members.slice():Array.isArray(e)?this.members=e:this.clear()},extend:{add:function(){var e,t,i=[].slice.call(arguments);for(e=0,t=i.length;e<t;e++)this.members.push(i[e]);return this},remove:function(e){var t=this.index(e);return t>-1&&this.members.splice(t,1),this},each:function(e){for(var t=0,i=this.members.length;t<i;t++)e.apply(this.members[t],[t,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(e){return this.index(e)>=0},index:function(e){return this.members.indexOf(e)},get:function(e){return this.members[e]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(0==this.members.length)return new i.RBox;var e=this.members[0].rbox(this.members[0].doc());return this.each((function(){e=e.merge(this.rbox(this.doc()))})),e}},construct:{set:function(e){return new i.Set(e)}}}),i.FX.Set=i.invent({create:function(e){this.set=e}}),i.Set.inherit=function(){var e=[];for(var t in i.Shape.prototype)"function"==typeof i.Shape.prototype[t]&&"function"!=typeof i.Set.prototype[t]&&e.push(t);for(var t in e.forEach((function(e){i.Set.prototype[e]=function(){for(var t=0,n=this.members.length;t<n;t++)this.members[t]&&"function"==typeof this.members[t][e]&&this.members[t][e].apply(this.members[t],arguments);return"animate"==e?this.fx||(this.fx=new i.FX.Set(this)):this}})),e=[],i.FX.prototype)"function"==typeof i.FX.prototype[t]&&"function"!=typeof i.FX.Set.prototype[t]&&e.push(t);e.forEach((function(e){i.FX.Set.prototype[e]=function(){for(var t=0,i=this.set.members.length;t<i;t++)this.set.members[t].fx[e].apply(this.set.members[t].fx,arguments);return this}}))},i.extend(i.Element,{data:function(e,t,i){if("object"==typeof e)for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch(t){return this.attr("data-"+e)}else this.attr("data-"+e,null===t?null:!0===i||"string"==typeof t||"number"==typeof t?t:JSON.stringify(t));return this}}),i.extend(i.Element,{remember:function(e,t){if("object"==typeof arguments[0])for(var t in e)this.remember(t,e[t]);else{if(1==arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory||(this._memory={})}}),i.get=function(e){var n=t.getElementById(function(e){var t=(e||"").toString().match(i.regex.reference);if(t)return t[1]}(e)||e);return i.adopt(n)},i.select=function(e,n){return new i.Set(i.utils.map((n||t).querySelectorAll(e),(function(e){return i.adopt(e)})))},i.extend(i.Parent,{select:function(e){return i.select(e,this.node)}});var x="abcdef".split("");if("function"!=typeof e.CustomEvent){var b=function(e,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var n=t.createEvent("CustomEvent");return n.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),n};b.prototype=e.Event.prototype,i.CustomEvent=b}else i.CustomEvent=e.CustomEvent;return function(t){for(var i=0,n=["moz","webkit"],s=0;s<n.length&&!e.requestAnimationFrame;++s)t.requestAnimationFrame=t[n[s]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[s]+"CancelAnimationFrame"]||t[n[s]+"CancelRequestAnimationFrame"];t.requestAnimationFrame=t.requestAnimationFrame||function(e){var n=(new Date).getTime(),s=Math.max(0,16-(n-i)),r=t.setTimeout((function(){e(n+s)}),s);return i=n+s,r},t.cancelAnimationFrame=t.cancelAnimationFrame||t.clearTimeout}(e),i}))}));
/*!
* svg.js - A lightweight library for manipulating and animating SVG.
* @version 2.7.1
* https://svgdotjs.github.io/
*
* @copyright Wout Fierens <wout@mick-wout.com>
* @license MIT
*
* BUILT: Fri Nov 30 2018 10:01:55 GMT+0100 (GMT+01:00)
*/class Me{constructor(e){this.limit=50,this.undos=[],this.redos=[],this.saveCommand=null,this.limit=e||50}execute(e){this.clearRedo(),e.execute(),this.undos.length>=this.limit&&this.undos.shift(),this.undos.push(e),this.change(e)}undo(){if(this.canUndo()){var e=this.undos.pop();this.redos.push(e),e.undo(),this.change(e)}}canUndo(){return!!this.undos.length}redo(){if(this.canRedo()){var e=this.redos.pop();this.undos.push(e),e.redo(),this.change(e)}}canRedo(){return!!this.redos.length}save(){this.saveCommand=this.undos[this.undos.length-1]}dirty(){return this.saveCommand!=this.undos[this.undos.length-1]}clearRedo(){this.redos=[]}clear(){this.undos=[],this.redos=[],this.saveCommand=null,this.change()}change(e){}}class Te{constructor(e,t,i="#666",n){this.name="induce",this.node=e,this.endNode=e,this.root=t||new xe,this.root.containEl.classList.add("mm-node-induce"),this.root.containEl.classList.add("mm-node-leaf"),this.root.direct=this.node.direct,this.root.box={width:48,height:32},this.root.shapeType="bubble",this.lineType=n||"solid",this.stroke=i,this.lineWidth=2,this.type="right",this.lineDash=[0,0],this.visible=!0,this.isHide=!1,this.id=+new Date,this.node.induce=this,this.root.belongInduce=this,this.root.isRoot=!0,this.root.mind=this.node.getMind(),this.root.nodeType="induce",this.box={width:48,height:32},this.position=[],this.node.mindmap.contentEL.contains(this.root.containEl)||(this.node.mindmap.contentEL.appendChild(this.root.containEl),this.root.refreshBox()),this.refreshItems()}getId(){return this.id}init(){this.group&&this.group.remove(),this.group=this.node.getMind().induceGroup.group(),this.createInduceLine(),this.refreshBox(),this.render()}createInduceLine(){this.pl1&&this.pl1.remove()&&this.pl1,this.pl1=this.group.polyline().stroke({color:`${this.stroke}`,width:`${this.lineWidth}`,dasharray:`${this.lineDash}`,linecap:"round",linejoin:"round"}).fill("none"),this.pl2&&this.pl2.remove()&&this.pl2,this.pl2=this.group.polyline().stroke({color:`${this.stroke}`,width:`${this.lineWidth}`,dasharray:`${this.lineDash}`,linecap:"round",linejoin:"round"}).fill("none")}refreshItems(){var e=this.getInduces(),t=this.listNode;e.forEach((e=>{e.isShow()&&(t=t.concat(e.getAllItem()))})),this.items=t,this.node.isHide&&this.endNode.isHide&&this.hide()}render(){this.adjustType();var e=this.getNodeBox();this.renderInduce(e)}adjustType(){this.node.getMind().getRootByNode(this.node);var e="node-"+this.type;this.root.containEl.classList.contains(e)&&this.root.containEl.classList.remove(e),this.type=this.node.direct,this.direct=this.node.direct;var t="node-"+this.type;this.root.containEl.classList.contains(t)||this.root.containEl.classList.add(t)}getInduces(){var e=this,t=[],i=[],n=[],s=[];if(this.rangeNode&&this.rangeNode.length)this.rangeNode.forEach((e=>{t=t.concat(e.getShowNodeList())}));else{this.rangeNode=[];var r=this.node.parent,o=r.children.indexOf(this.node),a=r.children.indexOf(this.endNode);r.children.forEach(((i,n)=>{n>=o&&n<=a&&(e.rangeNode.push(i),t=t.concat(i.getShowNodeList()))})),e.rangeNode=Qi(e.rangeNode)}return t.forEach((e=>{e.summaries.length&&e.summaries.forEach((e=>{e.isShow()&&i.push(e)})),e.callout&&e.callout.isShow&&t.push(e.callout),e.wireFrames.length&&e.wireFrames.forEach((e=>{e.isHide||n.push(e)})),e.layout&&e.layout.isShow&&s.push(e.layout)})),i=Qi(i),n=Qi(n),this.listNode=t.concat(n),this.groups=Qi(s),i}getNodeBox(){var e=this.items,t=this.groups,i=this.node.getMind().getBoundingRect(e);return t.length&&t.forEach((e=>{if("fish"==e.layoutName&&("right"==e.direct?e.creatBone():e.creatBone1(),e.fishTail)){var t=e.fishTail.bbox();t.x<i.x&&(i.x=t.x),t.y<i.y&&(i.y=t.y),t.x+t.width>i.right&&(i.right=t.x+t.width),t.y+t.height>i.bottom&&(i.bottom=t.y+t.height),i.width=i.right-i.x,i.height=i.bottom-i.y}})),i}getBoxRect(){return this.node.getMind().getBoundingRect(this.getAllItem())}getBBox(){return this.getNodeBox()}refreshBox(){var e=this.node.getMind();this.box=e.getBoundingRect(this.getAllItem())}getBox(){var e=this.group.gbox();if(this.box)var t=this.box;else{t=this.root.getBox();this.box=t}return e.x<t.x&&(this.box.x=e.x),e.y<t.y&&(this.box.y=e.y),t.right<e.x2&&(this.right=e.x2),t.bottom<e.y2&&(this.box.bottom=e.y2),this.box.width=this.box.right-this.box.x,this.box.height=this.box.bottom-this.box.y,this.box}refreshAllItems(){var e=[];this.root&&function t(i){i.isShow()&&(e.push(i),i.containBar=!1,i.isExpand||(i.containBar=!0)),i.callout&&i.callout.isShow&&e.push(i.callout),i.wireFrames.length&&i.wireFrames.forEach((t=>{t.isHide||e.push(t)})),i.summaries.length&&i.summaries.forEach((t=>{t.isShow()&&(e=e.concat(t.getAllItem()))})),i.isExpand&&i.children.forEach((e=>{t(e)}))}(this.root),this.allItems=Qi(e)}getAllItem(){return this.refreshAllItems(),this.allItems}hide(){this.isHide=!0,this.group&&this.group.hide(),this.root.hide()}isShow(){return!this.isHide}show(){this.isHide=!1,this.group&&this.group.show(),this.root.show()}doLayout(){if(0!=this.root.getChildren().length){var e=this.root.layout.direct;this.root.layout.layout(this.root,e)}}getWireFrame(){var e=[],t=[];return this.rangeNode&&this.rangeNode.length&&this.rangeNode.forEach((e=>{t=t.concat(e.getShowNodeList())})),t.forEach((t=>{t.wireFrames.length&&t.wireFrames.forEach((i=>{i.isHide||(e=e.concat(t.wireFrames))}))})),Qi(e)}setEndNode(e){this.endNode=e,this.refreshNode(),this.refresh()}refreshNode(){var e=this.node.getShowNodeList();this.endNode&&this.endNode!=this.node&&(e=e.concat(this.endNode.getShowNodeList()));var t=this.node.getMind().getBoundingRect(e);this.topNode=t.topNode,this.bottomNode=t.bottomNode,this.leftNode=t.leftNode,this.rightNode=t.rightNode}renderInduce(e){if(e&&this.pl1){if("solid"==this.lineType?this.lineDash=[0]:this.lineDash=[4,2],"right"==this.type){e.x1=e.x+e.width,this.setPosition(parseInt(e.x1)+5,e.y),this.pl1.plot([[4,0],[12,0],[12,parseInt(e.height/2)],[22,parseInt(e.height/2)]]),this.pl2.plot([[22,parseInt(e.height/2)],[12,parseInt(e.height/2)],[12,parseInt(e.height)],[4,parseInt(e.height)]]);var t=this.root.getBox();this.root.setPosition(e.x1+30,e.y+e.height/2-t.height/2)}else if("left"==this.type){t=this.root.getBox();this.setPosition(parseInt(e.x-t.width-26),parseInt(e.y)),this.pl2.plot([[parseInt(t.width+2),parseInt(e.height/2)],[parseInt(t.width+12),parseInt(e.height/2)],[parseInt(t.width+12),parseInt(e.height)],[parseInt(t.width+18),parseInt(e.height)]]),this.pl1.plot([[parseInt(t.width+2),parseInt(e.height/2)],[parseInt(t.width+12),parseInt(e.height/2)],[parseInt(t.width+12),0],[parseInt(t.width+18),0]]),this.root.setPosition(e.x-t.width-28,parseInt(e.y+(e.height-t.height)/2))}else if("top"==this.type||"up"==this.type){t=this.root.getBox();this.setPosition(parseInt(e.x),parseInt(e.y-t.height-30)),this.pl1.plot([[0,parseInt(t.height+20)],[0,parseInt(t.height+12)],[parseInt(e.width/2),parseInt(t.height+12)],[parseInt(e.width/2),parseInt(t.height+4)]]),this.pl2.plot([[parseInt(e.width/2),parseInt(t.height+4)],[parseInt(e.width/2),parseInt(t.height+12)],[parseInt(e.width),parseInt(t.height+12)],[parseInt(e.width),parseInt(t.height+20)]]),this.root.setPosition(parseInt(e.x+(e.width-t.width)/2),e.y-t.height-25)}else{this.setPosition(parseInt(e.x),parseInt(e.y+e.height+5)),this.pl1.plot([[0,4],[0,12],[parseInt(e.width/2),12],[parseInt(e.width/2),20]]),this.pl2.plot([[parseInt(e.width/2),20],[parseInt(e.width/2),12],[parseInt(e.width),12],[parseInt(e.width),4]]);t=this.root.getBox();this.root.setPosition(e.x+(e.width-t.width)/2,e.y+e.height+26)}this.doLayout()}}getPosition(){return{x:this.position[0],y:this.position[1]}}setPosition(e,t){this.group.attr({transform:`translate(${e},${t})`}),this.position=[e,t]}setText(e){}getText(){return this.induceText}getTextBox(){return this.text.getBox()}refresh(){if(this.node.isShow()&&this.endNode&&this.endNode.isShow())!this.isHide&&this.root.isShow()||(this.show(),function e(t){t.show(),t.isExpand&&t.children.forEach((t=>{e(t)}))}(this.root)),this.render(),this.refreshBox();else{if(this.isHide)return;this.hide(),function e(t){t.hide(),t.isExpand&&t.children.forEach((t=>{e(t)}))}(this.root),this.root.layout&&this.root.layout.group&&(this.root.layout.group.clear(),this.root.layout.group.remove(),this.root.layout.group=null)}}active(){this.status="active",this.root.setStyle("stroke","rgb(247,186,134)")}move(e,t){var i=this.getPosition();this.setPosition(i.x+e,i.y+t),this.box&&(this.box.x+=e,this.box.y+=t)}unactive(){this.status="unactive",this.root.setStyle("stroke",this.color)}isactive(){return"active"==this.status}remove(){this.pl1&&this.pl1.remove(),this.pl2&&this.pl2.remove(),this.pl1=null,this.pl2=null,this.root.layout&&this.root.layout.svgDom&&this.root.layout.svgDom.remove()&&(this.root.layout.svgDom=null),this.root.iNode&&this.root.layout&&this.root.mindmap.contentEL.removeChild(this.root.layout.tableDom)}initEvent(){this.pl1.on("click",(e=>{e.induce=this,this.__zr.trigger("touchInduce",e),this.__zr.trigger("selectInduce",e)})),this.pl2.on("click",(e=>{e.induce=this,this.__zr.trigger("touchInduce",e),this.__zr.trigger("selectInduce",e)}))}getData(){if(this.node&&this.endNode){var e=this.node.parent,t=0,i=0;return e&&(t=e.children.indexOf(this.node),i=e.children.indexOf(this.endNode)),{nodeId:this.node.getId(),endNodeId:this.endNode.getId(),stroke:this.stroke,root:this.root.getId(),lineType:this.lineType,id:this.id,range:`${t},${i}`,type:this.type}}return null}setData(e){this.stroke=e.stroke,this.lineType=e.lineType,this.refresh(),this.pl1.attr({stroke:this.stroke,fill:"none"}),this.pl2.attr({stroke:this.stroke,fill:"none"})}judgeNodePos(e,t){if(!t)return"right";var i=e.getPosition(),n=e.getBox(),s=t.getPosition(),r=t.getBox();return"right"==e.direct?i.x>s.x+r.width?"right":"left":s.x>i.x+n.width?"left":"right"}getChildren(){return this.childrens}addChild(e,t){e._parent=this,"number"==typeof t?this.childrens.splice(t,0,e):this.childrens.push(e)}removeChild(e){var t=this.childrens.indexOf(e);return t>-1&&this.childrens.splice(t,1),t}}class Le{constructor(e){this.name=e}execute(){}undo(){}redo(){this.execute()}refresh(e,t){var i=e||this.mind;i&&(i.emit("renderEditNode",{node:t}),i.emit("mindMapChange",{node:t}))}updateItems(e){for(var t=e;t;)t.wireFrames.length&&t.wireFrames.forEach((e=>{e.refreshItems(),e.refreshNode()})),t.summaries.length&&t.summaries.forEach((e=>{e.refreshItems(),e.refreshNode()})),t=t.belongInduce?t.belongInduce.node:t.parent}initTable(e){e&&(e.initTable(),setTimeout((()=>{e.mindMapChange()}),0))}}class Pe extends Le{constructor(e,t,i,n,s){super("addNode"),this.parent=null,this.mind=null,this.index=-1,this.isNotEditNode=!0,this.node=e,this.parent=t,this.mind=i||this.node.mindmap,this.isNotEditNode=n||!1,null!=s&&(this.index=s)}execute(){if(this.index>-1?this.mind.addNode(this.node,this.parent,this.index):this.mind.addNode(this.node,this.parent),"table"!=this.mind._mode){if(this.node.iNode){var e=this.node.getLayout();this.node._tableDom=e.tableDom,e.refresh(),e.root.clearCacheData(),e.root.refreshBox()}this.node.refreshBox(),this.updateItems(this.node),this.refresh(this.node.mindmap,this.node),setTimeout((()=>{this.isNotEditNode||(this.mind.clearSelectNode(),this.node.select(),this.node.edit()),this.isNotEditNode=!1}),0)}else this.initTable(this.mind)}undo(){var e=this.node.parent;if(this.index=this.mind.removeNode(this.node),"table"!=this.mind._mode){if(e)if(e.iNode)e.getLayout().refresh();this.mind.clearSelectNode(),this.updateItems(e),setTimeout((()=>{this.refresh(this.node.mindmap,e),e&&e.select()}),0)}else this.initTable(this.mind)}}class Oe extends Le{constructor(e,t){super("removeNode"),this.parent=null,this.mind=null,this.index=-1,this.node=e,this.parent=this.node.parent||null,this.mind=t||this.node.mindmap,this.isFreeRoot="freeNode"==this.node.nodeType,this.isInduce="induce"==this.node.nodeType,this.isRelateLink="relateLink"==this.node.nodeType}execute(){var e=this;if(this.isFreeRoot)this.mind.removeFreeNode(this.node),this.mind.removeNode(this.node),this.node.iNode&&this.mind.contentEL.removeChild(this.node.layout.tableDom),this.refresh(this.mind);else if(this.isInduce)this.relateNode=this.node.belongInduce.node,this.induce=this.node.belongInduce,this.mind.removeInduce(this.induce),this.relateNode.induce=null,this.mind.removeNode(this.node),this.node.iNode&&this.node.layout&&this.node.layout.tableDom&&this.mind.contentEL.removeChild(this.node.layout.tableDom),this.relateNode.clearCacheData(),this.updateItems(this.relateNode),this.refresh(this.relateNode.mindmap),this.relateNode.mindmap.updateAssist();else if(this.isRelateLink)this.mind.removeRelateLink(this.node.relateLink),this.mind.removeNode(this.node);else{this.node.clearCacheData(),this.node.refreshBox();var t=this.parent.wireFrames.slice()||[],i=this.parent.summaries.slice()||[];if(this.cacheInfo={wfs:[],induces:[]},t.forEach((t=>{if(t.node==t.endNode)t.node==e.node&&(e.mind.removeWireFrame(t),e.cacheInfo.wfs.push({item:t,type:"remove"}));else if(t.rangeNode.indexOf(e.node)>-1)if(t.rangeNode[0]==e.node){e.node.wfs.splice(e.node.wfs.indexOf(t),1);var i=t.rangeNode.slice();t.rangeNode.shift(),t.rangeNode[0].wfs.push(t),e.cacheInfo.wfs.push({item:t,type:"changeRangeNode-start",oldRange:i,newRange:t.rangeNode.slice()})}else if(t.rangeNode[t.rangeNode.length-1]==e.node){i=t.rangeNode.slice();t.rangeNode.pop(),e.cacheInfo.wfs.push({item:t,type:"changeRangeNode-end",oldRange:i,newRange:t.rangeNode.slice()})}else{i=t.rangeNode.slice();var n=t.rangeNode.indexOf(e.node);t.rangeNode.splice(n,1),e.cacheInfo.wfs.push({item:t,type:"changeRangeNode",oldRange:i,newRange:t.rangeNode.slice(),num:n})}})),i.forEach((t=>{if(t.node==t.endNode)t.node==e.node&&(e.mind.removeInduce(t),e.cacheInfo.induces.push({item:t,type:"remove"}),e.mind.removeNode(t.root),t.root.iNode&&t.root.layout&&t.root.layout.tableDom&&e.mind.contentEL.removeChild(t.root.layout.tableDom));else if(t.rangeNode.indexOf(e.node)>-1)if(t.rangeNode[0]==e.node){e.node.induces.splice(e.node.induces.indexOf(t),1);var i=t.rangeNode.slice();t.rangeNode.shift(),t.rangeNode[0].induces.push(t),e.cacheInfo.induces.push({item:t,type:"changeRangeNode-start",oldRange:i,newRange:t.rangeNode.slice()})}else if(t.rangeNode[t.rangeNode.length-1]==e.node){i=t.rangeNode.slice();t.rangeNode.pop(),e.cacheInfo.induces.push({item:t,type:"changeRangeNode-end",oldRange:i,newRange:t.rangeNode.slice()})}else{i=t.rangeNode.slice();var n=t.rangeNode.indexOf(e.node);t.rangeNode.splice(n,1),e.cacheInfo.induces.push({item:t,type:"changeRangeNode",oldRange:i,newRange:t.rangeNode.slice(),num:n})}})),this.node.iNode){var n=this.node.getLayout();n&&n.root&&(n.root.boundingRect=null)}if(this.index=this.mind.removeNode(this.node),"table"==this.node.mindmap._mode)return void this.initTable(this.mind);this.node.iNode&&(this.node.layout?this.node.layout.tableDom&&this.mind.contentEL.removeChild(this.node.layout.tableDom):n.refresh()),this.updateItems(this.parent),this.refresh(this.parent.mindmap,this.parent)}setTimeout((()=>{if(this.parent)if(0==this.index)this.parent.children.length?this.parent.children[0].select():this.parent.select();else{var e=this.parent.children[this.index-1];e?e.select():this.parent.select()}}),0)}undo(){var e=this;if(this.isFreeRoot?(this.mind.addFreeNode(this.node),this.node.iNode&&this.node.layout&&this.node.layout.tableDom&&(this.mind.contentEL.appendChild(this.node.layout.tableDom),this.node.layout.refresh())):this.isInduce?(this.relateNode.clearCacheData(),this.relateNode.induce=this.induce,this.mind.addInduce(this.induce),this.induce.init(),this.node.iNode&&this.node.layout&&(this.mind.contentEL.appendChild(this.node.layout.tableDom),this.node.layout.refresh())):this.isRelateLink?this.mind.addRelateLink(this.node.relateLink):this.mind.addNode(this.node,this.parent,this.index),"table"!=this.mind._mode){if(this.node.iNode){var t=this.node.getLayout();this.node.layout&&this.node.layout.tableDom&&this.mind.contentEL.appendChild(this.node.layout.tableDom),t.refresh()}this.mind.traverseDF((e=>{e.layout&&"table"==e.layout.layoutName&&(this.mind.contentEL.contains(e.layout.tableDom)||this.mind.contentEL.appendChild(e.layout.tableDom)),this.mind._addNodeDom(e)}),this.node),this.node._removeLink&&this.node._removeLink.forEach((e=>{this.mind.addRelateLink(e)})),this.node.clearCacheData(),this.node.refreshBox(),this.cacheInfo&&this.cacheInfo.wfs.forEach((t=>{if("remove"==t.type&&(e.mind.addWireFrame(t.item),t.item.init()),"changeRangeNode-start"==t.type){e.node.wfs.push(t.item);var i=t.item.rangeNode[0];i.wfs.splice(i.wfs.indexOf(t.item),1),t.item.rangeNode=t.oldRange}"changeRangeNode-end"!=t.type&&"changeRangeNode"!=t.type||(t.item.rangeNode=t.oldRange)})),this.cacheInfo&&this.cacheInfo.induces.forEach((t=>{if("remove"==t.type&&(e.mind.addInduce(t.item),t.item.init(),t.item.root.iNode&&t.item.root.layout&&t.item.root.layout.tableDom&&(this.mind.contentEL.contains(t.item.root.layout.tableDom)||this.mind.contentEL.appendChild(t.item.root.layout.tableDom)),this.mind.traverseDF((e=>{this.mind._addNodeDom(e)}),t.item.root)),"changeRangeNode-start"==t.type){e.node.induces.push(t.item);var i=t.item.rangeNode[0];i.induces.splice(i.induces.indexOf(t.item),1),t.item.rangeNode=t.oldRange}"changeRangeNode-end"!=t.type&&"changeRangeNode"!=t.type||(t.item.rangeNode=t.oldRange)})),this.updateItems(this.node),this.mind.clearSelectNode(),this.refresh(this.node.mindmap,this.node),setTimeout((()=>{this.node.select()}),0)}else this.initTable(this.mind)}}class Re extends Le{constructor(e,t,i){super("changeNodeText"),this._mode="",this.node=e,this.oldText=t,this.text=i,this.isFirst=!0,this._mode=this.node.mindmap._mode}execute(){var e;this.isFirst||(this.node.setText(this.text),this.node.tNode&&this.node.tNode.setText(this.text)),"table"!=this._mode?(this.node.refreshBox(),this.node.clearCacheData(),"wireFrame"!=this.node.nodeType?this.refresh(this.node.mindmap,this.node):this.refresh(this.node.mindmap,null===(e=this.node.wireFrame)||void 0===e?void 0:e.node)):this.initTable(this.node.mindmap)}undo(){var e;this.isFirst=!1,this.node.setText(this.oldText),this.node.tNode&&this.node.tNode.setText(this.oldText),"table"!=this._mode?(this.node.clearCacheData(),this.node.refreshBox(),"wireFrame"!=this.node.nodeType?this.refresh(this.node.mindmap,this.node):this.refresh(this.node.mindmap,null===(e=this.node.wireFrame)||void 0===e?void 0:e.node)):this.initTable(this.node.mindmap)}}class _e extends Le{constructor(e){super("moveNode"),this.data={},this.index=-1,this.data=e,this.data.type.indexOf("child")>-1?(this.node=this.data.node,this.oldParent=this.data.oldParent,this.parent=this.data.parent):(this.node=this.data.node,this.oldParent=this.node.parent,this.dropNode=this.data.dropNode,this.newParent=this.dropNode.parent,this.type=this.data.direct),this._wfs=this.node.wfs,this._summary=this.node.induces}execute(){if(this._wfs&&this._wfs.length){var e=this.parent||this.newParent;this._wfs.forEach((t=>{if(this.oldParent&&this.oldParent.wireFrames){var i=this.oldParent.wireFrames.indexOf(t);i>-1&&(this.oldParent.wireFrames.splice(i,1),-1==e.wireFrames.indexOf(t)&&e.wireFrames.push(t))}}))}if(this._summary&&this._summary.length){e=this.parent||this.newParent;this._summary.forEach((t=>{if(this.oldParent&&this.oldParent.summaries){var i=this.oldParent.summaries.indexOf(t);i>-1&&(this.oldParent.summaries.splice(i,1),-1==e.summaries.indexOf(t)&&e.summaries.push(t))}}))}if(this.node.mindmap.clearSelectNode(),this.data.type.indexOf("child")>-1)this.oldParent&&(this.index=this.oldParent.removeChild(this.node)),this.parent.addChild(this.node),this.node.mindmap.traverseBF((e=>{e.boundingRect=null,e.stroke=""}),this.node),this.updateItems(this.node),this.updateItems(this.oldParent),this.node.clearCacheData(),this.oldParent.clearCacheData(),this.refresh(this.node.mindmap,this.node),this.refresh(this.node.mindmap,this.oldParent),this.node.select();else{this.oldParent&&(this.index=this.oldParent.removeChild(this.node)),this.node.mindmap.traverseBF((e=>{e.boundingRect=null,e.stroke=""}),this.node),this.oldParent.clearCacheData();var t=this.newParent.children.indexOf(this.dropNode);"top"==this.type||"left"==this.type?this.newParent.addChild(this.node,t):this.newParent.addChild(this.node,t+1),this.updateItems(this.node),this.updateItems(this.oldParent),this.node.clearCacheData(),this.refresh(this.node.mindmap,this.node),this.refresh(this.node.mindmap,this.oldParent),this.node.select()}}undo(){if(this._wfs&&this._wfs.length){var e=this.parent||this.newParent;this._wfs.forEach((t=>{if(this.oldParent&&this.oldParent.wireFrames){var i=e.wireFrames.indexOf(t);i>-1&&(e.wireFrames.splice(i,1),-1==this.oldParent.wireFrames.indexOf(t)&&this.oldParent.wireFrames.push(t))}}))}if(this._summary&&this._summary.length){e=this.parent||this.newParent;this._summary.forEach((t=>{if(this.oldParent&&this.oldParent.summaries){var i=e.summaries.indexOf(t);i>-1&&(e.summaries.splice(i,1),-1==this.oldParent.summaries.indexOf(t)&&this.oldParent.summaries.push(t))}}))}this.node.mindmap.clearSelectNode(),this.data.type.indexOf("child")>-1?(this.parent.removeChild(this.node),this.oldParent&&this.oldParent.addChild(this.node,this.index),this.node.mindmap.traverseBF((e=>{e.boundingRect=null,e.stroke=""}),this.node),this.updateItems(this.node),this.updateItems(this.parent),this.node.mindmap.updateAssist(),this.parent.clearCacheData(),this.node.clearCacheData(),this.refresh(this.node.mindmap,this.node),this.refresh(this.node.mindmap,this.parent),this.node.select()):(this.newParent.removeChild(this.node),this.dropNode.clearCacheData(),this.oldParent.addChild(this.node,this.index),this.updateItems(this.node),this.updateItems(this.parent),this.node.mindmap.updateAssist(),this.node.clearCacheData(),this.refresh(this.node.mindmap,this.node),this.refresh(this.node.mindmap,this.parent),this.node.select())}}class Fe extends Le{constructor(e){super("moveNodes"),this.data={},this.index=-1,this._wfs=[],this._summary=[],this.data=e,this.data.type.indexOf("child")>-1?(this.nodes=this.data.nodes,this.oldParent=this.data.oldParent,this.parent=this.data.parent):(this.nodes=this.data.nodes,this.oldParent=this.nodes[0].parent,this.dropNode=this.data.dropNode,this.newParent=this.dropNode.parent,this.type=this.data.direct),this.nodes.forEach((e=>{this._wfs=this._wfs.concat(e.wfs),this._summary=this._summary.concat(e.induces)}))}execute(){if(this._wfs&&this._wfs.length){var e=this.parent||this.newParent;this._wfs.forEach((t=>{if(this.oldParent&&this.oldParent.wireFrames){var i=this.oldParent.wireFrames.indexOf(t);i>-1&&(this.oldParent.wireFrames.splice(i,1),-1==e.wireFrames.indexOf(t)&&e.wireFrames.push(t))}}))}if(this._summary&&this._summary.length){e=this.parent||this.newParent;this._summary.forEach((t=>{if(this.oldParent&&this.oldParent.summaries){var i=this.oldParent.summaries.indexOf(t);i>-1&&(this.oldParent.summaries.splice(i,1),-1==e.summaries.indexOf(t)&&e.summaries.push(t))}}))}if(this.nodes[0].mindmap.clearSelectNode(),this.data.type.indexOf("child")>-1)this.nodes.forEach(((e,t)=>{this.oldParent&&(0==t?this.index=this.oldParent.removeChild(e):this.oldParent.removeChild(e)),this.parent.addChild(e),this.nodes[0].mindmap.traverseBF((e=>{e.boundingRect=null,e.stroke=""}),e),e.clearCacheData(),this.updateItems(e),this.updateItems(this.oldParent)})),this.oldParent.clearCacheData(),this.refresh(this.nodes[0].mindmap,this.nodes[0]),this.refresh(this.nodes[0].mindmap,this.oldParent);else{this.nodes.forEach(((e,t)=>{this.oldParent&&(0==t?this.index=this.oldParent.removeChild(e):this.oldParent.removeChild(e)),this.nodes[0].mindmap.traverseBF((e=>{e.boundingRect=null,e.stroke=""}),e),e.clearCacheData(),this.updateItems(e),this.updateItems(this.oldParent)})),this.oldParent.clearCacheData();var t=this.newParent.children.indexOf(this.dropNode);this.nodes.forEach(((e,i)=>{"top"==this.type||"left"==this.type?this.newParent.addChild(e,t):this.newParent.addChild(e,t+1+i),t=this.newParent.children.indexOf(this.dropNode)})),this.refresh(this.nodes[0].mindmap,this.nodes[0]),this.refresh(this.nodes[0].mindmap,this.oldParent)}}undo(){if(this._wfs&&this._wfs.length){var e=this.parent||this.newParent;this._wfs.forEach((t=>{if(this.oldParent&&this.oldParent.wireFrames){var i=e.wireFrames.indexOf(t);i>-1&&(e.wireFrames.splice(i,1),-1==this.oldParent.wireFrames.indexOf(t)&&this.oldParent.wireFrames.push(t))}}))}if(this._summary&&this._summary.length){e=this.parent||this.newParent;this._summary.forEach((t=>{if(this.oldParent&&this.oldParent.summaries){var i=e.summaries.indexOf(t);i>-1&&(e.summaries.splice(i,1),-1==this.oldParent.summaries.indexOf(t)&&this.oldParent.summaries.push(t))}}))}this.nodes[0].mindmap.clearSelectNode(),this.data.type.indexOf("child")>-1?(this.nodes.forEach(((e,t)=>{this.parent.removeChild(e),this.oldParent&&this.oldParent.addChild(e,this.index+t),e.mindmap.traverseBF((e=>{e.boundingRect=null,e.stroke=""}),e),this.updateItems(e)})),this.updateItems(this.parent),this.nodes[0].mindmap.updateAssist(),this.parent.clearCacheData(),this.nodes[0].clearCacheData(),this.refresh(this.nodes[0].mindmap,this.nodes[0]),this.refresh(this.nodes[0].mindmap,this.parent)):(this.nodes.forEach(((e,t)=>{this.newParent.removeChild(e),this.oldParent&&this.oldParent.addChild(e,this.index+t),e.mindmap.traverseBF((e=>{e.boundingRect=null,e.stroke=""}),e),this.updateItems(e)})),this.dropNode.clearCacheData(),this.updateItems(this.parent),this.nodes[0].mindmap.updateAssist(),this.nodes[0].clearCacheData(),this.refresh(this.nodes[0].mindmap,this.nodes[0]),this.refresh(this.nodes[0].mindmap,this.parent))}}class ze extends Le{constructor(e,t,i){super("movePos"),this.node=e,this.oldPos=t,this.newPos=i}execute(){this.node.setPosition(this.newPos.x,this.newPos.y),this.node.callout?this.refresh(this.node.mindmap,this.node.callout.node):this.refresh(this.node.mindmap,this.node),this.node.mindmap.clearSelectNode()}undo(){this.node.setPosition(this.oldPos.x,this.oldPos.y),this.node.callout?this.refresh(this.node.mindmap,this.node.callout.node):this.refresh(this.node.mindmap,this.node),this.node.mindmap.clearSelectNode()}}class Qe extends Le{constructor(e){super("collapseNOde"),this.node=e,this.node.mindmap.clearSelectNode(),this.node.refreshBox()}execute(){this.node.clearCacheData(),this.node.collapse(),this.updateItems(this.node),this.refresh(this.node.mindmap,this.node),this.node.select()}undo(){this.node.clearCacheData(),this.node.expand(),this.updateItems(this.node),this.refresh(this.node.mindmap,this.node),this.node.select()}}class He extends Le{constructor(e){super("collapseNOde"),this.node=e,this.node.mindmap.clearSelectNode(),this.node.refreshBox()}execute(){this.node.clearCacheData(),this.node.expand(),this.updateItems(this.node),this.refresh(this.node.mindmap,this.node),this.node.select()}undo(){this.node.clearCacheData(),this.node.collapse(),this.updateItems(this.node),this.refresh(this.node.mindmap,this.node),this.node.select()}}class je extends Le{constructor(e,t){super("addInduce"),this.node=e,this.induce=t,this.mind=this.node.getMind(),this.added=!1}execute(){this.added||(this.mind.addInduce(this.induce),this.added=!0),this.node.clearCacheData(),this.updateItems(this.node),this.refresh(this.node.mindmap,this.node)}undo(){this.added=!1,this.mind.contentEL.removeChild(this.induce.root.containEl),this.mind.removeInduce(this.induce),this.node.clearCacheData(),this.updateItems(this.node),this.refresh(this.node.mindmap,this.node)}}class qe extends Le{constructor(e,t){super("addWireFrame"),this.num=1,this.wireFrame=e,this.mind=t,this.node=this.wireFrame.node,this.num=1}execute(){this.node.clearCacheData(),this.mind.addWireFrame(this.wireFrame),1!=this.num&&(this.node.wireFrame=this.wireFrame,this.wireFrame.init()),this.num++,this.updateItems(this.node),this.refresh(this.node.mindmap,this.node),this.mind.clearSelectNode()}undo(){this.mind.removeWireFrame(this.wireFrame),this.node.wireFrame=null,this.node.clearCacheData(),this.updateItems(this.node),this.refresh(this.node.mindmap,this.node),this.mind.clearSelectNode()}}class We extends Le{constructor(e,t){super("remmoveWireFrame"),this.mind=t,this.node=e.node,this.wireFrame=e}execute(){this.mind.removeWireFrame(this.wireFrame),this.node.wireFrame=null,this.node.clearCacheData(),this.updateItems(this.node),this.refresh(this.node.mindmap,this.node),this.mind.clearSelectNode(),this.mind._dragFrame.style.display="none",this.mind._indicateDom.style.display="none"}undo(){this.node.wireFrame=this.wireFrame,this.node.clearCacheData(),this.mind.addWireFrame(this.wireFrame),this.wireFrame.init(),this.updateItems(this.node),this.refresh(this.node.mindmap,this.node),this.mind.clearSelectNode(),this.mind._dragFrame.style.display="none",this.mind._indicateDom.style.display="none"}}class Ve extends Le{constructor(e,t,i){super("changeRangeNode"),this.item=e,this.old=t,this.new=i}pre(){var e=this.old[0];"wireFrame"==this.item.name?e.wfs.splice(e.wfs.indexOf(this.item),1):e.induces.splice(e.induces.indexOf(this.item),1)}execute(){this.pre(),this.item.rangeNode=this.new,this.item.node=this.new[0],this.item.endNode=this.new[this.new.length-1],"wireFrame"==this.item.name?-1==this.new[0].wfs.indexOf(this.item)&&this.new[0].wfs.push(this.item):-1==this.new[0].induces.indexOf(this.item)&&this.new[0].induces.push(this.item),this.old.forEach((e=>{e&&e.clearCacheData()})),this.new.forEach((e=>{e&&e.clearCacheData()})),this.updateItems(this.item.node),this.refresh(this.item.node.mindmap,this.item.node)}undo(){"wireFrame"==this.item.name?this.new[0].wfs.splice(this.new[0].wfs.indexOf(this.item),1):this.new[0].induces.splice(this.new[0].induces.indexOf(this.item),1),this.item.rangeNode=this.old,this.item.node=this.old[0],this.item.endNode=this.old[this.old.length-1],"wireFrame"==this.item.name?this.old[0].wfs.indexOf(this.item)&&this.old[0].wfs.push(this.item):this.old[0].induces.indexOf(this.item)&&this.old[0].induces.push(this.item),this.old.forEach((e=>{e&&e.clearCacheData()})),this.new.forEach((e=>{e&&e.clearCacheData()})),this.updateItems(this.item.node),this.refresh(this.item.node.mindmap,this.item.node)}}class Ue extends Le{constructor(e){super("addRelate"),this.link=e,this.mind=this.link.startNode.getMind()}execute(){this.mind.addRelateLink(this.link),this.mind.status="",this.link.status="added"}undo(){this.mind.removeRelateLink(this.link)}}class Xe extends Le{constructor(e,t,i){super("relateLinkBox"),this.relateLink=e,this.oldBox=t,this.box=i}execute(){this.relateLink.data=this.box.data,this.relateLink.setBox(Object.assign({},this.box)),this.refresh(this.relateLink.startNode.mindmap,this.relateLink.startNode)}undo(){this.relateLink.data=this.oldBox.data,this.relateLink.setBox(Object.assign({},this.oldBox)),this.refresh(this.relateLink.startNode.mindmap,this.relateLink.startNode)}}class Ge extends Le{constructor(e,t){super("setAnnotate"),this.node=e,this.annotate=t,e.getAnnotateId()&&(this.oldAnnotate=e.getAnnotate())}execute(){this.node.setAnnotate(this.annotate),this.refresh(this.node.mindmap,this.node)}undo(){this.oldAnnotate?this.node.setAnnotate(this.oldAnnotate):this.node.deleteAnnotate(),this.refresh(this.node.mindmap,this.node)}}class Ye extends Le{constructor(e){super("setAnnotate"),this.node=e,this.annotate=e.getAnnotate()}execute(){this.node.deleteAnnotate(),this.refresh(this.node.mindmap,this.node)}undo(){this.node.setAnnotate(this.annotate),this.refresh(this.node.mindmap,this.node)}}class Ke extends Le{constructor(e){super("changeNodeToFreeRoot"),this.node=e,this.mind=e.getMind(),this.pos=this.node.getPosition(),this.parent=this.node.parent,this.node.data.main=!1,this.node.layout&&(this.layout=this.node.layout)}execute(){var e=this;if(this.layout&&(this.node.layout=this.layout),this.node.clearCacheData(),this.node.containEl.classList.contains("mm-root")||this.node.containEl.classList.add("mm-root"),this.node.containEl.classList.contains("mm-freeNode")||this.node.containEl.classList.add("mm-freeNode"),this.node.refreshBox(),this.parent)var t=this.parent.wireFrames,i=this.parent.summaries;this.cacheInfo={wfs:[],induces:[]},t&&t.forEach((t=>{if(t.node==t.endNode){if(t.node==e.node){var i=t.node.parent,n=i.wireFrames.indexOf(t);i.wireFrames.splice(n,1),t.node.wireFrame=t,e.cacheInfo.wfs.push({item:t,type:"toFreeRoot"})}}else if(t.rangeNode.indexOf(e.node)>-1)if(t.rangeNode[0]==e.node){e.node.wfs.splice(e.node.wfs.indexOf(t),1);var s=t.rangeNode.slice();t.rangeNode.shift(),t.rangeNode[0].wfs.push(t),e.cacheInfo.wfs.push({item:t,type:"changeRangeNode-start",oldRange:s,newRange:t.rangeNode.slice()})}else if(t.rangeNode[t.rangeNode.length-1]==e.node){s=t.rangeNode.slice();t.rangeNode.pop(),e.cacheInfo.wfs.push({item:t,type:"changeRangeNode-end",oldRange:s,newRange:t.rangeNode.slice()})}else{s=t.rangeNode.slice();var r=t.rangeNode.indexOf(e.node);t.rangeNode.splice(r,1),e.cacheInfo.wfs.push({item:t,type:"changeRangeNode",oldRange:s,newRange:t.rangeNode.slice(),num:r})}})),i&&i.forEach((t=>{if(t.node==t.endNode)t.node==e.node&&(e.mind.removeInduce(t),e.cacheInfo.induces.push({item:t,type:"remove"}),e.mind.removeNode(t.root));else if(t.rangeNode.indexOf(e.node)>-1)if(t.rangeNode[0]==e.node){e.node.induces.splice(e.node.induces.indexOf(t),1);var i=t.rangeNode.slice();t.rangeNode.shift(),t.rangeNode[0].induces.push(t),e.cacheInfo.induces.push({item:t,type:"changeRangeNode-start",oldRange:i,newRange:t.rangeNode.slice()})}else if(t.rangeNode[t.rangeNode.length-1]==e.node){i=t.rangeNode.slice();t.rangeNode.pop(),e.cacheInfo.induces.push({item:t,type:"changeRangeNode-end",oldRange:i,newRange:t.rangeNode.slice()})}else{i=t.rangeNode.slice();var n=t.rangeNode.indexOf(e.node);t.rangeNode.splice(n,1),e.cacheInfo.induces.push({item:t,type:"changeRangeNode",oldRange:i,newRange:t.rangeNode.slice(),num:n})}})),this.parent&&(this.index=this.parent.removeChild(this.node)),this.node.parent=null,this.mind.addFreeNode(this.node),this.mind.traverseDF((e=>{e.boundingRect=null,e.stroke=""}),this.node),this.node.nodeType="freeNode",this.node.setPosition(this.pos.x,this.pos.y),this.updateItems(this.parent),this.updateItems(this.node),this.parent.clearCacheData(),this.refresh(this.parent.mindmap,this.parent),this.refresh(this.node.mindmap,this.node),this.layout||(this.layout=this.node.layout),this.mind.clearSelectNode()}undo(){var e=this;this.mind.removeFreeNode(this.node),this.node.containEl.classList.contains("mm-root")&&this.node.containEl.classList.remove("mm-root"),this.node.containEl.classList.contains("mm-freeNode")&&this.node.containEl.classList.remove("mm-freeNode"),this.node.refreshBox(),this.node.layout&&(this.node.layout.svgDom&&this.node.layout.svgDom.clear()&&this.node.layout.svgDom.remove(),this.node.layout.group&&this.node.layout.group.clear()&&this.node.layout.group.remove(),this.node.layout.svgDom=null,this.node.layout.group=null,this.node.layout=null),this.node.nodeType="richText",this.parent&&this.parent.addChild(this.node,this.index),this.node.clearCacheData(),this.mind.traverseDF((e=>{e.boundingRect=null,e.stroke=""}),this.node),this.node._isRoot||this.node.layout&&(this.node.layout.svgDom&&this.node.layout.svgDom.remove(),this.node.layout.svgDom=null,this.node.layout=null),this.cacheInfo&&this.cacheInfo.wfs.forEach((t=>{if("toFreeRoot"==t.type){var i=t.item.node.parent;i&&(i.wireFrames.push(t.item),i.wireFrames.unique(),i.wireFrames.sort((function(e,t){return e.rangeNode.length-t.rangeNode.length}))),t.item.node.wireFrame=null}if("remove"==t.type&&(e.mind.addWireFrame(t.item),t.item.init()),"changeRangeNode-start"==t.type){e.node.wfs.push(t.item);var n=t.item.rangeNode[0];n.wfs.splice(n.wfs.indexOf(t.item),1),t.item.rangeNode=t.oldRange}"changeRangeNode-end"!=t.type&&"changeRangeNode"!=t.type||(t.item.rangeNode=t.oldRange)})),this.cacheInfo&&this.cacheInfo.induces.forEach((t=>{if("remove"==t.type&&(e.mind.addInduce(t.item),t.item.init(),this.mind.traverseDF((e=>{this.mind._addNodeDom(e)}),t.item.root)),"changeRangeNode-start"==t.type){e.node.induces.push(t.item);var i=t.item.rangeNode[0];i.induces.splice(i.induces.indexOf(t.item),1),t.item.rangeNode=t.oldRange}"changeRangeNode-end"!=t.type&&"changeRangeNode"!=t.type||(t.item.rangeNode=t.oldRange)})),this.updateItems(this.node),this.refresh(this.node.mindmap,this.node),this.node.layout=null,this.mind.clearSelectNode()}}class Je extends Le{constructor(e,t){super("changeFreeRootToNode"),this.node=e,this.pos=this.node.getPosition(),this.parent=t,this.mind=this.node.getMind(),this.oldLayout=this.node.layout}execute(){if(this.node.containEl.classList.contains("mm-root")&&(this.node.containEl.classList.remove("mm-root"),this.node.containEl.classList.remove("mm-freeNode")),this.node.refreshBox(),this.mind.removeFreeNode(this.node),this.node.layout.svgDom&&this.node.layout.svgDom.clear(),this.node.nodeType="richText",this.parent.addChild(this.node),this.node.clearCacheData(),this.mind.traverseDF((e=>{e.boundingRect=null,e.direct="",e.stroke=this.parent.stroke,e.data.stroke=this.parent.stroke}),this.node),this.node.wfs.length){var e=this.node.parent;e&&(-1==e.wireFrames.indexOf(this.node.wfs[0])&&e.wireFrames.push(this.node.wfs[0]),e.wireFrames.sort((function(e,t){return e.rangeNode.length-t.rangeNode.length}))),this.rootWf=this.node.wfs[0],this.node.wireFrame=null}this.updateItems(this.node),this.refresh(this.node.mindmap,this.node),this.mind.clearSelectNode()}undo(){if(this.node.layout=this.oldLayout,this.node.clearCacheData(),this.mind.addFreeNode(this.node),this.node.nodeType="freeNode",this.parent.removeChild(this.node),this.node.setPosition(this.pos.x,this.pos.y),this.mind.traverseDF((e=>{e.boundingRect=null,e.direct="",e.stroke="",e.data.stroke=""}),this.node),this.node.containEl.classList.contains("mm-root")||(this.node.containEl.classList.add("mm-root"),this.node.containEl.classList.add("mm-freeNode")),this.node.refreshBox(),this.mind.clearSelectNode(),this.rootWf){var e=this.rootWf.node.parent;e&&e.wireFrames.splice(e.wireFrames.indexOf(this.rootWf),1),this.rootWf.node.wireFrame=this.rootWf,this.rootWf=null}this.updateItems(this.parent),this.updateItems(this.node),this.refresh(this.parent.mindmap,this.parent),this.refresh(this.node.mindmap,this.node)}}class Ze extends Le{constructor(e){super("removeCommand"),this.node=e.node,this.induce=e}execute(){var e=this.node.getMind();e.removeInduce(this.induce),this.induce.root.layout&&this.induce.root.layout.svgDom&&this.induce.root.layout.svgDom.remove()&&(this.induce.root.layout.svgDom=null),function t(i){e.removeNode(i),i.wireFrames&&i.wireFrames.forEach((t=>{e.removeWireFrame(t)})),i.summaries&&i.summaries.forEach((i=>{e.removeInduce(i),i.root.layout&&i.root.layout.svgDom&&i.root.layout.svgDom.remove()&&(i.root.layout.svgDom=null),t(i.root)})),i.getChildren().forEach((e=>{t(e)}))}(this.induce.root),this.node.induce=null,this.node.clearCacheData(),this.updateItems(this.node),this.refresh(e,this.node),e.updateAssist(),e._dragFrame.style.display="none",e._indicateDom.style.display="none"}undo(){var e=this.node.getMind();e.addInduce(this.induce),function t(i){e.addNode(i),i.wireFrames.length&&i.wireFrames.forEach((t=>{e.addWireFrame(t)})),i.summaries.length&&i.summaries.forEach((i=>{e.addInduce(i),t(i.root)})),i.getChildren().forEach((e=>{t(e)}))}(this.induce.root),this.node.induce=this.induce,this.node.clearCacheData(),this.updateItems(this.node),this.refresh(this.node.mindmap,this.node),e._dragFrame.style.display="none",e._indicateDom.style.display="none"}}class $e extends Le{constructor(e){super("removeRelateLink"),this.link=e,this.mind=e.startNode.getMind()}execute(){this.mind.removeNode(this.link.textNode),this.mind.removeRelateLink(this.link),this.refresh(this.mind,this.link.startNode)}undo(){this.mind.addRelateLink(this.link),this.refresh(this.mind,this.link.startNode)}}class et extends Le{constructor(e,t){super("changeLayout"),this.isTable=!1,this.oldNode=null,this.tableLayout=null,this.forceChange=!1,this.newLayout=null,this.node=e,this.mind=this.node.mindmap,this.direct=t}execute(){if(this.mind.traverseDF((e=>{e.boundingRect=null}),this.node),"right"==this.direct||"left"==this.direct||"mindmap"==this.direct||"up"==this.direct||"down"==this.direct){if(s=this.node.getNodeLayout()){if(this.mind.traverseDF((e=>{e.boundingRect=null}),s.root),this.oldLayout=s,"table"==s.layoutName){this.forceChange=!0;var e=s.getData(s.root),t=this.initNode(e,this.direct);t.nodeType=s.root.nodeType,this.oldIndex=this.mind.removeNode(s.root),this.oldIndex>-1&&this.mind.addNode(t,s.root.parent,this.oldIndex),this.mind.traverseBF((e=>{this.mind._addNodeDom(e)}),t),this.mind.contentEL.contains(s.tableDom)&&this.mind.contentEL.removeChild(s.tableDom),t.data.main&&(this.mind.root=t,e.x&&e.y&&t.setPosition(e.x,e.y),this.mind.traverseBF((e=>{e.refreshBox(),e.boundingRect=null}),t)),"freeNode"==s.root.nodeType&&(this.mind.removeFreeNode(s.root),this.mind.addFreeNode(t),e.x&&e.y&&t.setPosition(e.x,e.y),this.mind.traverseBF((e=>{e.refreshBox(),e.boundingRect=null}),t)),"induce"==s.root.nodeType&&(s.root.incuce.root=t,t.incuce=s.root.incuce,t.nodeType,this.mind.traverseBF((e=>{e.refreshBox(),e.boundingRect=null}),t)),this.effect()}s.svgDom&&s.svgDom.clear()&&s.svgDom.remove()&&(s.svgDom=null),s.group&&s.group.clear()&&s.group.remove()&&(s.group=null)}this.node.clearCacheData();var i="up"==this.direct||"down"==this.direct?"tree":"mindmap2",n=new Se[i](t||this.node,this.direct,this.mind.view.colors.slice());(t||this.node).layout=n,this.newLayout=n,this.node.isRoot&&this.node.data.main&&(this.node.mindmap.mmLayout=n)}if("lTree"==this.direct&&this.changeLayout("multipleTree","multipleTree"),"vertical"==this.direct&&this.changeLayout("vertical","vertical"),"fishRight"==this.direct&&this.changeLayout("fish","right"),"fishLeft"==this.direct&&this.changeLayout("fish","left"),"multip"==this.direct&&this.changeLayout("multipleTree","multipleTree"),"multipLeft"==this.direct&&this.changeLayout("multipleTree","left"),"multipRight"==this.direct&&this.changeLayout("multipleTree","right"),"table"==this.direct){var s=this.node.getNodeLayout();this.isTable=!0,s&&"table"!=s.layoutName&&(this.oldLayout=s),this.oldNode=this.node;n=new Se.table(this.node,"");var r=this.node.parent;n.root.parent=r,this.oldIndex=this.mind.removeNode(this.node,!1),this.mind.addNode(n.root,n.root.parent,this.oldIndex),this.tableLayout=n,this.oldNode&&this.oldNode.isRoot&&this.oldNode.data.main&&(this.mind.root=n.root,this.mind.mmLayout=n),this.oldNode&&"freeNode"==this.oldNode.nodeType&&(this.mind.removeFreeNode(this.oldNode),this.mind.addFreeNode(n.root),n.root.nodeType),this.oldNode&&"induce"==this.oldNode.nodeType&&this.oldNode.incuce&&(this.oldNode.incuce.root=n.root,n.root.induce=this.oldNode.induce,n.root.nodeType),this.effect()}this.oldLayout?(this.newLayout&&this.refresh(this.mind,this.newLayout.root),this.refresh(this.mind,this.oldLayout.root)):this.refresh(this.mind,this.node)}changeLayout(e,t){var i=this.node.getNodeLayout();if(i){if(this.mind.traverseDF((e=>{e.boundingRect=null,e.refreshBox(),e.direct=""}),i.root),this.oldLayout=i,"table"==i.layoutName){this.forceChange=!0;var n=i.getData(i.root),s=this.initNode(n,this.direct);s.nodeType=i.root.nodeType,this.oldIndex=this.mind.removeNode(i.root),this.oldIndex>-1&&this.mind.addNode(s,i.root.parent,this.oldIndex),this.mind.traverseBF((e=>{this.mind._addNodeDom(e)}),s),s.data.main&&(this.mind.root=s,n.x&&n.y&&s.setPosition(n.x,n.y),this.mind.traverseBF((e=>{e.refreshBox(),e.boundingRect=null}),s)),"freeNode"==i.root.nodeType&&(this.mind.removeFreeNode(i.root),this.mind.addFreeNode(s),s.nodeType,n.x&&n.y&&s.setPosition(n.x,n.y),this.mind.traverseBF((e=>{e.refreshBox(),e.boundingRect=null}),s)),"induce"==i.root.nodeType&&(i.root.incuce.root=s,s.incuce=i.root.incuce,s.nodeType,this.mind.traverseBF((e=>{e.refreshBox(),e.boundingRect=null}),s)),this.mind.contentEL.contains(i.tableDom)&&this.mind.contentEL.removeChild(i.tableDom),this.effect()}i.svgDom&&i.svgDom.clear()&&i.svgDom.remove()&&(i.svgDom=null),i.group&&i.group.clear()&&i.group.remove()&&(i.group=null)}this.node.clearCacheData();var r=new Se[e](s||this.node,t,this.mind.view.colors.slice());(s||this.node).layout=r,this.newLayout=r,this.node.isRoot&&this.node.data.main&&(this.node.mindmap.mmLayout=r)}undo(){this.oldLayout&&!this.isTable?this.forceChange?(this.oldIndex>-1&&(this.mind.removeNode(this.newLayout.root),this.mind.addNode(this.oldLayout.root,this.oldLayout.root.parent,this.oldIndex)),this.newLayout&&this.newLayout.root.data.main&&(this.mind.root=this.oldLayout.root,this.mind._removeChildDom(this.newLayout.root),this.mind.mmLayout=this.oldLayout),this.newLayout&&"freeNode"==this.newLayout.root.nodeType&&(this.mind.removeFreeNode(this.newLayout.root),this.mind.addFreeNode(this.oldLayout.root),this.oldLayout.root.nodeType,this.mind._removeChildDom(this.newLayout.root)),this.newLayout&&"induce"==this.newLayout.root.nodeType&&(this.oldLayout.root.nodeType,this.mind._removeChildDom(this.newLayout.root),this.oldLayout.root.induce.root=this.oldLayout.root),this.oldLayout.tableDom&&(this.mind.contentEL.contains(this.oldLayout.tableDom)||this.mind.contentEL.appendChild(this.oldLayout.tableDom)),this.effect()):(this.oldLayout.root.layout.svgDom&&this.oldLayout.root.layout.svgDom.clear()&&this.oldLayout.root.layout.svgDom.remove()&&(this.oldLayout.root.layout.svgDom=null),this.oldLayout.root.layout.group&&this.oldLayout.root.layout.group.clear()&&this.oldLayout.root.layout.group.remove()&&(this.oldLayout.root.layout.group=null),this.mind.traverseDF((e=>{e.boundingRect=null,e.refreshBox(),e.direct=""}),this.oldLayout.root),this.oldLayout.root.layout=this.oldLayout,this.oldLayout.svgDom&&(this.oldLayout.svgDom=null),this.oldLayout.group&&(this.oldLayout.group=null),this.oldLayout.layout(this.oldLayout.root,this.oldLayout.direct)):this.oldLayout&&this.isTable?(this.mind.removeNode(this.tableLayout.root),this.mind.addNode(this.oldNode,this.oldNode.parent,this.oldIndex),this.mind.traverseBF((e=>{this.mind._addNodeDom(e),e.refreshBox(),e.boundingRect=null}),this.oldNode),this.mind.contentEL.removeChild(this.tableLayout.tableDom),this.oldNode&&this.oldNode.data.main&&(this.mind.root=this.oldNode,this.mind.mmLayout=this.oldLayout),this.oldNode&&"freeNode"==this.tableLayout.root.nodeType&&(this.mind.removeFreeNode(this.tableLayout.root),this.mind.addFreeNode(this.oldNode),this.mind.traverseBF((e=>{e.refreshBox(),e.boundingRect=null}),this.oldNode)),this.oldNode&&"induce"==this.tableLayout.root.nodeType&&this.oldNode.incuce&&(this.oldNode.incuce.root=this.oldNode,this.mind.traverseBF((e=>{e.refreshBox(),e.boundingRect=null}),this.oldNode)),this.tableLayout.tableDom=null,this.tableLayout=null,this.effect()):this.isTable?(this.mind.removeNode(this.tableLayout.root),this.mind.addNode(this.oldNode,this.oldNode.parent,this.oldIndex),this.mind.traverseBF((e=>{this.mind._addNodeDom(e),e.boundingRect=null,e.refreshBox()}),this.oldNode),this.mind.contentEL.contains(this.tableLayout.tableDom)&&this.mind.contentEL.removeChild(this.tableLayout.tableDom),this.tableLayout.tableDom=null,this.tableLayout=null,this.effect()):this.node.layout&&(this.mind.traverseDF((e=>{e.boundingRect=null,e.refreshBox(),e.direct=""}),this.node.layout.root),this.node.layout.svgDom&&this.node.layout.svgDom.clear()&&this.node.layout.svgDom.remove()&&(this.node.layout.svgDom=null),this.node.layout.group&&this.node.layout.group.clear()&&this.node.layout.group.remove()&&(this.node.layout.group=null),this.node.layout=null,this.node.clearCacheData()),this.oldLayout?(this.newLayout&&this.refresh(this.mind,this.newLayout.root),this.refresh(this.mind,this.oldLayout.root)):this.refresh(this.mind,this.node),this.node.isRoot&&this.node.data.main&&(this.node.mindmap.mmLayout=this.oldLayout)}initNode(e,t){var i=this,n=null;return function e(s,r,o){var a=new xe(s,i.mind);s.isRoot&&s.main&&(i.mind.root=a,a.isRoot=!0),r?n=a:(o.children.push(a),a.parent=o),a.direct=t||s.direct,s.children&&s.children.length&&s.children.forEach((t=>{t.x=100,t.y=100,e(t,!1,a)}))}(e,!0),n}effect(){var e=this.mind.induces,t=this.mind.wireFrames,i=this.mind.relateLinks;e.concat(t).forEach((e=>{var t=e.node,i=e.endNode;if(t){var n=t.getId();(s=this.mind.getNodeById(n))!=t&&(e.node=s,e.rangeNode=[s,i],"wireFrame"==e.name?(s.wfs||(s.wfs=[]),-1==s.wfs.indexOf(e)&&s.wfs.push(e)):(s.induces||(s.induces=[]),-1==s.induces.indexOf(e)&&s.induces.push(e)))}if(i){var s;n=i.getId();(s=this.mind.getNodeById(n))!=i&&(e.endNode=s,e.rangeNode=[e.node,s])}e.refreshNode(),e.refreshItems()})),i.forEach((e=>{var t=e.startNode,i=e.endNode;if(t){var n=t.getId();(s=this.mind.getNodeById(n))!=t&&(e.startNode=s)}if(i){var s;n=i.getId();(s=this.mind.getNodeById(n))!=i&&(e.endNode=s)}}))}}class tt extends Le{constructor(e,t){super("changeSummary"),this.summary=e,this.stroke=t,this.oldStroke=e.stroke}execute(){this.summary.setData({stroke:this.stroke,lineType:"solid"});var e=this.summary.node;this.refresh(e.mindmap,e)}undo(){this.summary.setData({stroke:this.oldStroke,lineType:"solid"});var e=this.summary.node;this.refresh(e.mindmap,e)}}class it extends Le{constructor(e,t,i){super("ChangeWireframe"),this.wf=e,this.stroke=t,this.oldStroke=e.stroke,this.background=i,this.oldBackground=e.fill}execute(){this.wf.fill=this.background,this.wf.stroke=this.stroke,this.wf.refresh();var e=this.wf.node;this.refresh(e.mindmap,e)}undo(){this.wf.fill=this.oldBackground,this.wf.stroke=this.oldStroke;var e=this.wf.node;this.refresh(e.mindmap,e)}}class nt extends Le{constructor(e,t){super("changeLinkStroke"),this.link=e,this.stroke=t,this.oldStroke=e.data.color}execute(){this.link.data.color=this.stroke,this.link.refresh(),this.refresh(this.link.mind,this.link.startNode)}undo(){this.link.data.color=this.oldStroke,this.link.refresh(),this.refresh(this.link.mind,this.link.startNode)}}class st extends Le{constructor(e,t){super("changeLinkType"),this.link=e,this.type=t,this.oldType=e.data.type}execute(){this.link.data.type=this.type,this.link.bs&&(this.link.bs.remove(),this.link._createLine(),this.link._addLineEvent()),this.link.refresh(),this.refresh(this.link.mind,this.link.startNode)}undo(){this.link.data.type=this.oldType,this.link.bs&&(this.link.bs.remove(),this.link._createLine(),this.link._addLineEvent()),this.link.refresh(),this.refresh(this.link.mind,this.link.startNode)}}class rt extends Le{constructor(e,t){super("note"),this.node=e,this.note=t,this.oldNote=e.data.note}execute(){this.node.setNote(this.note),this.node.refreshBox(),this.node.clearCacheData(),this.refresh(this.node.mindmap,this.node)}undo(){this.node.setNote(this.oldNote),this.node.refreshBox(),this.node.clearCacheData(),this.refresh(this.node.mindmap,this.node)}}class ot extends Le{constructor(e){super("addFreeNode"),this.node=e}execute(){this.node.mindmap.addFreeNode(this.node),this.refresh(this.node.mindmap,this.node)}undo(){this.node.mindmap.removeFreeNode(this.node),this.node.mindmap.removeNode(this.node),this.refresh(this.node.mindmap,this.node)}}class at extends Le{constructor(e,t,i){super("copyNode"),this.waitCollapse=[],this.summary=[],this.node=e,this.data=t,this.mind=this.node.mindmap,this.waitCollapse=[],this.summary=i}execute(){this.paste()}undo(){this.firstNode&&(this.mind.removeNode(this.firstNode),this.node.clearCacheData(),this.updateItems(this.node),this.refresh(this.node.mindmap,this.node))}paste(){var e=this;this.data.forEach(((e,t)=>{var i=new xe(e,this.mind);if(i.mindmap=this.mind,e.isExpand||this.waitCollapse.push(i),0==t)i.data.pid=this.node.getId(),this.mind.addNode(i,this.node),this.firstNode=i,i.setPosition(0,0),i.refreshBox();else{var n=this.mind.getNodeById(e.pid);n&&(this.mind.addNode(i,n),i.setPosition(0,0),i.refreshBox())}t==this.data.length-1&&(i.clearCacheData(),this.updateItems(i),this.refresh(this.mind,i))}));var t=null;this.summary.sort(((e,t)=>e.index-t.index)),this.summary.forEach((i=>{var n=i.range,s=this.mind.getNodeById(i.nodeId);console.log(s),t=s;var r=s.parent,o=[];if(n){var a=n.split(",");r.children.forEach(((e,t)=>{t>=a[0]&&t<=a[1]&&o.push(e)}));var h=o[o.length-1]}else{h=s;o=[s]}i.nodeArr.forEach(((t,n)=>{if(0==n){var r=new xe(t,e.mind),a=new Te(s,r,i.stroke,i.lineType);a.endNode=h,a.rangeNode=o,a.refreshItems(),a.refreshNode(),a.type=i.type,e.mind.addInduce(a)}else{r=new xe(t,e.mind);var l=e.mind.getNodeById(t.pid);e.mind.contentEL.appendChild(r.containEl),l&&(l.children.push(r),r.setPosition(0,0),r.parent=l)}if(t.x&&t.y&&r.setPosition(t.x,t.y),t.boundingRect&&(r.boundingRect=t.boundingRect),r.refreshBox(),t.layout){var d=new Array(100).fill(o[0].stroke||o[0].data.stroke);r.layout=new Se[t.layout.layoutName](s,t.layout.layoutDirect,d),r.layout.direct=t.layout.layoutDirect,r.layout.root=r}}))})),t&&(t.clearCacheData(),this.updateItems(t),this.refresh(this.mind,t))}}class ht extends Le{constructor(e,t){super("setNodeStyle"),this.oldStyles={},this.nodes=e,this.newStyle=t}execute(){var e,t=[];this.nodes.forEach((e=>{var i=e.getStyle();this.oldStyles[e.getId()]=JSON.stringify(i);var n=Object.assign({},i,this.newStyle);e.setStyle(n),e.clearCacheData(),e.refreshBox();var s=e.getTopLayout();-1==t.indexOf(s)&&t.push(s),e.callout&&e.callout.refresh()})),t.length&&t.forEach((e=>{e&&e.refresh()})),1==this.nodes.length&&"wireFrame"==this.nodes[0].nodeType?this.refresh(this.nodes[0].mindmap,null===(e=this.nodes[0].wireFrame)||void 0===e?void 0:e.node):this.refresh(this.nodes[0].mindmap,this.nodes[0])}undo(){var e=[];this.nodes.forEach((t=>{var i=t.getId(),n=JSON.parse(this.oldStyles[i]);t.setStyle(n,!0),t.clearCacheData(),t.refreshBox();var s=t.getTopLayout();-1==e.indexOf(s)&&e.push(s),t.callout&&t.callout.refresh()})),e.length&&e.forEach((e=>{e&&e.refresh()})),this.refresh(this.nodes[0].mindmap,this.nodes[0])}}class lt extends Le{constructor(e,t){super("addCallout"),this.node=e,this.callout=t,this.mind=e.getMind(),this.num=1}execute(){this.mind.addCallout(this.callout),1!=this.num&&(this.callout.init(),this.mind.contentEL.appendChild(this.callout.root.containEl)),this.callout.node.callout=this.callout,this.num++,this.updateItems(this.callout.node),this.node.clearCacheData(),this.refresh(this.mind,this.callout.node)}undo(){this.mind.removeCallout(this.callout),this.mind.contentEL.removeChild(this.callout.root.containEl),this.callout.off(),this.callout.remove(),this.node.callout=null,this.node.clearCacheData(),this.updateItems(this.node),this.refresh(this.mind,this.node)}}class dt extends Le{constructor(e){super("RemoveCallout"),this.callout=e,this.mind=e.node.getMind()}execute(){this.mind.contentEL.removeChild(this.callout.root.containEl),this.mind.removeCallout(this.callout),this.callout.node.clearCacheData(),this.callout.off(),this.callout.node.callout=null,this.updateItems(this.callout.node),this.refresh(this.mind,this.callout.node)}undo(){this.mind.addCallout(this.callout),this.mind.contentEL.appendChild(this.callout.root.containEl),this.callout.init(),this.callout.node.callout=this.callout,this.callout.node.clearCacheData(),this.updateItems(this.callout.node),this.refresh(this.mind,this.callout.node)}}class ct extends Le{constructor(e){super("removeNodeLayout"),this.node=e,this.mind=this.node.getMind(),this.layout=e.layout}execute(){if(this.layout){if("table"!=this.layout.layoutName)this.layout.svgDom&&this.layout.svgDom.clear()&&this.layout.svgDom.remove()&&(this.layout.svgDom=null),this.layout.group&&this.layout.group.clear()&&this.layout.group.remove()&&(this.layout.group=null),this.node.getMind().traverseDF((e=>{e.boundingRect=null,e.direct=""}),this.node),this.node.layout=null;else{var e=this.initNode(this.layout.getData(this.node)),t=this.node.parent;this.iNode=e,this.index=this.node.getMind().removeNode(this.node),this.node.getMind().addNode(e,t,this.index),this.mind.traverseBF((e=>{this.mind._addNodeDom(e),e.refreshBox()}),e),this.mind.contentEL.removeChild(this.layout.tableDom),this.effect()}this.refresh(this.mind,e||this.node)}}undo(){this.layout&&("table"!=this.layout.layoutName?(this.node.layout=this.layout,this.node.getMind().traverseDF((e=>{e.boundingRect=null,e.direct=""}),this.node)):(this.iNode&&this.mind.removeNode(this.iNode),this.mind.addNode(this.node,this.node.parent,this.index),this.mind.contentEL.contains(this.node.layout.tableDom)||this.mind.contentEL.appendChild(this.node.layout.tableDom),this.effect()),this.refresh(this.mind,this.node))}initNode(e,t){var i=this,n=null;return function e(s,r,o){var a=new xe(s,i.mind);r?n=a:(o.children.push(a),a.parent=o),a.direct=t||s.direct||"",s.children&&s.children.length&&s.children.forEach((t=>{t.x=100,t.y=100,e(t,!1,a)}))}(e,!0),n}effect(){var e=this.mind.induces,t=this.mind.wireFrames,i=this.mind.relateLinks;e.concat(t).forEach((e=>{var t=e.node,i=e.endNode;if(t){var n=t.getId();(s=this.mind.getNodeById(n))!=t&&(e.node=s,e.rangeNode=[s,i],"wireFrame"==e.name?(s.wfs||(s.wfs=[]),-1==s.wfs.indexOf(e)&&s.wfs.push(e)):(s.induces||(s.induces=[]),-1==s.induces.indexOf(e)&&s.induces.push(e)))}if(i){var s;n=i.getId();(s=this.mind.getNodeById(n))!=i&&(e.endNode=s,e.rangeNode=[e.node,s])}e.refreshNode(),e.refreshItems()})),i.forEach((e=>{var t=e.startNode,i=e.endNode;if(t){var n=t.getId();(s=this.mind.getNodeById(n))!=t&&(e.startNode=s)}if(i){var s;n=i.getId();(s=this.mind.getNodeById(n))!=i&&(e.endNode=s)}}))}}class ut extends Le{constructor(e,t){super("removeNodes"),this.realCmds=[],this.nodes=e.sort(((e,t)=>e.getLevel()-t.getLevel())),this.mind=t}execute(){this.nodes.forEach(((e,t)=>{if(0==t){(i=new Oe(e,e.mindmap)).execute(),this.realCmds.push(i)}else{var i,n=e.getId(),s=this.mind.getNodeById(n);if(s)(i=new Oe(s,s.mindmap)).execute(),this.realCmds.push(i)}}))}undo(){this.realCmds.length&&this.realCmds.reverse().forEach((e=>{e.undo()}))}}class pt extends Le{constructor(e,t){super("changeBoundaryName"),this.wireFrame=null,this.text="",this.oldText="",this.wireFrame=e,this.oldText=this.wireFrame.getGroupName(),this.text=t}execute(){this.wireFrame.setGroupName(this.text),this.wireFrame.refreshBox(),this.refresh(this.wireFrame.node.mindmap,this.wireFrame.node)}undo(){this.wireFrame.setGroupName(this.oldText),this.wireFrame.refreshBox(),this.refresh(this.wireFrame.node.mindmap,this.wireFrame.node)}}class mt extends Le{constructor(e,t){super("setTextCover"),this.nodes=[],this.flag=null,this.nodes=e,this.flag=t}execute(){this.nodes.forEach((e=>{e.setCoverText(this.flag)})),this.refresh(this.nodes[0].mindmap,this.nodes[0])}undo(){this.nodes.forEach((e=>{e.setCoverText(!this.flag)})),this.refresh(this.nodes[0].mindmap,this.nodes[0])}}class ft{constructor(){this.history=new Me(100)}execute(e,t){var i;switch(e){case"addChildNode":case"addSiblingNode":if(t){var n={id:bs(),text:t.text||r("Sub title")},s=t.data;s&&(s.text&&(n.text=s.text),s.note&&(n.note=s.note));var o=t.parent;if(n.stroke=o.stroke,o.belongInduce&&!o.layout){for(var a=o.direct,h=[],l=0;l<50;l++)h.push(o.belongInduce.node.stroke);o.layout="right"==a||"left"==a?new Se.mindmap1(o,a,h):new Se.tree(o,a,h)}if(o.isExpand||o.expand(),"table"==o.mindmap._mode||o.iNode)var d=t.node||new be(n,o.mindmap);else d=t.node||new xe(n,o.mindmap);if(t.hasOwnProperty("index"))var c=t.index;this.history.execute(new Pe(d,t.parent,o.mindmap,!!s,c))}break;case"deleteNodeAndChild":if(t){if((d=t.node).mindmap.isRead)return;this.history.execute(new Oe(d,d.mindmap))}break;case"deleteNodes":var u=t.nodes;this.history.execute(new ut(u,u[0].mindmap));break;case"deleteNodeExcludeChild":break;case"changeNodeText":if(t){if((d=t.node).mindmap.isRead)return;"wireFrame"==d.nodeType?this.history.execute(new pt(d.wireFrame,t.text)):this.history.execute(new Re(t.node,t.oldText,t.text))}break;case"moveNode":t&&this.history.execute(new _e(t));break;case"moveNodes":t&&this.history.execute(new Fe(t));break;case"movePosition":t&&this.history.execute(new ze(t.node,t.oldPos,t.newPos));break;case"expandNode":t&&this.history.execute(new He(t.node));break;case"collapseNode":t&&this.history.execute(new Qe(t.node));break;case"addSummary":if(t){if((d=t.node).mindmap.isRead)return;this.history.execute(new je(t.node,t.summary))}break;case"addWireFrame":if(t){if((d=t.node).mindmap.isRead)return;this.history.execute(new qe(t.wireFrame,t.node.mindmap))}break;case"changeRangeNode":this.history.execute(new Ve(t.item,t.oldRangeNode,t.newRangeNode));break;case"addRelateLink":this.history.execute(new Ue(t.link));break;case"changeRelateLink":this.history.execute(new Xe(t.link,t.oldBox,t.box));break;case"setAnnotate":this.history.execute(new Ge(t.node,t.annotate));break;case"deleteAnnotate":if((d=t.node).mindmap.isRead)return;this.history.execute(new Ye(t.node));break;case"changeNodeToFreeRoot":if((d=t.node).mindmap.isRead)return;this.history.execute(new Ke(t.node));break;case"changeFreeRootToNode":if((d=t.node).mindmap.isRead)return;this.history.execute(new Je(t.node,t.parent));break;case"deleteInduce":if((d=t.summary.node).mindmap.isRead)return;this.history.execute(new Ze(t.summary));break;case"deleteWireFrame":if((d=t.wireFrame.node).mindmap.isRead)return;this.history.execute(new We(t.wireFrame,t.wireFrame.node.mindmap));break;case"deleteRelateLink":if((d=t.link.startNode).mindmap.isRead)return;this.history.execute(new $e(t.link));break;case"changeLayout":d=t.node;if("table"==(n=t.direct)||"up"==n){var p=!0;d.mindmap.traverseBF((e=>{e!=d&&"table"==n?(e.callout&&(p=!1),e.layout&&(p=!1),e.wfs&&e.wfs.length&&(p=!1),e.induces&&e.induces.length&&(p=!1)):e!=d&&"up"==n&&e.layout&&(p=!1)}),d),p?this.history.execute(new et(t.node,t.direct)):null===(i=d.mindmap.view)||void 0===i||i.showChangelayoutMessage()}else this.history.execute(new et(t.node,t.direct));break;case"changeSummary":this.history.execute(new tt(t.summary,t.stroke));break;case"changeWireFrame":this.history.execute(new it(t.wireFrame,t.stroke,t.background));break;case"changeLinkStroke":this.history.execute(new nt(t.link,t.stroke));break;case"changeLinkType":this.history.execute(new st(t.link,t.type));break;case"note":d=t.node;var m=t.note;d&&this.history.execute(new rt(d,m));break;case"addFreeNode":this.history.execute(new ot(t.node));break;case"pasteNode":this.history.execute(new at(t.node,t.data,t.summary));break;case"setNodeStyle":this.history.execute(new ht(t.nodes,t.style));break;case"addCallout":this.history.execute(new lt(t.node,t.callout));break;case"removeCallout":this.history.execute(new dt(t.callout));break;case"removeNodeLayout":this.history.execute(new ct(t.node));break;case"changeWireFrameName":this.history.execute(new pt(t.wireFrame,t.text));break;case"setTextCover":this.history.execute(new mt(t.nodes,t.flag))}}undo(){this.history.undo()}redo(){this.history.redo()}}class gt{constructor(e,t="rgba(213,233,252,.1)",i="rgb(42,122,194)",n={text:"",nodeType:"wireFrame"}){this.node=e,this.endNode=e,this.node.clearCacheData(),this.stroke=i,this.fill=t,this.lineDash=[6,2],this.data=n,this.status="",this.shapeType="rect",this.lineWidth=1,this.radius=10,this.node.wireFrame=this,this.mind=this.node.getMind(),this.name="wireFrame",this.isHide=!1,this.rangeNode=[],this.refreshNode(),this.refreshItems(),this.init()}init(){this.direct=this.node.direct,this.beforeCreate(),this.create()}setEndNode(e){this.endNode=e,this.refreshNode(),this.refresh()}refreshNode(){var e=this.node.getShowNodeList();this.endNode&&this.endNode!=this.node&&(e=e.concat(this.endNode.getShowNodeList()));var t=this.node.getMind().getBoundingRect(e);this.topNode=t.topNode,this.bottomNode=t.bottomNode,this.leftNode=t.leftNode,this.rightNode=t.rightNode,this.node.refreshCBox(),this.endNode&&this.endNode.refreshCBox()}beforeCreate(){if(this.group||(this.group=this.mind.wireFrameGroup.group()),this.data.text){if(!this.t)if(this._t)this.t=this._t,this._t=null;else{var e=this.data.nodeData||{id:bs(),text:this.data.text,nodeType:"wireFrame",style:{"padding-left":6,"padding-right":6,"padding-bottom":4,"padding-top":4,"background-color":"rgb(16, 151, 232)",color:"#333",fontSize:12}};this.t=new xe(e,this.mind),this.t.wireFrame=this,this.t.containEl.setAttribute("draggable",!1),this.t.nodeType="wireFrame"}this.t.containEl.classList.contains("node-wireFrame")||this.t.containEl.classList.add("node-wireFrame"),this.mind.contentEL.contains(this.t.containEl)||this.mind.contentEL.appendChild(this.t.containEl),this.t.mindmap=this.mind}else this.t&&(this.mind.contentEL.removeChild(this.t.containEl),this._t=this.t,this.t=null);this.rect||("rect"==this.shapeType?this.rect=this.group.rect().fill(this.fill).stroke(`color:${this.stroke},width:${this.lineWidth},dasharray:${this.lineDash}`).radius(this.radius):this.rect=this.group.polygon().stroke(`color:${this.stroke},width:${this.lineWidth||2},dasharray:${this.lineDash}`)),this.rect.off("click").on("click",(e=>{e.preventDefault(),e.stopPropagation(),this.node.getMind().emit("showWireFrame",{wf:this})}))}getTextBox(){return this.data.text?this.t.getDomBox():{x:0,y:0,width:0,height:0}}move(e,t){e=parseInt(e),t=parseInt(t);var i=this.position.slice();if(this.setPosition(i[0]+e,i[1]+t),this.t){var n=this.t.getPosition();this.t.setPosition(n.x+e,n.y+t)}this.refreshBox()}refreshItems(){var e=this,t=[],i=[],n=[];if(this.rangeNode&&this.rangeNode.length)this.rangeNode.forEach((e=>{n=n.concat(e.getShowNodeList())})),this.node.isHide&&this.endNode.isHide&&this.hide();else{this.rangeNode=[];var s=this.node.parent;if(s){var r=s.children.indexOf(this.node),o=s.children.indexOf(this.endNode);s.children.forEach(((t,i)=>{i>=r&&i<=o&&(e.rangeNode.push(t),n=n.concat(t.getShowNodeList()))})),e.rangeNode=Qi(e.rangeNode)}else e.rangeNode=[this.node],n=n.concat(this.node.getShowNodeList())}n.forEach((e=>{i.push(e),e.containBar=!1,e.isExpand||(e.containBar=!0),e.layout&&e.layout.isShow&&e.layout.group&&t.push(e.layout),e.callout&&e.callout.isShow&&i.push(e.callout),e.layout&&e.layout.isShow&&e.layout.group&&t.push(e.layout),e.wireFrames.length&&e.wireFrames.forEach((e=>{e.isHide||i.push(e)})),e.summaries.length&&e.summaries.forEach((e=>{e.isShow()&&(i=i.concat(e.getAllItem()))}))}));var a=this.node.mindmap.wireFrames,h=[];a.forEach((e=>{e&&e!=this&&e.node.parent==this.node.parent&&h.push(e)}));var l=[],d=this.node.parent;if(d){var c=d.children.indexOf(this.node);if(this.endNode)var u=d.children.indexOf(this.endNode);else u=c;Qi(h).forEach((e=>{if(e){var t=d.children.indexOf(e.node);if(e.endNode)var i=d.children.indexOf(e.endNode);else i=t;if(t==c&&i==u)return;t>=c&&i<=u&&l.push(e)}}))}this.items=Qi(i.concat(l)),this._wfs=l,this.groups=Qi(t)}create(){if(this.group)if(this.node.isShow()&&this.endNode.isShow()&&!this.isShow){this.show();var e=this.items,t=this.groups,i=this.mind.getBoundingRect(e);if(t.length&&t.forEach((e=>{if("fish"==e.layoutName&&("right"==e.direct?e.creatBone():e.creatBone1(),e.fishTail)){var t=e.fishTail.bbox();t.x<i.x&&(i.x=t.x),t.y<i.y&&(i.y=t.y),t.x+t.width>i.right&&(i.right=t.x+t.width),t.y+t.height>i.bottom&&(i.bottom=t.y+t.height),i.width=i.right-i.x,i.height=i.bottom-i.y}})),i){var n=parseInt(i.width+12),s=parseInt(i.height+12);if("rect"==this.shapeType)this.rect.attr({width:n,height:s,fill:this.fill,cursor:"pointer"}).stroke({color:this.stroke,width:this.lineWidth,dasharray:this.lineDash}).radius(this.radius).move(0,0);else{var r=this.node.getBox(),o=this.node.getPosition(),a=[0,Math.abs(o.y-i.y-6)],h=[0,Math.abs(i.y-o.y-r.height-6)],l=[r.width,0],d=[r.width,i.height+12],c=[i.width+12,0],u=[i.width+12,i.height+12];this.rect.plot([a,l,c,u,d,h]).attr({fill:this.fill,stroke:this.stroke,dasharray:this.lineDash,cursor:"pointer"}).move(0,0)}this.position=[];var p=0;if(this.lineWidth%2==1&&(p=.5),this.setPosition(parseInt(i.x-6)+p,parseInt(i.y-6)+p),this.t)if("rect"==this.shapeType){this.t.isShow()||this.t.show();var m=this.t.getDomBox();this.textBox=m,this.t.setPosition(i.x,i.y-m.height-5-this.lineWidth),this.t.containEl.style.maxWidth=i.width-30+"px"}else this.t.isShow()&&this.t.hide();this.refreshBox()}}else this.hide()}refresh(){this.init()}setPosition(e,t){this.group&&(e||t)&&(this.position=[e,t],this.group.attr({transform:`translate(${e},${t})`}))}getPosition(){return{x:this.position.slice()[0],y:this.position.slice()[1]}}show(){this.group.show(),this.t&&this.t.show(),this.isHide=!1}hide(){this.group.hide(),this.t&&this.t.hide(),this.isHide=!0}remove(){this.group&&this.group.clear()&&this.group.remove(),this.rect&&this.rect.remove(),this.t&&this.mind.contentEL.removeChild(this.t.containEl),this.rect=null,this.t=null,this.group=null}off(){this.rect.off()}active(){this.status="active",this.rect.setStyle("stroke","orange")}unactive(){this.status="unactive",this.rect.setStyle("stroke",this.stroke)}isactive(){return"active"==this.status}getData(){var e=this.node.parent,t=0,i=0;e&&(t=e.children.indexOf(this.node),i=e.children.indexOf(this.endNode));var n={stroke:this.stroke,fill:this.fill,lineDash:this.lineDash.slice(),data:{...this.data},radius:this.radius,lineWidth:this.lineWidth,nodeId:this.node.getId(),endNodeId:this.endNode.getId(),range:`${t},${i}`};if(this.t){var s=this.t.getData();n.nodeData=s,n.text=s.text}return n}setData(e){this.stroke=e.stroke,this.fill=e.fill,this.lineDash=e.lineDash,this.data=e.data,this.lineWidth=e.lineWidth,this.radius=e.radius,this.refresh()}setGroupName(e){this.data.text=e,this.t&&e&&this.t.setText(e),this.refresh()}getGroupName(){return this.t&&this.t.getData().text||""}refreshBox(){var e=this.rect.bbox();this.box={...e,x:this.position[0],y:this.position[1]}}getBox(){return this.box}getBBox(){if(this.t){var e={...this.getBox()},t=this.t.getDomBox(),i=this.t.getPosition();e.y=i.y,e.height=e.height+t.height}else e=this.getBox();return e}}const vt=function(e,t){return[e[0]+t[0],e[1]+t[1]]},yt=function(e,t){return[e[0]*t,e[1]*t]},At=function(e,t){return e[0]*t[1]-e[1]*t[0]==0},xt=function(e,t){return e[0]*t[0]+e[1]*t[1]},bt=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]};function wt(e,t){return e.find((e=>e!=t))}function kt(e){return(0!=e[0]||0!=e[1])&&(0==e[0]?[0,e[1]/Math.abs(e[1])]:0==e[1]?[e[0]/Math.abs(e[0]),0]:bt(e))}function Ct(e){var t=function(e){for(var t=0,i=0;i<e.length-1;i++)t+=Et(e[i],e[i+1]);return t}(e),i=function(e,t){var i,n=t/2,s=0,r=0;for(i=0;i<e.length-1&&(r=Et(e[i],e[i+1]))+s<n;i++)s+=r;return[(e[i][0]+e[i+1][0])/2,(e[i][1]+e[i+1][1])/2]}(e,t);return i}function Et(e,t){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)}class Dt{constructor(e,t){var i={color:"#f06",width:2,nodeData:{id:bs(),text:"label",nodeType:"relateLink",backgroundColor:"#f06"},type:"bs",dashArray:[0],nodeHide:!1,startMarker:"circle",endMarker:"arrow"};this.startNode=e,this.mind=this.startNode.getMind(),this.data={...i,...t||{}},this.group=this.startNode.getMind().draw.group(),this.draw=this.startNode.getMind().draw,this.box={x:0,y:0,x1:0,y1:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,startDirect:"",startDx:0,startDy:0,endDirect:"",endDx:0,endDy:0},this.entryExt=20,this.exitExt=20,this.entryDirection=[0,1],this.exitDirection=[0,1],t&&t.entryDirection&&(this.entryDirection=t.entryDirection),t&&t.exitDirection&&(this.exitDirection=t.exitDirection),this.isAdd=!0,this.name="relateLink",this.actived=!0,this.isShow=!0,this.status="add",this.create(),this.calcLimit(),this.setStartPoint(),this._addEvent(),this.active(),this.added=!0}_createLine(){"bs"==this.data.type?this.bs=this.group.path():"line"==this.data.type?this.bs=this.group.line():this.bs=this.group.polyline()}create(){this.textNode=new xe(this.data.nodeData,this.mind),this.textNode.containEl.classList.add("node-relate"),this.textNode.relateLink=this,this.textNode.containEl.setAttribute("draggable",!1),this.textNode.nodeType="relateLink",this.line1=this.group.line().stroke({color:"#666",width:1,linecap:"round",linejoin:"round"}).hide(),this.line2=this.group.line().stroke({color:"#666",width:1,linecap:"round",linejoin:"round"}).hide(),this._createLine(),this.bs.stroke({cursor:"pointer",color:this.data.color,width:this.data.width,dasharray:this.data.dashArray,linecap:"round",linejoin:"round"}).fill("none"),this.createMarker(),this.corl1=document.createElement("div"),this.corl1.className="relate-ctrl",this.corl1.style=`cursor:move;position:absolute;z-index:1000;width:10px;height:10px;border-radius:50%;background:${this.data.color}`,this.corl2=document.createElement("div"),this.corl2.className="relate-ctrl",this.corl2.style=`cursor:move;position:absolute;z-index:1000;width:10px;height:10px;border-radius:50%;background:${this.data.color}`,this.corl1.setAttribute("nochilddrag",!0),this.corl1.setAttribute("direct","start"),this.corl2.setAttribute("nochilddrag",!0),this.corl2.setAttribute("direct","end"),this.mind.contentEL.appendChild(this.corl1),this.mind.contentEL.appendChild(this.corl2),this.mind.contentEL.appendChild(this.textNode.containEl)}createMarker(){var e=this;this.startMarker&&this.startMarker.remove(),this.endMarker&&this.endMarker.remove(),"circle"==this.data.startMarker?this.startMarker=this.draw.marker(8,8,(function(t){t.circle(4).center(4,4).fill(`${e.data.color}`)})):"rect"==this.data.startMarker?this.startMarker=this.draw.marker(4,4,(function(t){t.rect(4,4).fill(`${e.data.color}`)})):"line"==this.data.startMarker?this.startMarker=this.draw.marker(2,6,(function(t){t.rect(1,6).fill(`${e.data.color}`)})):"arrow"==this.data.startMarker?this.startMarker=this.draw.marker(5,4,(function(t){t.polygon("0,0,5,2,0,4"),this.fill(`${e.data.color}`)})):"arrow1"==this.data.startMarker?this.startMarker=this.draw.marker(5,4,(function(t){t.polygon("5,0,0,2,5,4"),this.fill(`${e.data.color}`)})):this.startMarker&&(this.startMarker.remove(),this.startMarker=null),this.startMarker&&this.bs.marker("start",this.startMarker),"circle"==this.data.endMarker?this.endMarker=this.draw.marker(8,8,(function(t){t.circle(4).center(4,4).fill(`${e.data.color}`)})):"rect"==this.data.endMarker?this.endMarker=this.draw.marker(4,4,(function(t){t.rect(4,4).fill(`${e.data.color}`)})):"line"==this.data.endMarker?this.endMarker=this.draw.marker(2,6,(function(t){t.rect(1,6).fill(`${e.data.color}`)})):"arrow"==this.data.endMarker?this.endMarker=this.draw.marker(5,4,(function(t){t.polygon("0,0,5,2,0,4"),this.fill(`${e.data.color}`)})):"arrow1"==this.data.endMarker?this.endMarker=this.draw.marker(5,4,(function(t){t.polygon("5,0,0,2,5,4"),this.fill(`${e.data.color}`)})):this.endMarker&&(this.endMarker.remove(),this.endMarker=null),this.endMarker&&this.bs.marker("end",this.endMarker)}remove(){this.group.remove(),this.mind.contentEL.contains(this.corl1)&&this.mind.contentEL.removeChild(this.corl1),this.mind.contentEL.contains(this.corl2)&&this.mind.contentEL.removeChild(this.corl2),this.mind.contentEL.contains(this.textNode.containEl)&&this.mind.contentEL.removeChild(this.textNode.containEl)}off(){this.mind.isMobile?this.mind.draw.off("touchend",this.drawFunc2):(this.mind.draw.off("mouseup",this.drawFunc2),this.mind.draw.off("mousemove",this.drawFunc1))}offEvent(){this.corl1.removeEventListener("mousedown",this.func),this.corl2.removeEventListener("mousedown",this.func),this.corl1.removeEventListener("click",this.clickFn),this.corl2.removeEventListener("click",this.clickFn),this.mind.isMobile&&(this.corl1.removeEventListener("touchstart",this.func),this.corl2.removeEventListener("touchstart",this.func)),this.off()}calcLimit(){var e=this.startNode.getBox();if(this.startBox=e,this.startLimit={x:e.x-6,y:e.y-6,x1:e.x+e.width+6,y1:e.y+e.height+6,cx:e.width/2+e.x,cy:e.height/2+e.y},this.endNode){e=this.endNode.getBox();this.endBox=e,this.endLimit={x:e.x-6,y:e.y-6,x1:e.x+e.width+6,y1:e.y+e.height+6,cx:e.width/2+e.x,cy:e.height/2+e.y}}}active(){this.actived=!0,this.corl1.style.display="block",this.corl2.style.display="block",this.line1.show(),this.line2.show(),this.addEvent()}unactive(){this.actived=!1,this.corl1.style.display="none",this.corl2.style.display="none",this.line1.hide(),this.line2.hide(),this.offEvent()}hide(){this.unactive(),this.isShow=!1,this.textNode&&this.textNode.hide(),this.group.hide()}show(){this.isShow=!0,this.group.show()}calcDirect(){var e={x:this.startLimit.cx,y:this.startLimit.cy},t={x:this.endLimit.cx,y:this.endLimit.cy};switch(this.calcPos(e,t)){case"lefttop":case"righttop":this.box.x=e.x,this.box.y=this.startLimit.y;break;case"leftbottom":case"rightbotom":this.box.x=e.x,this.box.y=this.startLimit.y1}this.calcPoint(),this.clacDD(),this.refresh()}clacDD(){this.startBox=this.startNode.getBox(),this.endBox=this.endNode.getBox(),this.data.startDirect=this.calcStroke({x:this.box.x,y:this.box.y},this.startBox),this.data.endDirect=this.calcStroke({x:this.box.x1,y:this.box.y1},this.endBox),this.data.startDx=(this.box.x-this.startBox.x)/this.startBox.width,this.data.startDy=(this.box.y-this.startBox.y)/this.startBox.height,this.data.endDx=(this.box.x1-this.endBox.x)/this.endBox.width,this.data.endDy=(this.box.y1-this.endBox.y)/this.endBox.height,this.data.gapsx=this.box.cpx1-this.startBox.x,this.data.gapsy=this.box.cpy1-this.startBox.y,this.data.gapex=this.box.cpx2-this.endBox.x,this.data.gapey=this.box.cpy2-this.endBox.y}calcPoint(){var e=this.box.x1-this.box.x,t=this.box.y1-this.box.y;this.box.cpx1=this.box.x+e/6,this.box.cpy1=this.box.y+t/6,this.box.cpx2=this.box.x+e/6*5,this.box.cpy2=this.box.y+t/6*5}calcStroke(e,t){var i="";return Math.abs(e.x-t.x+4)<=2&&(i+="left"),Math.abs(e.x-t.x-t.width-4)<=2&&(i+="right"),Math.abs(e.y-t.y+4)<=2&&(i+="top"),Math.abs(e.y-t.y-t.height-4)<=2&&(i+="bottom"),i}_update(){this.startNode&&(this.startBox=this.startNode.getBox()),this.endNode&&(this.endBox=this.endNode.getBox()),this.box.x=this.startBox.x+this.data.startDx*this.startBox.width,this.box.y=this.startBox.y+this.data.startDy*this.startBox.height,this.box.x1=this.endBox.x+this.data.endDx*this.endBox.width,this.box.y1=this.endBox.y+this.data.endDy*this.endBox.height,this.box.cpx1=this.startBox.x+this.data.gapsx,this.box.cpy1=this.startBox.y+this.data.gapsy,this.box.cpx2=this.endBox.x+this.data.gapex,this.box.cpy2=this.endBox.y+this.data.gapey}refresh(e){if(this.startNode&&this.endNode){if(!this.startNode.isShow()||!this.endNode.isShow())return void this.hide();this.show()}if(this.data.nodeHide?this.textNode.hide():this.textNode.show(),e&&this._update(),"line"==this.data.type){this.bs.plot(this.box.x,this.box.y,this.box.x1,this.box.y1);var t={x:(this.box.x+this.box.x1)/2,y:(this.box.y+this.box.y1)/2},i=this.textNode.getDomBox();this.textNode.setPosition(t.x-i.width/2,t.y-i.height/2)}else if("bs"==this.data.type){var n=`M${this.box.x} ${this.box.y}  C ${this.box.cpx1} ${this.box.cpy1}, ${this.box.cpx2} ${this.box.cpy2}, ${this.box.x1} ${this.box.y1}`;this.bs.plot(n);var s=this.bs.length();t=this.bs.pointAt(s/2),i=this.textNode.getDomBox();this.textNode.setPosition(t.x-i.width/2,t.y-i.height/2)}else{var r=function({entryPoint:e=[0,0],entryDirection:t=[0,1],entryExt:i=10,exitPoint:n=[10,10],exitDirection:s=[1,0],exitExt:r=10},o=.5){if(null===s||"0,0"==s.join()){let t=(a=n,[(h=e)[0]-a[0],h[1]-a[1]]);s=Math.abs(t[0])>Math.abs(t[1])?[t[0]/Math.abs(t[0]),0]:[0,t[1]/Math.abs(t[1])]}var a,h;let l=vt(e,yt(t,i)),d=vt(n,yt(s,r));s=yt(s,-1);let c,u,p=[[d[0]-l[0],0],[0,d[1]-l[1]]],m=p.find((e=>At(e,t)));c=xt(m,t)>0?m:wt(p,m);let f=p.find((e=>At(e,s)));u=xt(f,s)>0?f:wt(p,f);let g=xt(c,u)>0?2:1,v=wt(p,u),y=[];if(y.push({position:e,direction:null},{position:l,direction:t}),1==g){let e=vt(l,c),t=kt(c),i=vt(e,u),n=kt(u);y.push({position:e,direction:t},{position:i,direction:n})}else{let e=vt(l,yt(c,o)),t=kt(c),i=vt(e,v),n=kt(v),s=vt(i,yt(u,1-o)),r=kt(u);y.push({position:e,direction:t},{position:i,direction:n,type:"pathMiddleP"},{position:s,direction:r})}return y.push({position:n,direction:s}),y.filter((e=>!1!==e.direction))}({entryPoint:[this.box.x,this.box.y],exitPoint:[this.box.x1,this.box.y1],entryDirection:this.entryDirection,exitDirection:this.exitDirection,entryExt:this.entryExt,exitExt:this.exitExt}),o=[];r.forEach((e=>{o.push(e.position)})),this.data.width%2==1?o.forEach((e=>{e[0]=parseInt(e[0])+.5,e[1]=parseInt(e[1])+.5})):o.forEach((e=>{e[0]=parseInt(e[0]),e[1]=parseInt(e[1])}));var a=Ct(o);i=this.textNode.getDomBox();this.textNode.setPosition(a[0]-i.width/2,a[1]-i.height/2),this.bs.plot(o)}this.bs.stroke({color:this.data.color,width:this.data.width,dasharray:this.data.dashArray,linecap:"round",linejoin:"round"}).fill("none"),this.createMarker(),this.bs.attr("cursor","pointer"),this.corl1.style.left=this.box.cpx1-5+"px",this.corl1.style.top=this.box.cpy1-5+"px",this.corl2.style.left=this.box.cpx2-5+"px",this.corl2.style.top=this.box.cpy2-5+"px",this.line1.plot(this.box.x,this.box.y,this.box.cpx1,this.box.cpy1),this.line2.plot(this.box.x1,this.box.y1,this.box.cpx2,this.box.cpy2)}select(){this.isSelect=!0}unSelect(){this.isSelect=!1}calcPos(e,t){return t.x<=e.x&&t.y<=e.y?"lefttop":t.x<=e.x&&t.y>e.y?"leftbottom":t.x>e.x&&t.y<=e.y?"righttop":"rightbotom"}move(e,t){this.box.x1=e,this.box.y1=t,this.calcPoint(),this.refresh()}setEndNode(e){this.endNode=e,this.calcLimit(),this.calcDirect()}setStartPoint(e,t){if(e&&t)this.box.x=e,this.box.y=t;else{var i=this.startNode.getBox();this.box.x=i.x+i.width/2,this.box.y=i.y+i.height/2}}setEndPoint(e,t){this.box.x1=e,this.box.y1=t}setBox(e){this.box=e,this.refresh()}getData(){this.data.nodeData=this.textNode.getData();var e={startNodeId:this.startNode.getId(),endNodeId:this.endNode.getId(),...this.data,box:{...this.box}};return e.entryDirection=this.entryDirection,e.exitDirection=this.exitDirection,e.box&&e.box.data&&delete e.box.data,e}_mouseDown(e){e.preventDefault(),e.stopPropagation(),this.func1&&(this.mind.isMobile?document.removeEventListener("touchmove",this.func1,!1):document.removeEventListener("mousemove",this.func1)),this.func2&&(this.mind.isMobile?document.removeEventListener("touchend",this.func2):document.removeEventListener("mouseup",this.func2)),this.mind=this.startNode.getMind(),this.mind.isMobile?(this.sx=e.touches[0].pageX,this.sy=e.touches[0].pageY,this.pageX=e.touches[0].pageX,this.pageY=e.touches[0].pageY):(this.sx=e.pageX,this.sy=e.pageY,this.pageX=e.pageX,this.pageY=e.pageY),this.dx=0,this.dy=0,this.drag=!0,this.status="changeRelate",this.target=e.target,this.oldBox=JSON.parse(JSON.stringify({...this.box}));var t=JSON.parse(JSON.stringify(this.data));this.oldBox.data=t,this.func1=this._mouseMove.bind(this),this.func2=this._mouseUp.bind(this),this.mind.isMobile?(document.addEventListener("touchmove",this.func1,!1),document.addEventListener("touchend",this.func2)):(document.addEventListener("mousemove",this.func1),document.addEventListener("mouseup",this.func2))}_mouseUp(){this.drag=!1,this.sx=0,this.sy=0,this.dx=0,this.dy=0,this.mind=this.startNode.getMind();var e=JSON.parse(JSON.stringify({...this.box})),t=JSON.parse(JSON.stringify(this.data));e.data=t,this.mind.execute("changeRelateLink",{link:this,oldBox:this.oldBox,box:e,type:"changeRelateLinkBox"}),this.target=null,this.mind.isMobile?(document.removeEventListener("touchmove",this.func1,!1),document.removeEventListener("touchend",this.func2)):(document.removeEventListener("mousemove",this.func1),document.removeEventListener("mouseup",this.func2))}_mouseMove(e){if("addRelate"==this.status)this.mind.isMobile||this.move(e.offsetX-8,e.offsetY);else{if(!this.drag)return;if(this.target){if(e.preventDefault(),e.stopPropagation(),this.mind.isMobile)var t=e.touches[0].pageX,i=e.touches[0].pageY;else t=e.pageX,i=e.pageY;var n=t-this.pageX,s=i-this.pageY;this.dx=t-this.sx,this.dy=i-this.sy,this.pageX=t,this.pageY=i;var r=this.target.getAttribute("direct");if(this.calcLimit(),"start"==r){this.box.cpx1=this.oldBox.cpx1+this.dx,this.box.cpy1=this.oldBox.cpy1+this.dy;var o=this.calcStroke({x:this.box.x,y:this.box.y},this.startBox);if(this.startBox.width>400)var a=1.2;else if(this.startBox.width>200)a=1.5;else a=2;switch(o){case"left":this.entryDirection=[-1,0],this.box.y>=this.startLimit.y&&this.box.y<=this.startLimit.y1?this.box.y+=s/a:(this.box.y<this.startLimit.y&&(this.box.y=this.startLimit.y),this.box.y>this.startLimit.y1&&(this.box.y=this.startLimit.y1));break;case"right":this.entryDirection=[1,0],this.box.y>=this.startLimit.y&&this.box.y<=this.startLimit.y1?this.box.y+=s/a:(this.box.y<this.startLimit.y&&(this.box.y=this.startLimit.y),this.box.y>this.startLimit.y1&&(this.box.y=this.startLimit.y1));break;case"top":this.entryDirection=[0,-1],this.box.x>=this.startLimit.x&&this.box.x<=this.startLimit.x1?this.box.x+=n/a:(this.box.x<this.startLimit.x&&(this.box.x=this.startLimit.x),this.box.x>this.startLimit.x1&&(this.box.x=this.startLimit.x1));break;case"bottom":this.entryDirection=[0,1],this.box.x>=this.startLimit.x&&this.box.x<=this.startLimit.x1?this.box.x+=n/a:(this.box.x<this.startLimit.x&&(this.box.x=this.startLimit.x),this.box.x>this.startLimit.x1&&(this.box.x=this.startLimit.x1));break;default:this.box.x>=this.startLimit.x&&this.box.x<=this.startLimit.x1?this.box.x+=n/a:(this.box.x<this.startLimit.x&&(this.box.x=this.startLimit.x),this.box.x>this.startLimit.x1&&(this.box.x=this.startLimit.x1)),this.box.y>=this.startLimit.y&&this.box.y<=this.startLimit.y1?this.box.y+=s/a:(this.box.y<this.startLimit.y&&(this.box.y=this.startLimit.y),this.box.y>this.startLimit.y1&&(this.box.y=this.startLimit.y1))}}else{switch(this.box.cpx2=this.oldBox.cpx2+this.dx,this.box.cpy2=this.oldBox.cpy2+this.dy,o=this.calcStroke({x:this.box.x1,y:this.box.y1},this.endBox)){case"left":this.exitDirection=[-1,0],this.box.y1>=this.endLimit.y&&this.box.y1<=this.endLimit.y1?this.box.y1+=s/3:(this.box.y1<this.endLimit.y&&(this.box.y1=this.endLimit.y),this.box.y1>this.endLimit.y1&&(this.box.y1=this.endLimit.y1));break;case"right":this.exitDirection=[1,0],this.box.y1>=this.endLimit.y&&this.box.y1<=this.endLimit.y1?this.box.y1+=s/3:(this.box.y1<this.endLimit.y&&(this.box.y1=this.endLimit.y),this.box.y1>this.endLimit.y1&&(this.box.y1=this.endLimit.y1));break;case"top":this.exitDirection=[0,-1],this.box.x1>=this.endLimit.x&&this.box.x1<=this.endLimit.x1?this.box.x1+=n/3:(this.box.x1<this.endLimit.x&&(this.box.x1=this.endLimit.x),this.box.x1>this.endLimit.x1&&(this.box.x1=this.endLimit.x1));break;case"bottom":this.exitDirection=[0,1],this.box.x1>=this.endLimit.x&&this.box.x1<=this.endLimit.x1?this.box.x1+=n/3:(this.box.x1<this.endLimit.x&&(this.box.x1=this.endLimit.x),this.box.x1>this.endLimit.x1&&(this.box.x1=this.endLimit.x1));break;default:this.box.x1>=this.endLimit.x&&this.box.x1<=this.endLimit.x1?this.box.x1+=n/3:(this.box.x1<this.endLimit.x&&(this.box.x1=this.endLimit.x),this.box.x1>this.endLimit.x1&&(this.box.x1=this.endLimit.x1)),this.box.y1>=this.endLimit.y&&this.box.y1<=this.endLimit.y1?this.box.y1+=s/3:(this.box.y1<this.endLimit.y&&(this.box.y1=this.endLimit.y),this.box.y1>this.endLimit.y1&&(this.box.y1=this.endLimit.y1))}}this.clacDD(),this.refresh()}}}_clickFn(e){e.preventDefault(),e.stopPropagation()}_addEvent(){this.drawFunc1=this._mouseMove.bind(this),this.drawFunc2=this._mouseUp.bind(this),this.mind.isMobile?this.mind.draw.on("touchend",this.drawFunc2):(this.mind.draw.on("mousemove",this.drawFunc1),this.mind.draw.on("mouseup",this.drawFunc2)),this._addLineEvent()}_addLineEvent(){this.bs.off("click"),this.bs.off("dblclick");var e=this;this.bs.dblclick((()=>{this.textNode.data.text||this.textNode.data.isImageNode||(this.data.nodeHide=!1,this.startNode.mindmap.clearSelectNode(),this.startNode.mindmap.updateRelateLink(),this.textNode.edit())})),this.bs.click((t=>{t.preventDefault(),t.stopPropagation();var i=t.offsetX,n=t.offsetY;e.active(),e.mind._changeAssistItem=e,e.mind.emit("showRelateLink",{x:i,y:n,relateLink:e})}))}addEvent(){this.func=this._mouseDown.bind(this),this.clickFn=this._clickFn.bind(this),this.mind.isMobile?(this.corl1.addEventListener("touchstart",this.func),this.corl2.addEventListener("touchstart",this.func)):(this.corl1.addEventListener("mousedown",this.func),this.corl2.addEventListener("mousedown",this.func)),this.corl1.addEventListener("click",this.clickFn),this.corl2.addEventListener("click",this.clickFn)}}class Nt{constructor(e,t={id:bs(),text:"callout",nodeType:"callout",style:{"background-color":"#f06",color:"#fff","font-size":"12px"}}){this.node=e,this.data=t,t.style?this.color=t.style["background-color"]||"#f06":this.color="#f06",this.root=new xe(t,this.node.getMind()),this.root.nodeType="callout",this.group=this.node.getMind().calloutGroup,this.node.getMind().contentEL.appendChild(this.root.containEl),this.root.mind=this.node.getMind(),this.root.refreshBox(),this.node.clearCacheData(),this.node.callout=this,this.root.callout=this,this.direct=this.data.direct||"top",this.name="callout",this.init()}init(){this.calcLimit(),this.create(),this.initEvent()}off(){e.Platform.isDesktopApp?this.root.containEl.removeEventListener("mousedown",this._mouseDown):e.Platform.isMobileApp&&this.root.containEl.removeEventListener("touchstart",this._mouseDown)}remove(){this.polygon&&this.polygon.remove(),this.polygon=null}move(e,t){this.point={x:this.point.x+e,y:this.point.y+t},this.root.move(e,t),this.refresh()}calcLimit(){var e=this.node.getBox();this.limit={x:e.x,y:e.y,width:e.width,height:e.height,cx:e.x+e.width/2,cy:e.y+e.height/2,x1:e.x+e.width,y1:e.y+e.height}}beforeCreate(){!this.polygon&&(this.polygon=this.group.polygon().fill(this.color)),this.root.containEl.setAttribute("draggable",!1),this.root.containEl.classList.add("mm-node-callout")}create(){if(this.beforeCreate(),this.data.x&&this.data.y)this.root.setPosition(this.data.x,this.data.y),this.data.box&&(this.box=this.data.box);else{var e=this.root.getBox();this.root.setPosition(this.limit.x+this.limit.width/2-e.width/2,this.limit.y-e.height-10)}if(this.data.point?this.point=this.data.point:this.point={x:this.limit.cx,y:this.limit.y},!this.box){var t=this.root.getPosition();this.box={dx:(t.x-this.limit.x)/this.limit.width,dy:(t.y-this.limit.y)/this.limit.height,px:(this.point.x-this.limit.x)/this.limit.width,py:(this.point.y-this.limit.y)/this.limit.height}}this.refresh(!0)}refresh(e){if(this.polygon)if(this.node.isShow()){this.show(),this.calcLimit(),e||(this.point.x=this.box.px*this.limit.width+this.limit.x,this.point.y=this.box.py*this.limit.height+this.limit.y,this.root.setPosition(this.box.dx*this.limit.width+this.limit.x,this.box.dy*this.limit.height+this.limit.y));var t=this.root.getBox(),i=t.x+t.width/2,n=t.y+t.height/2;(this.point.x||this.point.y)&&("top"==this.direct||"bottom"==this.direct?this.polygon.plot(`${this.point.x},${this.point.y} ${i-8},${n} ${i+8},${n}`).fill(this.color):this.polygon.plot(`${this.point.x},${this.point.y} ${i},${n-8} ${i},${n+8}`).fill(this.color))}else this.hide()}hide(){this.isShow=!1,this.root.hide(),this.polygon.hide()}show(){this.isShow=!0,this.root.show(),this.polygon.show()}getData(){var e=this.root.getData();return e.point=this.point,e.box=this.box,{nodeId:this.node.getId(),rootData:e,color:this.color,direct:this.direct}}setData(e){this.color=e.color}getBox(){var e=this.polygon.bbox(),t=this.root.getBox(),i=Math.min(e.x,t.x),n=Math.min(e.y,t.y),s=Math.max(e.x2,t.x+t.width),r=Math.max(e.y2,t.y+t.height);return{x:i,y:n,x1:s,y1:r,width:s-i,height:r-n}}initEvent(){var t,i,n,s,r,o,a,h=!1;this._mouseDown=function(n){if(!this.root.isEdit){h=!0,e.Platform.isDesktopApp?(t=n.pageX,i=n.pageY,this.px=n.pageX,this.py=n.pageY):(t=n.touches[0].pageX,i=n.touches[0].pageY,this.px=t,this.py=i),a=this.root.getPosition();var s={...this.box};a.direct=this.direct,a.box=s,e.Platform.isDesktopApp?(document.addEventListener("mousemove",this._mouseMove),document.addEventListener("mouseup",this._mouseUp)):(document.addEventListener("touchmove",this._mouseMove,{passive:!1}),document.addEventListener("touchend",this._mouseUp))}}.bind(this),e.Platform.isDesktopApp?this.root.containEl.addEventListener("mousedown",this._mouseDown):this.root.containEl.addEventListener("touchstart",this._mouseDown),this._mouseMove=function(e){h&&(e.touches?(e.preventDefault(),r=e.touches[0].pageX-this.px,o=e.touches[0].pageY-this.py,n=e.touches[0].pageX-t,s=e.touches[0].pageY-i):(r=e.pageX-this.px,o=e.pageY-this.py,n=e.pageX-t,s=e.pageY-i),this.point.x<=this.limit.x||this.point.x>=this.limit.x1?this.point.y+=o/4:this.point.x+=r/4,this.point.y<=this.limit.y||this.point.y>=this.limit.y1?this.point.x+=r/4:this.point.y+=o/4,this.point.x<=this.limit.x&&(this.point.x=this.limit.x,this.direct="left"),this.point.x>=this.limit.x1&&(this.point.x=this.limit.x1,this.direct="right"),this.point.y<=this.limit.y&&(this.point.y=this.limit.y,this.direct="top"),this.point.y>=this.limit.y1&&(this.point.y=this.limit.y1,this.direct="bottom"),this.root.setPosition(a.x+n,a.y+s),this.box={dx:(a.x+n-this.limit.x)/this.limit.width,dy:(a.y+s-this.limit.y)/this.limit.height,px:(this.point.x-this.limit.x)/this.limit.width,py:(this.point.y-this.limit.y)/this.limit.height},this.refresh(!0),e.touches?(this.px=e.touches[0].pageX,this.py=e.touches[0].pageY):(this.px=e.pageX,this.py=e.pageY))}.bind(this),this._mouseUp=function(t){h=!1,this.node.clearCacheData(),this.refresh(),this.node.refreshCBox();var i=this.root.getPosition();i.box={...this.box},i.direct=this.direct,this.node.getMind().execute("movePosition",{node:this.root,oldPos:a,newPos:i}),e.Platform.isDesktopApp?(document.removeEventListener("mousemove",this._mouseMove),document.removeEventListener("mouseup",this._mouseUp)):(document.removeEventListener("touchmove",this._mouseMove,{passive:!1}),document.removeEventListener("touchend",this._mouseUp))}.bind(this)}}function It(e){return Array.isArray?Array.isArray(e):"[object Array]"===_t(e)}const St=1/0;function Bt(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-St?"-0":t}(e)}function Mt(e){return"string"==typeof e}function Tt(e){return"number"==typeof e}function Lt(e){return!0===e||!1===e||function(e){return Pt(e)&&null!==e}(e)&&"[object Boolean]"==_t(e)}function Pt(e){return"object"==typeof e}function Ot(e){return null!=e}function Rt(e){return!e.trim().length}function _t(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Ft=e=>`Missing ${e} property in key`,zt=e=>`Property 'weight' in key '${e}' must be a positive integer`,Qt=Object.prototype.hasOwnProperty;class Ht{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let i=jt(e);t+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function jt(e){let t=null,i=null,n=null,s=1,r=null;if(Mt(e)||It(e))n=e,t=qt(e),i=Wt(e);else{if(!Qt.call(e,"name"))throw new Error(Ft("name"));const o=e.name;if(n=o,Qt.call(e,"weight")&&(s=e.weight,s<=0))throw new Error(zt(o));t=qt(o),i=Wt(o),r=e.getFn}return{path:t,id:i,weight:s,src:n,getFn:r}}function qt(e){return It(e)?e:e.split(".")}function Wt(e){return It(e)?e.join("."):e}const Vt={useExtendedSearch:!1,getFn:function(e,t){let i=[],n=!1;const s=(e,t,r)=>{if(Ot(e))if(t[r]){const o=e[t[r]];if(!Ot(o))return;if(r===t.length-1&&(Mt(o)||Tt(o)||Lt(o)))i.push(Bt(o));else if(It(o)){n=!0;for(let e=0,i=o.length;e<i;e+=1)s(o[e],t,r+1)}else t.length&&s(o,t,r+1)}else i.push(e)};return s(e,Mt(t)?t.split("."):t,0),n?i:i[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ut={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...Vt};const Xt=/[^ ]+/g;class Gt{constructor({getFn:e=Ut.getFn,fieldNormWeight:t=Ut.fieldNormWeight}={}){this.norm=function(e=1,t=3){const i=new Map,n=Math.pow(10,t);return{get(t){const s=t.match(Xt).length;if(i.has(s))return i.get(s);const r=1/Math.pow(s,.5*e),o=parseFloat(Math.round(r*n)/n);return i.set(s,o),o},clear(){i.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,Mt(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();Mt(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,i=this.size();t<i;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Ot(e)||Rt(e))return;let i={v:e,i:t,n:this.norm.get(e)};this.records.push(i)}_addObject(e,t){let i={i:t,$:{}};this.keys.forEach(((t,n)=>{let s=t.getFn?t.getFn(e):this.getFn(e,t.path);if(Ot(s))if(It(s)){let e=[];const t=[{nestedArrIndex:-1,value:s}];for(;t.length;){const{nestedArrIndex:i,value:n}=t.pop();if(Ot(n))if(Mt(n)&&!Rt(n)){let t={v:n,i:i,n:this.norm.get(n)};e.push(t)}else It(n)&&n.forEach(((e,i)=>{t.push({nestedArrIndex:i,value:e})}))}i.$[n]=e}else if(Mt(s)&&!Rt(s)){let e={v:s,n:this.norm.get(s)};i.$[n]=e}})),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function Yt(e,t,{getFn:i=Ut.getFn,fieldNormWeight:n=Ut.fieldNormWeight}={}){const s=new Gt({getFn:i,fieldNormWeight:n});return s.setKeys(e.map(jt)),s.setSources(t),s.create(),s}function Kt(e,{errors:t=0,currentLocation:i=0,expectedLocation:n=0,distance:s=Ut.distance,ignoreLocation:r=Ut.ignoreLocation}={}){const o=t/e.length;if(r)return o;const a=Math.abs(n-i);return s?o+a/s:a?1:o}const Jt=32;function Zt(e,t,i,{location:n=Ut.location,distance:s=Ut.distance,threshold:r=Ut.threshold,findAllMatches:o=Ut.findAllMatches,minMatchCharLength:a=Ut.minMatchCharLength,includeMatches:h=Ut.includeMatches,ignoreLocation:l=Ut.ignoreLocation}={}){if(t.length>Jt)throw new Error(`Pattern length exceeds max of ${Jt}.`);const d=t.length,c=e.length,u=Math.max(0,Math.min(n,c));let p=r,m=u;const f=a>1||h,g=f?Array(c):[];let v;for(;(v=e.indexOf(t,m))>-1;){let e=Kt(t,{currentLocation:v,expectedLocation:u,distance:s,ignoreLocation:l});if(p=Math.min(e,p),m=v+d,f){let e=0;for(;e<d;)g[v+e]=1,e+=1}}m=-1;let y=[],A=1,x=d+c;const b=1<<d-1;for(let n=0;n<d;n+=1){let r=0,a=x;for(;r<a;){Kt(t,{errors:n,currentLocation:u+a,expectedLocation:u,distance:s,ignoreLocation:l})<=p?r=a:x=a,a=Math.floor((x-r)/2+r)}x=a;let h=Math.max(1,u-a+1),v=o?c:Math.min(u+a,c)+d,w=Array(v+2);w[v+1]=(1<<n)-1;for(let r=v;r>=h;r-=1){let o=r-1,a=i[e.charAt(o)];if(f&&(g[o]=+!!a),w[r]=(w[r+1]<<1|1)&a,n&&(w[r]|=(y[r+1]|y[r])<<1|1|y[r+1]),w[r]&b&&(A=Kt(t,{errors:n,currentLocation:o,expectedLocation:u,distance:s,ignoreLocation:l}),A<=p)){if(p=A,m=o,m<=u)break;h=Math.max(1,2*u-m)}}if(Kt(t,{errors:n+1,currentLocation:u,expectedLocation:u,distance:s,ignoreLocation:l})>p)break;y=w}const w={isMatch:m>=0,score:Math.max(.001,A)};if(f){const e=function(e=[],t=Ut.minMatchCharLength){let i=[],n=-1,s=-1,r=0;for(let o=e.length;r<o;r+=1){let o=e[r];o&&-1===n?n=r:o||-1===n||(s=r-1,s-n+1>=t&&i.push([n,s]),n=-1)}return e[r-1]&&r-n>=t&&i.push([n,r-1]),i}(g,a);e.length?h&&(w.indices=e):w.isMatch=!1}return w}function $t(e){let t={};for(let i=0,n=e.length;i<n;i+=1){const s=e.charAt(i);t[s]=(t[s]||0)|1<<n-i-1}return t}class ei{constructor(e,{location:t=Ut.location,threshold:i=Ut.threshold,distance:n=Ut.distance,includeMatches:s=Ut.includeMatches,findAllMatches:r=Ut.findAllMatches,minMatchCharLength:o=Ut.minMatchCharLength,isCaseSensitive:a=Ut.isCaseSensitive,ignoreLocation:h=Ut.ignoreLocation}={}){if(this.options={location:t,threshold:i,distance:n,includeMatches:s,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:h},this.pattern=a?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(e,t)=>{this.chunks.push({pattern:e,alphabet:$t(e),startIndex:t})},d=this.pattern.length;if(d>Jt){let e=0;const t=d%Jt,i=d-t;for(;e<i;)l(this.pattern.substr(e,Jt),e),e+=Jt;if(t){const e=d-Jt;l(this.pattern.substr(e),e)}}else l(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:i}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return i&&(t.indices=[[0,e.length-1]]),t}const{location:n,distance:s,threshold:r,findAllMatches:o,minMatchCharLength:a,ignoreLocation:h}=this.options;let l=[],d=0,c=!1;this.chunks.forEach((({pattern:t,alphabet:u,startIndex:p})=>{const{isMatch:m,score:f,indices:g}=Zt(e,t,u,{location:n+p,distance:s,threshold:r,findAllMatches:o,minMatchCharLength:a,includeMatches:i,ignoreLocation:h});m&&(c=!0),d+=f,m&&g&&(l=[...l,...g])}));let u={isMatch:c,score:c?d/this.chunks.length:1};return c&&i&&(u.indices=l),u}}class ti{constructor(e){this.pattern=e}static isMultiMatch(e){return ii(e,this.multiRegex)}static isSingleMatch(e){return ii(e,this.singleRegex)}search(){}}function ii(e,t){const i=e.match(t);return i?i[1]:null}class ni extends ti{constructor(e,{location:t=Ut.location,threshold:i=Ut.threshold,distance:n=Ut.distance,includeMatches:s=Ut.includeMatches,findAllMatches:r=Ut.findAllMatches,minMatchCharLength:o=Ut.minMatchCharLength,isCaseSensitive:a=Ut.isCaseSensitive,ignoreLocation:h=Ut.ignoreLocation}={}){super(e),this._bitapSearch=new ei(e,{location:t,threshold:i,distance:n,includeMatches:s,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class si extends ti{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,i=0;const n=[],s=this.pattern.length;for(;(t=e.indexOf(this.pattern,i))>-1;)i=t+s,n.push([t,i-1]);const r=!!n.length;return{isMatch:r,score:r?0:1,indices:n}}}const ri=[class extends ti{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},si,class extends ti{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends ti{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends ti{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends ti{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends ti{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},ni],oi=ri.length,ai=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const hi=new Set([ni.type,si.type]);class li{constructor(e,{isCaseSensitive:t=Ut.isCaseSensitive,includeMatches:i=Ut.includeMatches,minMatchCharLength:n=Ut.minMatchCharLength,ignoreLocation:s=Ut.ignoreLocation,findAllMatches:r=Ut.findAllMatches,location:o=Ut.location,threshold:a=Ut.threshold,distance:h=Ut.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:i,minMatchCharLength:n,findAllMatches:r,ignoreLocation:s,location:o,threshold:a,distance:h},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let i=e.trim().split(ai).filter((e=>e&&!!e.trim())),n=[];for(let e=0,s=i.length;e<s;e+=1){const s=i[e];let r=!1,o=-1;for(;!r&&++o<oi;){const e=ri[o];let i=e.isMultiMatch(s);i&&(n.push(new e(i,t)),r=!0)}if(!r)for(o=-1;++o<oi;){const e=ri[o];let i=e.isSingleMatch(s);if(i){n.push(new e(i,t));break}}}return n}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:n}=this.options;e=n?e:e.toLowerCase();let s=0,r=[],o=0;for(let n=0,a=t.length;n<a;n+=1){const a=t[n];r.length=0,s=0;for(let t=0,n=a.length;t<n;t+=1){const n=a[t],{isMatch:h,indices:l,score:d}=n.search(e);if(!h){o=0,s=0,r.length=0;break}if(s+=1,o+=d,i){const e=n.constructor.type;hi.has(e)?r=[...r,...l]:r.push(l)}}if(s){let e={isMatch:!0,score:o/s};return i&&(e.indices=r),e}}return{isMatch:!1,score:1}}}const di=[];function ci(e,t){for(let i=0,n=di.length;i<n;i+=1){let n=di[i];if(n.condition(e,t))return new n(e,t)}return new ei(e,t)}const ui="$and",pi="$or",mi="$path",fi="$val",gi=e=>!(!e[ui]&&!e[pi]),vi=e=>({[ui]:Object.keys(e).map((t=>({[t]:e[t]})))});function yi(e,t,{auto:i=!0}={}){const n=e=>{let s=Object.keys(e);const r=(e=>!!e[mi])(e);if(!r&&s.length>1&&!gi(e))return n(vi(e));if((e=>!It(e)&&Pt(e)&&!gi(e))(e)){const n=r?e[mi]:s[0],o=r?e[fi]:e[n];if(!Mt(o))throw new Error((e=>`Invalid value for key ${e}`)(n));const a={keyId:Wt(n),pattern:o};return i&&(a.searcher=ci(o,t)),a}let o={children:[],operator:s[0]};return s.forEach((t=>{const i=e[t];It(i)&&i.forEach((e=>{o.children.push(n(e))}))})),o};return gi(e)||(e=vi(e)),n(e)}function Ai(e,t){const i=e.matches;t.matches=[],Ot(i)&&i.forEach((e=>{if(!Ot(e.indices)||!e.indices.length)return;const{indices:i,value:n}=e;let s={indices:i,value:n};e.key&&(s.key=e.key.src),e.idx>-1&&(s.refIndex=e.idx),t.matches.push(s)}))}function xi(e,t){t.score=e.score}class bi{constructor(e,t={},i){this.options={...Ut,...t},this.options.useExtendedSearch,this._keyStore=new Ht(this.options.keys),this.setCollection(e,i)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Gt))throw new Error("Incorrect 'index' type");this._myIndex=t||Yt(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Ot(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let i=0,n=this._docs.length;i<n;i+=1){const s=this._docs[i];e(s,i)&&(this.removeAt(i),i-=1,n-=1,t.push(s))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:i,includeScore:n,shouldSort:s,sortFn:r,ignoreFieldNorm:o}=this.options;let a=Mt(e)?Mt(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=Ut.ignoreFieldNorm}){e.forEach((e=>{let i=1;e.matches.forEach((({key:e,norm:n,score:s})=>{const r=e?e.weight:null;i*=Math.pow(0===s&&r?Number.EPSILON:s,(r||1)*(t?1:n))})),e.score=i}))}(a,{ignoreFieldNorm:o}),s&&a.sort(r),Tt(t)&&t>-1&&(a=a.slice(0,t)),function(e,t,{includeMatches:i=Ut.includeMatches,includeScore:n=Ut.includeScore}={}){const s=[];return i&&s.push(Ai),n&&s.push(xi),e.map((e=>{const{idx:i}=e,n={item:t[i],refIndex:i};return s.length&&s.forEach((t=>{t(e,n)})),n}))}(a,this._docs,{includeMatches:i,includeScore:n})}_searchStringList(e){const t=ci(e,this.options),{records:i}=this._myIndex,n=[];return i.forEach((({v:e,i:i,n:s})=>{if(!Ot(e))return;const{isMatch:r,score:o,indices:a}=t.searchIn(e);r&&n.push({item:e,idx:i,matches:[{score:o,value:e,norm:s,indices:a}]})})),n}_searchLogical(e){const t=yi(e,this.options),i=(e,t,n)=>{if(!e.children){const{keyId:i,searcher:s}=e,r=this._findMatches({key:this._keyStore.get(i),value:this._myIndex.getValueForItemAtKeyId(t,i),searcher:s});return r&&r.length?[{idx:n,item:t,matches:r}]:[]}const s=[];for(let r=0,o=e.children.length;r<o;r+=1){const o=e.children[r],a=i(o,t,n);if(a.length)s.push(...a);else if(e.operator===ui)return[]}return s},n=this._myIndex.records,s={},r=[];return n.forEach((({$:e,i:n})=>{if(Ot(e)){let o=i(t,e,n);o.length&&(s[n]||(s[n]={idx:n,item:e,matches:[]},r.push(s[n])),o.forEach((({matches:e})=>{s[n].matches.push(...e)})))}})),r}_searchObjectList(e){const t=ci(e,this.options),{keys:i,records:n}=this._myIndex,s=[];return n.forEach((({$:e,i:n})=>{if(!Ot(e))return;let r=[];i.forEach(((i,n)=>{r.push(...this._findMatches({key:i,value:e[n],searcher:t}))})),r.length&&s.push({idx:n,item:e,matches:r})})),s}_findMatches({key:e,value:t,searcher:i}){if(!Ot(t))return[];let n=[];if(It(t))t.forEach((({v:t,i:s,n:r})=>{if(!Ot(t))return;const{isMatch:o,score:a,indices:h}=i.searchIn(t);o&&n.push({score:a,key:e,value:t,idx:s,norm:r,indices:h})}));else{const{v:s,n:r}=t,{isMatch:o,score:a,indices:h}=i.searchIn(s);o&&n.push({score:a,key:e,value:s,norm:r,indices:h})}return n}}bi.version="6.6.2",bi.createIndex=Yt,bi.parseIndex=function(e,{getFn:t=Ut.getFn,fieldNormWeight:i=Ut.fieldNormWeight}={}){const{keys:n,records:s}=e,r=new Gt({getFn:t,fieldNormWeight:i});return r.setKeys(n),r.setIndexRecords(s),r},bi.config=Ut,bi.parseQuery=yi,function(...e){di.push(...e)}(li);
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */
var wi=ke((function(e){!function(t,i){e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}}("undefined"!=typeof window?window:we,(function(e,t){var i=[],n=Object.getPrototypeOf,s=i.slice,r=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},o=i.push,a=i.indexOf,h={},l=h.toString,d=h.hasOwnProperty,c=d.toString,u=c.call(Object),p={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},f=function(e){return null!=e&&e===e.window},g=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,i){var n,s,r=(i=i||g).createElement("script");if(r.text=e,t)for(n in v)(s=t[n]||t.getAttribute&&t.getAttribute(n))&&r.setAttribute(n,s);i.head.appendChild(r).parentNode.removeChild(r)}function A(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[l.call(e)]||"object":typeof e}var x="3.7.1",b=/HTML$/i,w=function(e,t){return new w.fn.init(e,t)};function k(e){var t=!!e&&"length"in e&&e.length,i=A(e);return!m(e)&&!f(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}w.fn=w.prototype={jquery:x,constructor:w,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:i.sort,splice:i.splice},w.extend=w.fn.extend=function(){var e,t,i,n,s,r,o=arguments[0]||{},a=1,h=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||m(o)||(o={}),a===h&&(o=this,a--);a<h;a++)if(null!=(e=arguments[a]))for(t in e)n=e[t],"__proto__"!==t&&o!==n&&(l&&n&&(w.isPlainObject(n)||(s=Array.isArray(n)))?(i=o[t],r=s&&!Array.isArray(i)?[]:s||w.isPlainObject(i)?i:{},s=!1,o[t]=w.extend(l,r,n)):void 0!==n&&(o[t]=n));return o},w.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==l.call(e))&&(!(t=n(e))||"function"==typeof(i=d.call(t,"constructor")&&t.constructor)&&c.call(i)===u)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,i){y(e,{nonce:t&&t.nonce},i)},each:function(e,t){var i,n=0;if(k(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},text:function(e){var t,i="",n=0,s=e.nodeType;if(!s)for(;t=e[n++];)i+=w.text(t);return 1===s||11===s?e.textContent:9===s?e.documentElement.textContent:3===s||4===s?e.nodeValue:i},makeArray:function(e,t){var i=t||[];return null!=e&&(k(Object(e))?w.merge(i,"string"==typeof e?[e]:e):o.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:a.call(t,e,i)},isXMLDoc:function(e){var t=e&&e.namespaceURI,i=e&&(e.ownerDocument||e).documentElement;return!b.test(t||i&&i.nodeName||"HTML")},merge:function(e,t){for(var i=+t.length,n=0,s=e.length;n<i;n++)e[s++]=t[n];return e.length=s,e},grep:function(e,t,i){for(var n=[],s=0,r=e.length,o=!i;s<r;s++)!t(e[s],s)!==o&&n.push(e[s]);return n},map:function(e,t,i){var n,s,o=0,a=[];if(k(e))for(n=e.length;o<n;o++)null!=(s=t(e[o],o,i))&&a.push(s);else for(o in e)null!=(s=t(e[o],o,i))&&a.push(s);return r(a)},guid:1,support:p}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=i[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()}));var E=i.pop,D=i.sort,N=i.splice,I="[\\x20\\t\\r\\n\\f]",S=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g");w.contains=function(e,t){var i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(e.contains?e.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))};var B=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function M(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}w.escapeSelector=function(e){return(e+"").replace(B,M)};var T=g,L=o;!function(){var t,n,r,o,h,l,c,u,m,f,g=L,v=w.expando,y=0,A=0,x=ee(),b=ee(),k=ee(),B=ee(),M=function(e,t){return e===t&&(h=!0),0},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="(?:\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",R="\\["+I+"*("+O+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+I+"*\\]",_=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",F=new RegExp(I+"+","g"),z=new RegExp("^"+I+"*,"+I+"*"),Q=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),H=new RegExp(I+"|>"),j=new RegExp(_),q=new RegExp("^"+O+"$"),W={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+_),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},V=/^(?:input|select|textarea|button)$/i,U=/^h\d$/i,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/[+~]/,Y=new RegExp("\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\([^\\r\\n\\f])","g"),K=function(e,t){var i="0x"+e.slice(1)-65536;return t||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},J=function(){he()},Z=ue((function(e){return!0===e.disabled&&C(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{g.apply(i=s.call(T.childNodes),T.childNodes),i[T.childNodes.length].nodeType}catch(e){g={apply:function(e,t){L.apply(e,s.call(t))},call:function(e){L.apply(e,s.call(arguments,1))}}}function $(e,t,i,n){var s,r,o,a,h,d,c,f=t&&t.ownerDocument,y=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==y&&9!==y&&11!==y)return i;if(!n&&(he(t),t=t||l,u)){if(11!==y&&(h=X.exec(e)))if(s=h[1]){if(9===y){if(!(o=t.getElementById(s)))return i;if(o.id===s)return g.call(i,o),i}else if(f&&(o=f.getElementById(s))&&$.contains(t,o)&&o.id===s)return g.call(i,o),i}else{if(h[2])return g.apply(i,t.getElementsByTagName(e)),i;if((s=h[3])&&t.getElementsByClassName)return g.apply(i,t.getElementsByClassName(s)),i}if(!(B[e+" "]||m&&m.test(e))){if(c=e,f=t,1===y&&(H.test(e)||Q.test(e))){for((f=G.test(e)&&ae(t.parentNode)||t)==t&&p.scope||((a=t.getAttribute("id"))?a=w.escapeSelector(a):t.setAttribute("id",a=v)),r=(d=de(e)).length;r--;)d[r]=(a?"#"+a:":scope")+" "+ce(d[r]);c=d.join(",")}try{return g.apply(i,f.querySelectorAll(c)),i}catch(t){B(e,!0)}finally{a===v&&t.removeAttribute("id")}}}return ye(e.replace(S,"$1"),t,i,n)}function ee(){var e=[];return function t(i,s){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=s}}function te(e){return e[v]=!0,e}function ie(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ne(e){return function(t){return C(t,"input")&&t.type===e}}function se(e){return function(t){return(C(t,"input")||C(t,"button"))&&t.type===e}}function re(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Z(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function oe(e){return te((function(t){return t=+t,te((function(i,n){for(var s,r=e([],i.length,t),o=r.length;o--;)i[s=r[o]]&&(i[s]=!(n[s]=i[s]))}))}))}function ae(e){return e&&void 0!==e.getElementsByTagName&&e}function he(e){var t,i=e?e.ownerDocument||e:T;return i!=l&&9===i.nodeType&&i.documentElement?(c=(l=i).documentElement,u=!w.isXMLDoc(l),f=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&T!=l&&(t=l.defaultView)&&t.top!==t&&t.addEventListener("unload",J),p.getById=ie((function(e){return c.appendChild(e).id=w.expando,!l.getElementsByName||!l.getElementsByName(w.expando).length})),p.disconnectedMatch=ie((function(e){return f.call(e,"*")})),p.scope=ie((function(){return l.querySelectorAll(":scope")})),p.cssHas=ie((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),p.getById?(n.filter.ID=function(e){var t=e.replace(Y,K);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&u){var i=t.getElementById(e);return i?[i]:[]}}):(n.filter.ID=function(e){var t=e.replace(Y,K);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&u){var i,n,s,r=t.getElementById(e);if(r){if((i=r.getAttributeNode("id"))&&i.value===e)return[r];for(s=t.getElementsByName(e),n=0;r=s[n++];)if((i=r.getAttributeNode("id"))&&i.value===e)return[r]}return[]}}),n.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},n.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&u)return t.getElementsByClassName(e)},m=[],ie((function(e){var t;c.appendChild(e).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||m.push("\\["+I+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+v+"-]").length||m.push("~="),e.querySelectorAll("a#"+v+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll(":checked").length||m.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+I+"*name"+I+"*="+I+"*(?:''|\"\")")})),p.cssHas||m.push(":has"),m=m.length&&new RegExp(m.join("|")),M=function(e,t){if(e===t)return h=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===i?e===l||e.ownerDocument==T&&$.contains(T,e)?-1:t===l||t.ownerDocument==T&&$.contains(T,t)?1:o?a.call(o,e)-a.call(o,t):0:4&i?-1:1)},l):l}for(t in $.matches=function(e,t){return $(e,null,null,t)},$.matchesSelector=function(e,t){if(he(e),u&&!B[t+" "]&&(!m||!m.test(t)))try{var i=f.call(e,t);if(i||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){B(t,!0)}return $(t,l,null,[e]).length>0},$.contains=function(e,t){return(e.ownerDocument||e)!=l&&he(e),w.contains(e,t)},$.attr=function(e,t){(e.ownerDocument||e)!=l&&he(e);var i=n.attrHandle[t.toLowerCase()],s=i&&d.call(n.attrHandle,t.toLowerCase())?i(e,t,!u):void 0;return void 0!==s?s:e.getAttribute(t)},$.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},w.uniqueSort=function(e){var t,i=[],n=0,r=0;if(h=!p.sortStable,o=!p.sortStable&&s.call(e,0),D.call(e,M),h){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)N.call(e,i[n],1)}return o=null,e},w.fn.uniqueSort=function(){return this.pushStack(w.uniqueSort(s.apply(this)))},n=w.expr={cacheLength:50,createPseudo:te,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Y,K),e[3]=(e[3]||e[4]||e[5]||"").replace(Y,K),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||$.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&$.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&j.test(i)&&(t=de(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Y,K).toLowerCase();return"*"===e?function(){return!0}:function(e){return C(e,t)}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&x(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,i){return function(n){var s=$.attr(n,e);return null==s?"!="===t:!t||(s+="","="===t?s===i:"!="===t?s!==i:"^="===t?i&&0===s.indexOf(i):"*="===t?i&&s.indexOf(i)>-1:"$="===t?i&&s.slice(-i.length)===i:"~="===t?(" "+s.replace(F," ")+" ").indexOf(i)>-1:"|="===t&&(s===i||s.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,s){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,h){var l,d,c,u,p,m=r!==o?"nextSibling":"previousSibling",f=t.parentNode,g=a&&t.nodeName.toLowerCase(),A=!h&&!a,x=!1;if(f){if(r){for(;m;){for(c=t;c=c[m];)if(a?C(c,g):1===c.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?f.firstChild:f.lastChild],o&&A){for(x=(u=(l=(d=f[v]||(f[v]={}))[e]||[])[0]===y&&l[1])&&l[2],c=u&&f.childNodes[u];c=++u&&c&&c[m]||(x=u=0)||p.pop();)if(1===c.nodeType&&++x&&c===t){d[e]=[y,u,x];break}}else if(A&&(x=u=(l=(d=t[v]||(t[v]={}))[e]||[])[0]===y&&l[1]),!1===x)for(;(c=++u&&c&&c[m]||(x=u=0)||p.pop())&&(!(a?C(c,g):1===c.nodeType)||!++x||(A&&((d=c[v]||(c[v]={}))[e]=[y,x]),c!==t)););return(x-=s)===n||x%n==0&&x/n>=0}}},PSEUDO:function(e,t){var i,s=n.pseudos[e]||n.setFilters[e.toLowerCase()]||$.error("unsupported pseudo: "+e);return s[v]?s(t):s.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,i){for(var n,r=s(e,t),o=r.length;o--;)e[n=a.call(e,r[o])]=!(i[n]=r[o])})):function(e){return s(e,0,i)}):s}},pseudos:{not:te((function(e){var t=[],i=[],n=ve(e.replace(S,"$1"));return n[v]?te((function(e,t,i,s){for(var r,o=n(e,null,s,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))})):function(e,s,r){return t[0]=e,n(t,null,r,i),t[0]=null,!i.pop()}})),has:te((function(e){return function(t){return $(e,t).length>0}})),contains:te((function(e){return e=e.replace(Y,K),function(t){return(t.textContent||w.text(t)).indexOf(e)>-1}})),lang:te((function(e){return q.test(e||"")||$.error("unsupported lang: "+e),e=e.replace(Y,K).toLowerCase(),function(t){var i;do{if(i=u?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:re(!1),disabled:re(!0),checked:function(e){return C(e,"input")&&!!e.checked||C(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return U.test(e.nodeName)},input:function(e){return V.test(e.nodeName)},button:function(e){return C(e,"input")&&"button"===e.type||C(e,"button")},text:function(e){var t;return C(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:oe((function(){return[0]})),last:oe((function(e,t){return[t-1]})),eq:oe((function(e,t,i){return[i<0?i+t:i]})),even:oe((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:oe((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:oe((function(e,t,i){var n;for(n=i<0?i+t:i>t?t:i;--n>=0;)e.push(n);return e})),gt:oe((function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e}))}},n.pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=ne(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=se(t);function le(){}function de(e,t){var i,s,r,o,a,h,l,d=b[e+" "];if(d)return t?0:d.slice(0);for(a=e,h=[],l=n.preFilter;a;){for(o in i&&!(s=z.exec(a))||(s&&(a=a.slice(s[0].length)||a),h.push(r=[])),i=!1,(s=Q.exec(a))&&(i=s.shift(),r.push({value:i,type:s[0].replace(S," ")}),a=a.slice(i.length)),n.filter)!(s=W[o].exec(a))||l[o]&&!(s=l[o](s))||(i=s.shift(),r.push({value:i,type:o,matches:s}),a=a.slice(i.length));if(!i)break}return t?a.length:a?$.error(e):b(e,h).slice(0)}function ce(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function ue(e,t,i){var n=t.dir,s=t.next,r=s||n,o=i&&"parentNode"===r,a=A++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,s);return!1}:function(t,i,h){var l,d,c=[y,a];if(h){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,h))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(d=t[v]||(t[v]={}),s&&C(t,s))t=t[n]||t;else{if((l=d[r])&&l[0]===y&&l[1]===a)return c[2]=l[2];if(d[r]=c,c[2]=e(t,i,h))return!0}return!1}}function pe(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function me(e,t,i,n,s){for(var r,o=[],a=0,h=e.length,l=null!=t;a<h;a++)(r=e[a])&&(i&&!i(r,n,s)||(o.push(r),l&&t.push(a)));return o}function fe(e,t,i,n,s,r){return n&&!n[v]&&(n=fe(n)),s&&!s[v]&&(s=fe(s,r)),te((function(r,o,h,l){var d,c,u,p,m=[],f=[],v=o.length,y=r||function(e,t,i){for(var n=0,s=t.length;n<s;n++)$(e,t[n],i);return i}(t||"*",h.nodeType?[h]:h,[]),A=!e||!r&&t?y:me(y,m,e,h,l);if(i?i(A,p=s||(r?e:v||n)?[]:o,h,l):p=A,n)for(d=me(p,f),n(d,[],h,l),c=d.length;c--;)(u=d[c])&&(p[f[c]]=!(A[f[c]]=u));if(r){if(s||e){if(s){for(d=[],c=p.length;c--;)(u=p[c])&&d.push(A[c]=u);s(null,p=[],d,l)}for(c=p.length;c--;)(u=p[c])&&(d=s?a.call(r,u):m[c])>-1&&(r[d]=!(o[d]=u))}}else p=me(p===o?p.splice(v,p.length):p),s?s(null,o,p,l):g.apply(o,p)}))}function ge(e){for(var t,i,s,o=e.length,h=n.relative[e[0].type],l=h||n.relative[" "],d=h?1:0,c=ue((function(e){return e===t}),l,!0),u=ue((function(e){return a.call(t,e)>-1}),l,!0),p=[function(e,i,n){var s=!h&&(n||i!=r)||((t=i).nodeType?c(e,i,n):u(e,i,n));return t=null,s}];d<o;d++)if(i=n.relative[e[d].type])p=[ue(pe(p),i)];else{if((i=n.filter[e[d].type].apply(null,e[d].matches))[v]){for(s=++d;s<o&&!n.relative[e[s].type];s++);return fe(d>1&&pe(p),d>1&&ce(e.slice(0,d-1).concat({value:" "===e[d-2].type?"*":""})).replace(S,"$1"),i,d<s&&ge(e.slice(d,s)),s<o&&ge(e=e.slice(s)),s<o&&ce(e))}p.push(i)}return pe(p)}function ve(e,t){var i,s=[],o=[],a=k[e+" "];if(!a){for(t||(t=de(e)),i=t.length;i--;)(a=ge(t[i]))[v]?s.push(a):o.push(a);a=k(e,function(e,t){var i=t.length>0,s=e.length>0,o=function(o,a,h,d,c){var p,m,f,v=0,A="0",x=o&&[],b=[],k=r,C=o||s&&n.find.TAG("*",c),D=y+=null==k?1:Math.random()||.1,N=C.length;for(c&&(r=a==l||a||c);A!==N&&null!=(p=C[A]);A++){if(s&&p){for(m=0,a||p.ownerDocument==l||(he(p),h=!u);f=e[m++];)if(f(p,a||l,h)){g.call(d,p);break}c&&(y=D)}i&&((p=!f&&p)&&v--,o&&x.push(p))}if(v+=A,i&&A!==v){for(m=0;f=t[m++];)f(x,b,a,h);if(o){if(v>0)for(;A--;)x[A]||b[A]||(b[A]=E.call(d));b=me(b)}g.apply(d,b),c&&!o&&b.length>0&&v+t.length>1&&w.uniqueSort(d)}return c&&(y=D,r=k),x};return i?te(o):o}(o,s)),a.selector=e}return a}function ye(e,t,i,s){var r,o,a,h,l,d="function"==typeof e&&e,c=!s&&de(e=d.selector||e);if(i=i||[],1===c.length){if((o=c[0]=c[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&u&&n.relative[o[1].type]){if(!(t=(n.find.ID(a.matches[0].replace(Y,K),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=W.needsContext.test(e)?0:o.length;r--&&(a=o[r],!n.relative[h=a.type]);)if((l=n.find[h])&&(s=l(a.matches[0].replace(Y,K),G.test(o[0].type)&&ae(t.parentNode)||t))){if(o.splice(r,1),!(e=s.length&&ce(o)))return g.apply(i,s),i;break}}return(d||ve(e,c))(s,t,!u,i,!t||G.test(e)&&ae(t.parentNode)||t),i}le.prototype=n.filters=n.pseudos,n.setFilters=new le,p.sortStable=v.split("").sort(M).join("")===v,he(),p.sortDetached=ie((function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))})),w.find=$,w.expr[":"]=w.expr.pseudos,w.unique=w.uniqueSort,$.compile=ve,$.select=ye,$.setDocument=he,$.tokenize=de,$.escape=w.escapeSelector,$.getText=w.text,$.isXML=w.isXMLDoc,$.selectors=w.expr,$.support=w.support,$.uniqueSort=w.uniqueSort}();var P=function(e,t,i){for(var n=[],s=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&w(e).is(i))break;n.push(e)}return n},O=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},R=w.expr.match.needsContext,_=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function F(e,t,i){return m(t)?w.grep(e,(function(e,n){return!!t.call(e,n,e)!==i})):t.nodeType?w.grep(e,(function(e){return e===t!==i})):"string"!=typeof t?w.grep(e,(function(e){return a.call(t,e)>-1!==i})):w.filter(t,e,i)}w.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?w.find.matchesSelector(n,e)?[n]:[]:w.find.matches(e,w.grep(t,(function(e){return 1===e.nodeType})))},w.fn.extend({find:function(e){var t,i,n=this.length,s=this;if("string"!=typeof e)return this.pushStack(w(e).filter((function(){for(t=0;t<n;t++)if(w.contains(s[t],this))return!0})));for(i=this.pushStack([]),t=0;t<n;t++)w.find(e,s[t],i);return n>1?w.uniqueSort(i):i},filter:function(e){return this.pushStack(F(this,e||[],!1))},not:function(e){return this.pushStack(F(this,e||[],!0))},is:function(e){return!!F(this,"string"==typeof e&&R.test(e)?w(e):e||[],!1).length}});var z,Q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,H=w.fn.init=function(e,t,i){var n,s;if(!e)return this;if(i=i||z,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Q.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),_.test(n[1])&&w.isPlainObject(t))for(n in t)m(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(s=g.getElementById(n[2]))&&(this[0]=s,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==i.ready?i.ready(e):e(w):w.makeArray(e,this)};H.prototype=w.fn,z=w(g);var j=/^(?:parents|prev(?:Until|All))/,q={children:!0,contents:!0,next:!0,prev:!0};function W(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),i=t.length;return this.filter((function(){for(var e=0;e<i;e++)if(w.contains(this,t[e]))return!0}))},closest:function(e,t){var i,n=0,s=this.length,r=[],o="string"!=typeof e&&w(e);if(!R.test(e))for(;n<s;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&w.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?w.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?a.call(w(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return P(e,"parentNode")},parentsUntil:function(e,t,i){return P(e,"parentNode",i)},next:function(e){return W(e,"nextSibling")},prev:function(e){return W(e,"previousSibling")},nextAll:function(e){return P(e,"nextSibling")},prevAll:function(e){return P(e,"previousSibling")},nextUntil:function(e,t,i){return P(e,"nextSibling",i)},prevUntil:function(e,t,i){return P(e,"previousSibling",i)},siblings:function(e){return O((e.parentNode||{}).firstChild,e)},children:function(e){return O(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(C(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},(function(e,t){w.fn[e]=function(i,n){var s=w.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=w.filter(n,s)),this.length>1&&(q[e]||w.uniqueSort(s),j.test(e)&&s.reverse()),this.pushStack(s)}}));var V=/[^\x20\t\r\n\f]+/g;function U(e){return e}function X(e){throw e}function G(e,t,i,n){var s;try{e&&m(s=e.promise)?s.call(e).done(t).fail(i):e&&m(s=e.then)?s.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return w.each(e.match(V)||[],(function(e,i){t[i]=!0})),t}(e):w.extend({},e);var t,i,n,s,r=[],o=[],a=-1,h=function(){for(s=s||e.once,n=t=!0;o.length;a=-1)for(i=o.shift();++a<r.length;)!1===r[a].apply(i[0],i[1])&&e.stopOnFalse&&(a=r.length,i=!1);e.memory||(i=!1),t=!1,s&&(r=i?[]:"")},l={add:function(){return r&&(i&&!t&&(a=r.length-1,o.push(i)),function t(i){w.each(i,(function(i,n){m(n)?e.unique&&l.has(n)||r.push(n):n&&n.length&&"string"!==A(n)&&t(n)}))}(arguments),i&&!t&&h()),this},remove:function(){return w.each(arguments,(function(e,t){for(var i;(i=w.inArray(t,r,i))>-1;)r.splice(i,1),i<=a&&a--})),this},has:function(e){return e?w.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return s=o=[],r=i="",this},disabled:function(){return!r},lock:function(){return s=o=[],i||t||(r=i=""),this},locked:function(){return!!s},fireWith:function(e,i){return s||(i=[e,(i=i||[]).slice?i.slice():i],o.push(i),t||h()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},w.extend({Deferred:function(t){var i=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],n="pending",s={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var e=arguments;return w.Deferred((function(t){w.each(i,(function(i,n){var s=m(e[n[4]])&&e[n[4]];r[n[1]]((function(){var e=s&&s.apply(this,arguments);e&&m(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,s?[e]:arguments)}))})),e=null})).promise()},then:function(t,n,s){var r=0;function o(t,i,n,s){return function(){var a=this,h=arguments,l=function(){var e,l;if(!(t<r)){if((e=n.apply(a,h))===i.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(l)?s?l.call(e,o(r,i,U,s),o(r,i,X,s)):(r++,l.call(e,o(r,i,U,s),o(r,i,X,s),o(r,i,U,i.notifyWith))):(n!==U&&(a=void 0,h=[e]),(s||i.resolveWith)(a,h))}},d=s?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,d.error),t+1>=r&&(n!==X&&(a=void 0,h=[e]),i.rejectWith(a,h))}};t?d():(w.Deferred.getErrorHook?d.error=w.Deferred.getErrorHook():w.Deferred.getStackHook&&(d.error=w.Deferred.getStackHook()),e.setTimeout(d))}}return w.Deferred((function(e){i[0][3].add(o(0,e,m(s)?s:U,e.notifyWith)),i[1][3].add(o(0,e,m(t)?t:U)),i[2][3].add(o(0,e,m(n)?n:X))})).promise()},promise:function(e){return null!=e?w.extend(e,s):s}},r={};return w.each(i,(function(e,t){var o=t[2],a=t[5];s[t[1]]=o.add,a&&o.add((function(){n=a}),i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),o.add(t[3].fire),r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this},r[t[0]+"With"]=o.fireWith})),s.promise(r),t&&t.call(r,r),r},when:function(e){var t=arguments.length,i=t,n=Array(i),r=s.call(arguments),o=w.Deferred(),a=function(e){return function(i){n[e]=this,r[e]=arguments.length>1?s.call(arguments):i,--t||o.resolveWith(n,r)}};if(t<=1&&(G(e,o.done(a(i)).resolve,o.reject,!t),"pending"===o.state()||m(r[i]&&r[i].then)))return o.then();for(;i--;)G(r[i],a(i),o.reject);return o.promise()}});var Y=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&Y.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},w.readyException=function(t){e.setTimeout((function(){throw t}))};var K=w.Deferred();function J(){g.removeEventListener("DOMContentLoaded",J),e.removeEventListener("load",J),w.ready()}w.fn.ready=function(e){return K.then(e).catch((function(e){w.readyException(e)})),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||K.resolveWith(g,[w]))}}),w.ready.then=K.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(w.ready):(g.addEventListener("DOMContentLoaded",J),e.addEventListener("load",J));var Z=function(e,t,i,n,s,r,o){var a=0,h=e.length,l=null==i;if("object"===A(i))for(a in s=!0,i)Z(e,t,a,i[a],!0,r,o);else if(void 0!==n&&(s=!0,m(n)||(o=!0),l&&(o?(t.call(e,n),t=null):(l=t,t=function(e,t,i){return l.call(w(e),i)})),t))for(;a<h;a++)t(e[a],i,o?n:n.call(e[a],a,t(e[a],i)));return s?e:l?t.call(e):h?t(e[0],i):r},$=/^-ms-/,ee=/-([a-z])/g;function te(e,t){return t.toUpperCase()}function ie(e){return e.replace($,"ms-").replace(ee,te)}var ne=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function se(){this.expando=w.expando+se.uid++}se.uid=1,se.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ne(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,s=this.cache(e);if("string"==typeof t)s[ie(t)]=i;else for(n in t)s[ie(n)]=t[n];return s},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(ie):(t=ie(t))in n?[t]:t.match(V)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||w.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var re=new se,oe=new se,ae=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,he=/[A-Z]/g;function le(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(he,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ae.test(e)?JSON.parse(e):e)}(i)}catch(e){}oe.set(e,t,i)}else i=void 0;return i}w.extend({hasData:function(e){return oe.hasData(e)||re.hasData(e)},data:function(e,t,i){return oe.access(e,t,i)},removeData:function(e,t){oe.remove(e,t)},_data:function(e,t,i){return re.access(e,t,i)},_removeData:function(e,t){re.remove(e,t)}}),w.fn.extend({data:function(e,t){var i,n,s,r=this[0],o=r&&r.attributes;if(void 0===e){if(this.length&&(s=oe.get(r),1===r.nodeType&&!re.get(r,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=ie(n.slice(5)),le(r,n,s[n]));re.set(r,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each((function(){oe.set(this,e)})):Z(this,(function(t){var i;if(r&&void 0===t)return void 0!==(i=oe.get(r,e))||void 0!==(i=le(r,e))?i:void 0;this.each((function(){oe.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){oe.remove(this,e)}))}}),w.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=re.get(e,t),i&&(!n||Array.isArray(i)?n=re.access(e,t,w.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=w.queue(e,t),n=i.length,s=i.shift(),r=w._queueHooks(e,t);"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete r.stop,s.call(e,(function(){w.dequeue(e,t)}),r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return re.get(e,i)||re.access(e,i,{empty:w.Callbacks("once memory").add((function(){re.remove(e,[t+"queue",i])}))})}}),w.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?w.queue(this[0],e):void 0===t?this:this.each((function(){var i=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&w.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){w.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,s=w.Deferred(),r=this,o=this.length,a=function(){--n||s.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(i=re.get(r[o],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ce=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),ue=["Top","Right","Bottom","Left"],pe=g.documentElement,me=function(e){return w.contains(e.ownerDocument,e)},fe={composed:!0};pe.getRootNode&&(me=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(fe)===e.ownerDocument});var ge=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&me(e)&&"none"===w.css(e,"display")};function ve(e,t,i,n){var s,r,o=20,a=n?function(){return n.cur()}:function(){return w.css(e,t,"")},h=a(),l=i&&i[3]||(w.cssNumber[t]?"":"px"),d=e.nodeType&&(w.cssNumber[t]||"px"!==l&&+h)&&ce.exec(w.css(e,t));if(d&&d[3]!==l){for(h/=2,l=l||d[3],d=+h||1;o--;)w.style(e,t,d+l),(1-r)*(1-(r=a()/h||.5))<=0&&(o=0),d/=r;d*=2,w.style(e,t,d+l),i=i||[]}return i&&(d=+d||+h||0,s=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=d,n.end=s)),s}var ye={};function Ae(e){var t,i=e.ownerDocument,n=e.nodeName,s=ye[n];return s||(t=i.body.appendChild(i.createElement(n)),s=w.css(t,"display"),t.parentNode.removeChild(t),"none"===s&&(s="block"),ye[n]=s,s)}function xe(e,t){for(var i,n,s=[],r=0,o=e.length;r<o;r++)(n=e[r]).style&&(i=n.style.display,t?("none"===i&&(s[r]=re.get(n,"display")||null,s[r]||(n.style.display="")),""===n.style.display&&ge(n)&&(s[r]=Ae(n))):"none"!==i&&(s[r]="none",re.set(n,"display",i)));for(r=0;r<o;r++)null!=s[r]&&(e[r].style.display=s[r]);return e}w.fn.extend({show:function(){return xe(this,!0)},hide:function(){return xe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ge(this)?w(this).show():w(this).hide()}))}});var be,we,ke=/^(?:checkbox|radio)$/i,Ce=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ee=/^$|^module$|\/(?:java|ecma)script/i;be=g.createDocumentFragment().appendChild(g.createElement("div")),(we=g.createElement("input")).setAttribute("type","radio"),we.setAttribute("checked","checked"),we.setAttribute("name","t"),be.appendChild(we),p.checkClone=be.cloneNode(!0).cloneNode(!0).lastChild.checked,be.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!be.cloneNode(!0).lastChild.defaultValue,be.innerHTML="<option></option>",p.option=!!be.lastChild;var De={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ne(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&C(e,t)?w.merge([e],i):i}function Ie(e,t){for(var i=0,n=e.length;i<n;i++)re.set(e[i],"globalEval",!t||re.get(t[i],"globalEval"))}De.tbody=De.tfoot=De.colgroup=De.caption=De.thead,De.th=De.td,p.option||(De.optgroup=De.option=[1,"<select multiple='multiple'>","</select>"]);var Se=/<|&#?\w+;/;function Be(e,t,i,n,s){for(var r,o,a,h,l,d,c=t.createDocumentFragment(),u=[],p=0,m=e.length;p<m;p++)if((r=e[p])||0===r)if("object"===A(r))w.merge(u,r.nodeType?[r]:r);else if(Se.test(r)){for(o=o||c.appendChild(t.createElement("div")),a=(Ce.exec(r)||["",""])[1].toLowerCase(),h=De[a]||De._default,o.innerHTML=h[1]+w.htmlPrefilter(r)+h[2],d=h[0];d--;)o=o.lastChild;w.merge(u,o.childNodes),(o=c.firstChild).textContent=""}else u.push(t.createTextNode(r));for(c.textContent="",p=0;r=u[p++];)if(n&&w.inArray(r,n)>-1)s&&s.push(r);else if(l=me(r),o=Ne(c.appendChild(r),"script"),l&&Ie(o),i)for(d=0;r=o[d++];)Ee.test(r.type||"")&&i.push(r);return c}var Me=/^([^.]*)(?:\.(.+)|)/;function Te(){return!0}function Le(){return!1}function Pe(e,t,i,n,s,r){var o,a;if("object"==typeof t){for(a in"string"!=typeof i&&(n=n||i,i=void 0),t)Pe(e,a,i,n,t[a],r);return e}if(null==n&&null==s?(s=i,n=i=void 0):null==s&&("string"==typeof i?(s=n,n=void 0):(s=n,n=i,i=void 0)),!1===s)s=Le;else if(!s)return e;return 1===r&&(o=s,s=function(e){return w().off(e),o.apply(this,arguments)},s.guid=o.guid||(o.guid=w.guid++)),e.each((function(){w.event.add(this,t,s,n,i)}))}function Oe(e,t,i){i?(re.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var i,n=re.get(this,t);if(1&e.isTrigger&&this[t]){if(n)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(n=s.call(arguments),re.set(this,t,n),this[t](),i=re.get(this,t),re.set(this,t,!1),n!==i)return e.stopImmediatePropagation(),e.preventDefault(),i}else n&&(re.set(this,t,w.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Te)}})):void 0===re.get(e,t)&&w.event.add(e,t,Te)}w.event={global:{},add:function(e,t,i,n,s){var r,o,a,h,l,d,c,u,p,m,f,g=re.get(e);if(ne(e))for(i.handler&&(i=(r=i).handler,s=r.selector),s&&w.find.matchesSelector(pe,s),i.guid||(i.guid=w.guid++),(h=g.events)||(h=g.events=Object.create(null)),(o=g.handle)||(o=g.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(V)||[""]).length;l--;)p=f=(a=Me.exec(t[l])||[])[1],m=(a[2]||"").split(".").sort(),p&&(c=w.event.special[p]||{},p=(s?c.delegateType:c.bindType)||p,c=w.event.special[p]||{},d=w.extend({type:p,origType:f,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&w.expr.match.needsContext.test(s),namespace:m.join(".")},r),(u=h[p])||((u=h[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,n,m,o)||e.addEventListener&&e.addEventListener(p,o)),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),s?u.splice(u.delegateCount++,0,d):u.push(d),w.event.global[p]=!0)},remove:function(e,t,i,n,s){var r,o,a,h,l,d,c,u,p,m,f,g=re.hasData(e)&&re.get(e);if(g&&(h=g.events)){for(l=(t=(t||"").match(V)||[""]).length;l--;)if(p=f=(a=Me.exec(t[l])||[])[1],m=(a[2]||"").split(".").sort(),p){for(c=w.event.special[p]||{},u=h[p=(n?c.delegateType:c.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=u.length;r--;)d=u[r],!s&&f!==d.origType||i&&i.guid!==d.guid||a&&!a.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(u.splice(r,1),d.selector&&u.delegateCount--,c.remove&&c.remove.call(e,d));o&&!u.length&&(c.teardown&&!1!==c.teardown.call(e,m,g.handle)||w.removeEvent(e,p,g.handle),delete h[p])}else for(p in h)w.event.remove(e,p+t[l],i,n,!0);w.isEmptyObject(h)&&re.remove(e,"handle events")}},dispatch:function(e){var t,i,n,s,r,o,a=new Array(arguments.length),h=w.event.fix(e),l=(re.get(this,"events")||Object.create(null))[h.type]||[],d=w.event.special[h.type]||{};for(a[0]=h,t=1;t<arguments.length;t++)a[t]=arguments[t];if(h.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,h)){for(o=w.event.handlers.call(this,h,l),t=0;(s=o[t++])&&!h.isPropagationStopped();)for(h.currentTarget=s.elem,i=0;(r=s.handlers[i++])&&!h.isImmediatePropagationStopped();)h.rnamespace&&!1!==r.namespace&&!h.rnamespace.test(r.namespace)||(h.handleObj=r,h.data=r.data,void 0!==(n=((w.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,a))&&!1===(h.result=n)&&(h.preventDefault(),h.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,h),h.result}},handlers:function(e,t){var i,n,s,r,o,a=[],h=t.delegateCount,l=e.target;if(h&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(r=[],o={},i=0;i<h;i++)void 0===o[s=(n=t[i]).selector+" "]&&(o[s]=n.needsContext?w(s,this).index(l)>-1:w.find(s,this,null,[l]).length),o[s]&&r.push(n);r.length&&a.push({elem:l,handlers:r})}return l=this,h<t.length&&a.push({elem:l,handlers:t.slice(h)}),a},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ke.test(t.type)&&t.click&&C(t,"input")&&Oe(t,"click",!0),!1},trigger:function(e){var t=this||e;return ke.test(t.type)&&t.click&&C(t,"input")&&Oe(t,"click"),!0},_default:function(e){var t=e.target;return ke.test(t.type)&&t.click&&C(t,"input")&&re.get(t,"click")||C(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Te:Le,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Le,isPropagationStopped:Le,isImmediatePropagationStopped:Le,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Te,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Te,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Te,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(e,t){function i(e){if(g.documentMode){var i=re.get(this,"handle"),n=w.event.fix(e);n.type="focusin"===e.type?"focus":"blur",n.isSimulated=!0,i(e),n.target===n.currentTarget&&i(n)}else w.event.simulate(t,e.target,w.event.fix(e))}w.event.special[e]={setup:function(){var n;if(Oe(this,e,!0),!g.documentMode)return!1;(n=re.get(this,t))||this.addEventListener(t,i),re.set(this,t,(n||0)+1)},trigger:function(){return Oe(this,e),!0},teardown:function(){var e;if(!g.documentMode)return!1;(e=re.get(this,t)-1)?re.set(this,t,e):(this.removeEventListener(t,i),re.remove(this,t))},_default:function(t){return re.get(t.target,e)},delegateType:t},w.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,s=g.documentMode?this:n,r=re.get(s,t);r||(g.documentMode?this.addEventListener(t,i):n.addEventListener(e,i,!0)),re.set(s,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,s=g.documentMode?this:n,r=re.get(s,t)-1;r?re.set(s,t,r):(g.documentMode?this.removeEventListener(t,i):n.removeEventListener(e,i,!0),re.remove(s,t))}}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,s=e.handleObj;return n&&(n===this||w.contains(this,n))||(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}})),w.fn.extend({on:function(e,t,i,n){return Pe(this,e,t,i,n)},one:function(e,t,i,n){return Pe(this,e,t,i,n,1)},off:function(e,t,i){var n,s;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,w(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=Le),this.each((function(){w.event.remove(this,e,i,t)}))}});var Re=/<script|<style|<link/i,_e=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ze(e,t){return C(e,"table")&&C(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Qe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function He(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function je(e,t){var i,n,s,r,o,a;if(1===t.nodeType){if(re.hasData(e)&&(a=re.get(e).events))for(s in re.remove(t,"handle events"),a)for(i=0,n=a[s].length;i<n;i++)w.event.add(t,s,a[s][i]);oe.hasData(e)&&(r=oe.access(e),o=w.extend({},r),oe.set(t,o))}}function qe(e,t){var i=t.nodeName.toLowerCase();"input"===i&&ke.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function We(e,t,i,n){t=r(t);var s,o,a,h,l,d,c=0,u=e.length,f=u-1,g=t[0],v=m(g);if(v||u>1&&"string"==typeof g&&!p.checkClone&&_e.test(g))return e.each((function(s){var r=e.eq(s);v&&(t[0]=g.call(this,s,r.html())),We(r,t,i,n)}));if(u&&(o=(s=Be(t,e[0].ownerDocument,!1,e,n)).firstChild,1===s.childNodes.length&&(s=o),o||n)){for(h=(a=w.map(Ne(s,"script"),Qe)).length;c<u;c++)l=s,c!==f&&(l=w.clone(l,!0,!0),h&&w.merge(a,Ne(l,"script"))),i.call(e[c],l,c);if(h)for(d=a[a.length-1].ownerDocument,w.map(a,He),c=0;c<h;c++)l=a[c],Ee.test(l.type||"")&&!re.access(l,"globalEval")&&w.contains(d,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&!l.noModule&&w._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},d):y(l.textContent.replace(Fe,""),l,d))}return e}function Ve(e,t,i){for(var n,s=t?w.filter(t,e):e,r=0;null!=(n=s[r]);r++)i||1!==n.nodeType||w.cleanData(Ne(n)),n.parentNode&&(i&&me(n)&&Ie(Ne(n,"script")),n.parentNode.removeChild(n));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,i){var n,s,r,o,a=e.cloneNode(!0),h=me(e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(o=Ne(a),n=0,s=(r=Ne(e)).length;n<s;n++)qe(r[n],o[n]);if(t)if(i)for(r=r||Ne(e),o=o||Ne(a),n=0,s=r.length;n<s;n++)je(r[n],o[n]);else je(e,a);return(o=Ne(a,"script")).length>0&&Ie(o,!h&&Ne(e,"script")),a},cleanData:function(e){for(var t,i,n,s=w.event.special,r=0;void 0!==(i=e[r]);r++)if(ne(i)){if(t=i[re.expando]){if(t.events)for(n in t.events)s[n]?w.event.remove(i,n):w.removeEvent(i,n,t.handle);i[re.expando]=void 0}i[oe.expando]&&(i[oe.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Ve(this,e,!0)},remove:function(e){return Ve(this,e)},text:function(e){return Z(this,(function(e){return void 0===e?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return We(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ze(this,e).appendChild(e)}))},prepend:function(){return We(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ze(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return We(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return We(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(Ne(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return w.clone(this,e,t)}))},html:function(e){return Z(this,(function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Re.test(e)&&!De[(Ce.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(w.cleanData(Ne(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return We(this,arguments,(function(t){var i=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(Ne(this)),i&&i.replaceChild(t,this))}),e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){w.fn[e]=function(e){for(var i,n=[],s=w(e),r=s.length-1,a=0;a<=r;a++)i=a===r?this:this.clone(!0),w(s[a])[t](i),o.apply(n,i.get());return this.pushStack(n)}}));var Ue=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),Xe=/^--/,Ge=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},Ye=function(e,t,i){var n,s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];for(s in n=i.call(e),t)e.style[s]=r[s];return n},Ke=new RegExp(ue.join("|"),"i");function Je(e,t,i){var n,s,r,o,a=Xe.test(t),h=e.style;return(i=i||Ge(e))&&(o=i.getPropertyValue(t)||i[t],a&&o&&(o=o.replace(S,"$1")||void 0),""!==o||me(e)||(o=w.style(e,t)),!p.pixelBoxStyles()&&Ue.test(o)&&Ke.test(t)&&(n=h.width,s=h.minWidth,r=h.maxWidth,h.minWidth=h.maxWidth=h.width=o,o=i.width,h.width=n,h.minWidth=s,h.maxWidth=r)),void 0!==o?o+"":o}function Ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(d){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",pe.appendChild(l).appendChild(d);var t=e.getComputedStyle(d);n="1%"!==t.top,h=12===i(t.marginLeft),d.style.right="60%",o=36===i(t.right),s=36===i(t.width),d.style.position="absolute",r=12===i(d.offsetWidth/3),pe.removeChild(l),d=null}}function i(e){return Math.round(parseFloat(e))}var n,s,r,o,a,h,l=g.createElement("div"),d=g.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===d.style.backgroundClip,w.extend(p,{boxSizingReliable:function(){return t(),s},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),h},scrollboxSize:function(){return t(),r},reliableTrDimensions:function(){var t,i,n,s;return null==a&&(t=g.createElement("table"),i=g.createElement("tr"),n=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",i.style.cssText="box-sizing:content-box;border:1px solid",i.style.height="1px",n.style.height="9px",n.style.display="block",pe.appendChild(t).appendChild(i).appendChild(n),s=e.getComputedStyle(i),a=parseInt(s.height,10)+parseInt(s.borderTopWidth,10)+parseInt(s.borderBottomWidth,10)===i.offsetHeight,pe.removeChild(t)),a}}))}();var $e=["Webkit","Moz","ms"],et=g.createElement("div").style,tt={};function it(e){var t=w.cssProps[e]||tt[e];return t||(e in et?e:tt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=$e.length;i--;)if((e=$e[i]+t)in et)return e}(e)||e)}var nt=/^(none|table(?!-c[ea]).+)/,st={position:"absolute",visibility:"hidden",display:"block"},rt={letterSpacing:"0",fontWeight:"400"};function ot(e,t,i){var n=ce.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function at(e,t,i,n,s,r){var o="width"===t?1:0,a=0,h=0,l=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(l+=w.css(e,i+ue[o],!0,s)),n?("content"===i&&(h-=w.css(e,"padding"+ue[o],!0,s)),"margin"!==i&&(h-=w.css(e,"border"+ue[o]+"Width",!0,s))):(h+=w.css(e,"padding"+ue[o],!0,s),"padding"!==i?h+=w.css(e,"border"+ue[o]+"Width",!0,s):a+=w.css(e,"border"+ue[o]+"Width",!0,s));return!n&&r>=0&&(h+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-h-a-.5))||0),h+l}function ht(e,t,i){var n=Ge(e),s=(!p.boxSizingReliable()||i)&&"border-box"===w.css(e,"boxSizing",!1,n),r=s,o=Je(e,t,n),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ue.test(o)){if(!i)return o;o="auto"}return(!p.boxSizingReliable()&&s||!p.reliableTrDimensions()&&C(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===w.css(e,"display",!1,n))&&e.getClientRects().length&&(s="border-box"===w.css(e,"boxSizing",!1,n),(r=a in e)&&(o=e[a])),(o=parseFloat(o)||0)+at(e,t,i||(s?"border":"content"),r,n,o)+"px"}function lt(e,t,i,n,s){return new lt.prototype.init(e,t,i,n,s)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Je(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,r,o,a=ie(t),h=Xe.test(t),l=e.style;if(h||(t=it(a)),o=w.cssHooks[t]||w.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(s=o.get(e,!1,n))?s:l[t];"string"===(r=typeof i)&&(s=ce.exec(i))&&s[1]&&(i=ve(e,t,s),r="number"),null!=i&&i==i&&("number"!==r||h||(i+=s&&s[3]||(w.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(h?l.setProperty(t,i):l[t]=i))}},css:function(e,t,i,n){var s,r,o,a=ie(t);return Xe.test(t)||(t=it(a)),(o=w.cssHooks[t]||w.cssHooks[a])&&"get"in o&&(s=o.get(e,!0,i)),void 0===s&&(s=Je(e,t,n)),"normal"===s&&t in rt&&(s=rt[t]),""===i||i?(r=parseFloat(s),!0===i||isFinite(r)?r||0:s):s}}),w.each(["height","width"],(function(e,t){w.cssHooks[t]={get:function(e,i,n){if(i)return!nt.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ht(e,t,n):Ye(e,st,(function(){return ht(e,t,n)}))},set:function(e,i,n){var s,r=Ge(e),o=!p.scrollboxSize()&&"absolute"===r.position,a=(o||n)&&"border-box"===w.css(e,"boxSizing",!1,r),h=n?at(e,t,n,a,r):0;return a&&o&&(h-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-at(e,t,"border",!1,r)-.5)),h&&(s=ce.exec(i))&&"px"!==(s[3]||"px")&&(e.style[t]=i,i=w.css(e,t)),ot(0,i,h)}}})),w.cssHooks.marginLeft=Ze(p.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Je(e,"marginLeft"))||e.getBoundingClientRect().left-Ye(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(e,t){w.cssHooks[e+t]={expand:function(i){for(var n=0,s={},r="string"==typeof i?i.split(" "):[i];n<4;n++)s[e+ue[n]+t]=r[n]||r[n-2]||r[0];return s}},"margin"!==e&&(w.cssHooks[e+t].set=ot)})),w.fn.extend({css:function(e,t){return Z(this,(function(e,t,i){var n,s,r={},o=0;if(Array.isArray(t)){for(n=Ge(e),s=t.length;o<s;o++)r[t[o]]=w.css(e,t[o],!1,n);return r}return void 0!==i?w.style(e,t,i):w.css(e,t)}),e,t,arguments.length>1)}}),w.Tween=lt,lt.prototype={constructor:lt,init:function(e,t,i,n,s,r){this.elem=e,this.prop=i,this.easing=s||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(w.cssNumber[i]?"":"px")},cur:function(){var e=lt.propHooks[this.prop];return e&&e.get?e.get(this):lt.propHooks._default.get(this)},run:function(e){var t,i=lt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):lt.propHooks._default.set(this),this}},lt.prototype.init.prototype=lt.prototype,lt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[it(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},lt.propHooks.scrollTop=lt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=lt.prototype.init,w.fx.step={};var dt,ct,ut=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function mt(){ct&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(mt):e.setTimeout(mt,w.fx.interval),w.fx.tick())}function ft(){return e.setTimeout((function(){dt=void 0})),dt=Date.now()}function gt(e,t){var i,n=0,s={height:e};for(t=t?1:0;n<4;n+=2-t)s["margin"+(i=ue[n])]=s["padding"+i]=e;return t&&(s.opacity=s.width=e),s}function vt(e,t,i){for(var n,s=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),r=0,o=s.length;r<o;r++)if(n=s[r].call(i,t,e))return n}function yt(e,t,i){var n,s,r=0,o=yt.prefilters.length,a=w.Deferred().always((function(){delete h.elem})),h=function(){if(s)return!1;for(var t=dt||ft(),i=Math.max(0,l.startTime+l.duration-t),n=1-(i/l.duration||0),r=0,o=l.tweens.length;r<o;r++)l.tweens[r].run(n);return a.notifyWith(e,[l,n,i]),n<1&&o?i:(o||a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},i),originalProperties:t,originalOptions:i,startTime:dt||ft(),duration:i.duration,tweens:[],createTween:function(t,i){var n=w.Tween(e,l.opts,t,i,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){var i=0,n=t?l.tweens.length:0;if(s)return this;for(s=!0;i<n;i++)l.tweens[i].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),d=l.props;for(!function(e,t){var i,n,s,r,o;for(i in e)if(s=t[n=ie(i)],r=e[i],Array.isArray(r)&&(s=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),(o=w.cssHooks[n])&&"expand"in o)for(i in r=o.expand(r),delete e[n],r)i in e||(e[i]=r[i],t[i]=s);else t[n]=s}(d,l.opts.specialEasing);r<o;r++)if(n=yt.prefilters[r].call(l,e,d,l.opts))return m(n.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return w.map(d,vt,l),m(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(h,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(yt,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return ve(i.elem,e,ce.exec(t),i),i}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(V);for(var i,n=0,s=e.length;n<s;n++)i=e[n],yt.tweeners[i]=yt.tweeners[i]||[],yt.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,s,r,o,a,h,l,d,c="width"in t||"height"in t,u=this,p={},m=e.style,f=e.nodeType&&ge(e),g=re.get(e,"fxshow");for(n in i.queue||(null==(o=w._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,u.always((function(){u.always((function(){o.unqueued--,w.queue(e,"fx").length||o.empty.fire()}))}))),t)if(s=t[n],ut.test(s)){if(delete t[n],r=r||"toggle"===s,s===(f?"hide":"show")){if("show"!==s||!g||void 0===g[n])continue;f=!0}p[n]=g&&g[n]||w.style(e,n)}if((h=!w.isEmptyObject(t))||!w.isEmptyObject(p))for(n in c&&1===e.nodeType&&(i.overflow=[m.overflow,m.overflowX,m.overflowY],null==(l=g&&g.display)&&(l=re.get(e,"display")),"none"===(d=w.css(e,"display"))&&(l?d=l:(xe([e],!0),l=e.style.display||l,d=w.css(e,"display"),xe([e]))),("inline"===d||"inline-block"===d&&null!=l)&&"none"===w.css(e,"float")&&(h||(u.done((function(){m.display=l})),null==l&&(d=m.display,l="none"===d?"":d)),m.display="inline-block")),i.overflow&&(m.overflow="hidden",u.always((function(){m.overflow=i.overflow[0],m.overflowX=i.overflow[1],m.overflowY=i.overflow[2]}))),h=!1,p)h||(g?"hidden"in g&&(f=g.hidden):g=re.access(e,"fxshow",{display:l}),r&&(g.hidden=!f),f&&xe([e],!0),u.done((function(){for(n in f||xe([e]),re.remove(e,"fxshow"),p)w.style(e,n,p[n])}))),h=vt(f?g[n]:0,n,u),n in g||(g[n]=h.start,f&&(h.end=h.start,h.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),w.speed=function(e,t,i){var n=e&&"object"==typeof e?w.extend({},e):{complete:i||!i&&t||m(e)&&e,duration:e,easing:i&&t||t&&!m(t)&&t};return w.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in w.fx.speeds?n.duration=w.fx.speeds[n.duration]:n.duration=w.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){m(n.old)&&n.old.call(this),n.queue&&w.dequeue(this,n.queue)},n},w.fn.extend({fadeTo:function(e,t,i,n){return this.filter(ge).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=w.isEmptyObject(e),r=w.speed(t,i,n),o=function(){var t=yt(this,w.extend({},e),r);(s||re.get(this,"finish"))&&t.stop(!0)};return o.finish=o,s||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,s=null!=e&&e+"queueHooks",r=w.timers,o=re.get(this);if(s)o[s]&&o[s].stop&&n(o[s]);else for(s in o)o[s]&&o[s].stop&&pt.test(s)&&n(o[s]);for(s=r.length;s--;)r[s].elem!==this||null!=e&&r[s].queue!==e||(r[s].anim.stop(i),t=!1,r.splice(s,1));!t&&i||w.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,i=re.get(this),n=i[e+"queue"],s=i[e+"queueHooks"],r=w.timers,o=n?n.length:0;for(i.finish=!0,w.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish}))}}),w.each(["toggle","show","hide"],(function(e,t){var i=w.fn[t];w.fn[t]=function(e,n,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(gt(t,!0),e,n,s)}})),w.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){w.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}})),w.timers=[],w.fx.tick=function(){var e,t=0,i=w.timers;for(dt=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||w.fx.stop(),dt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){ct||(ct=!0,mt())},w.fx.stop=function(){ct=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,i){return t=w.fx&&w.fx.speeds[t]||t,i=i||"fx",this.queue(i,(function(i,n){var s=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(s)}}))},function(){var e=g.createElement("input"),t=g.createElement("select").appendChild(g.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=t.selected,(e=g.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var At,xt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return Z(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){w.removeAttr(this,e)}))}}),w.extend({attr:function(e,t,i){var n,s,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?w.prop(e,t,i):(1===r&&w.isXMLDoc(e)||(s=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?At:void 0)),void 0!==i?null===i?void w.removeAttr(e,t):s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:(e.setAttribute(t,i+""),i):s&&"get"in s&&null!==(n=s.get(e,t))?n:null==(n=w.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&C(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,s=t&&t.match(V);if(s&&1===e.nodeType)for(;i=s[n++];)e.removeAttribute(i)}}),At={set:function(e,t,i){return!1===t?w.removeAttr(e,i):e.setAttribute(i,i),i}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(e,t){var i=xt[t]||w.find.attr;xt[t]=function(e,t,n){var s,r,o=t.toLowerCase();return n||(r=xt[o],xt[o]=s,s=null!=i(e,t,n)?o:null,xt[o]=r),s}}));var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;function kt(e){return(e.match(V)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(V)||[]}w.fn.extend({prop:function(e,t){return Z(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[w.propFix[e]||e]}))}}),w.extend({prop:function(e,t,i){var n,s,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&w.isXMLDoc(e)||(t=w.propFix[t]||t,s=w.propHooks[t]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:e[t]=i:s&&"get"in s&&null!==(n=s.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(e){var t,i,n,s,r,o;return m(e)?this.each((function(t){w(this).addClass(e.call(this,t,Ct(this)))})):(t=Et(e)).length?this.each((function(){if(n=Ct(this),i=1===this.nodeType&&" "+kt(n)+" "){for(r=0;r<t.length;r++)s=t[r],i.indexOf(" "+s+" ")<0&&(i+=s+" ");o=kt(i),n!==o&&this.setAttribute("class",o)}})):this},removeClass:function(e){var t,i,n,s,r,o;return m(e)?this.each((function(t){w(this).removeClass(e.call(this,t,Ct(this)))})):arguments.length?(t=Et(e)).length?this.each((function(){if(n=Ct(this),i=1===this.nodeType&&" "+kt(n)+" "){for(r=0;r<t.length;r++)for(s=t[r];i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");o=kt(i),n!==o&&this.setAttribute("class",o)}})):this:this.attr("class","")},toggleClass:function(e,t){var i,n,s,r,o=typeof e,a="string"===o||Array.isArray(e);return m(e)?this.each((function(i){w(this).toggleClass(e.call(this,i,Ct(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(i=Et(e),this.each((function(){if(a)for(r=w(this),s=0;s<i.length;s++)n=i[s],r.hasClass(n)?r.removeClass(n):r.addClass(n);else void 0!==e&&"boolean"!==o||((n=Ct(this))&&re.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===e?"":re.get(this,"__className__")||""))})))},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+kt(Ct(i))+" ").indexOf(t)>-1)return!0;return!1}});var Dt=/\r/g;w.fn.extend({val:function(e){var t,i,n,s=this[0];return arguments.length?(n=m(e),this.each((function(i){var s;1===this.nodeType&&(null==(s=n?e.call(this,i,w(this).val()):e)?s="":"number"==typeof s?s+="":Array.isArray(s)&&(s=w.map(s,(function(e){return null==e?"":e+""}))),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))}))):s?(t=w.valHooks[s.type]||w.valHooks[s.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(s,"value"))?i:"string"==typeof(i=s.value)?i.replace(Dt,""):null==i?"":i:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:kt(w.text(e))}},select:{get:function(e){var t,i,n,s=e.options,r=e.selectedIndex,o="select-one"===e.type,a=o?null:[],h=o?r+1:s.length;for(n=r<0?h:o?r:0;n<h;n++)if(((i=s[n]).selected||n===r)&&!i.disabled&&(!i.parentNode.disabled||!C(i.parentNode,"optgroup"))){if(t=w(i).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var i,n,s=e.options,r=w.makeArray(t),o=s.length;o--;)((n=s[o]).selected=w.inArray(w.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(e.selectedIndex=-1),r}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},p.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Nt=e.location,It={guid:Date.now()},St=/\?/;w.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){}return n=i&&i.getElementsByTagName("parsererror")[0],i&&!n||w.error("Invalid XML: "+(n?w.map(n.childNodes,(function(e){return e.textContent})).join("\n"):t)),i};var Bt=/^(?:focusinfocus|focusoutblur)$/,Mt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,i,n,s){var r,o,a,h,l,c,u,p,v=[n||g],y=d.call(t,"type")?t.type:t,A=d.call(t,"namespace")?t.namespace.split("."):[];if(o=p=a=n=n||g,3!==n.nodeType&&8!==n.nodeType&&!Bt.test(y+w.event.triggered)&&(y.indexOf(".")>-1&&(A=y.split("."),y=A.shift(),A.sort()),l=y.indexOf(":")<0&&"on"+y,(t=t[w.expando]?t:new w.Event(y,"object"==typeof t&&t)).isTrigger=s?2:3,t.namespace=A.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+A.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:w.makeArray(i,[t]),u=w.event.special[y]||{},s||!u.trigger||!1!==u.trigger.apply(n,i))){if(!s&&!u.noBubble&&!f(n)){for(h=u.delegateType||y,Bt.test(h+y)||(o=o.parentNode);o;o=o.parentNode)v.push(o),a=o;a===(n.ownerDocument||g)&&v.push(a.defaultView||a.parentWindow||e)}for(r=0;(o=v[r++])&&!t.isPropagationStopped();)p=o,t.type=r>1?h:u.bindType||y,(c=(re.get(o,"events")||Object.create(null))[t.type]&&re.get(o,"handle"))&&c.apply(o,i),(c=l&&o[l])&&c.apply&&ne(o)&&(t.result=c.apply(o,i),!1===t.result&&t.preventDefault());return t.type=y,s||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(v.pop(),i)||!ne(n)||l&&m(n[y])&&!f(n)&&((a=n[l])&&(n[l]=null),w.event.triggered=y,t.isPropagationStopped()&&p.addEventListener(y,Mt),n[y](),t.isPropagationStopped()&&p.removeEventListener(y,Mt),w.event.triggered=void 0,a&&(n[l]=a)),t.result}},simulate:function(e,t,i){var n=w.extend(new w.Event,i,{type:e,isSimulated:!0});w.event.trigger(n,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each((function(){w.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var i=this[0];if(i)return w.event.trigger(e,t,i,!0)}});var Tt=/\[\]$/,Lt=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Rt(e,t,i,n){var s;if(Array.isArray(t))w.each(t,(function(t,s){i||Tt.test(e)?n(e,s):Rt(e+"["+("object"==typeof s&&null!=s?t:"")+"]",s,i,n)}));else if(i||"object"!==A(t))n(e,t);else for(s in t)Rt(e+"["+s+"]",t[s],i,n)}w.param=function(e,t){var i,n=[],s=function(e,t){var i=m(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,(function(){s(this.name,this.value)}));else for(i in e)Rt(i,e[i],t,s);return n.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&Ot.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!ke.test(e))})).map((function(e,t){var i=w(this).val();return null==i?null:Array.isArray(i)?w.map(i,(function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}})):{name:t.name,value:i.replace(Lt,"\r\n")}})).get()}});var _t=/%20/g,Ft=/#.*$/,zt=/([?&])_=[^&]*/,Qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ht=/^(?:GET|HEAD)$/,jt=/^\/\//,qt={},Wt={},Vt="*/".concat("*"),Ut=g.createElement("a");function Xt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s=0,r=t.toLowerCase().match(V)||[];if(m(i))for(;n=r[s++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Gt(e,t,i,n){var s={},r=e===Wt;function o(a){var h;return s[a]=!0,w.each(e[a]||[],(function(e,a){var l=a(t,i,n);return"string"!=typeof l||r||s[l]?r?!(h=l):void 0:(t.dataTypes.unshift(l),o(l),!1)})),h}return o(t.dataTypes[0])||!s["*"]&&o("*")}function Yt(e,t){var i,n,s=w.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((s[i]?e:n||(n={}))[i]=t[i]);return n&&w.extend(!0,e,n),e}Ut.href=Nt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Nt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Yt(Yt(e,w.ajaxSettings),t):Yt(w.ajaxSettings,e)},ajaxPrefilter:Xt(qt),ajaxTransport:Xt(Wt),ajax:function(t,i){"object"==typeof t&&(i=t,t=void 0),i=i||{};var n,s,r,o,a,h,l,d,c,u,p=w.ajaxSetup({},i),m=p.context||p,f=p.context&&(m.nodeType||m.jquery)?w(m):w.event,v=w.Deferred(),y=w.Callbacks("once memory"),A=p.statusCode||{},x={},b={},k="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(l){if(!o)for(o={};t=Qt.exec(r);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?r:null},setRequestHeader:function(e,t){return null==l&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==l&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)C.always(e[C.status]);else for(t in e)A[t]=[A[t],e[t]];return this},abort:function(e){var t=e||k;return n&&n.abort(t),E(0,t),this}};if(v.promise(C),p.url=((t||p.url||Nt.href)+"").replace(jt,Nt.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(V)||[""],null==p.crossDomain){h=g.createElement("a");try{h.href=p.url,h.href=h.href,p.crossDomain=Ut.protocol+"//"+Ut.host!=h.protocol+"//"+h.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),Gt(qt,p,i,C),l)return C;for(c in(d=w.event&&p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ht.test(p.type),s=p.url.replace(Ft,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(_t,"+")):(u=p.url.slice(s.length),p.data&&(p.processData||"string"==typeof p.data)&&(s+=(St.test(s)?"&":"?")+p.data,delete p.data),!1===p.cache&&(s=s.replace(zt,"$1"),u=(St.test(s)?"&":"?")+"_="+It.guid+++u),p.url=s+u),p.ifModified&&(w.lastModified[s]&&C.setRequestHeader("If-Modified-Since",w.lastModified[s]),w.etag[s]&&C.setRequestHeader("If-None-Match",w.etag[s])),(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Vt+"; q=0.01":""):p.accepts["*"]),p.headers)C.setRequestHeader(c,p.headers[c]);if(p.beforeSend&&(!1===p.beforeSend.call(m,C,p)||l))return C.abort();if(k="abort",y.add(p.complete),C.done(p.success),C.fail(p.error),n=Gt(Wt,p,i,C)){if(C.readyState=1,d&&f.trigger("ajaxSend",[C,p]),l)return C;p.async&&p.timeout>0&&(a=e.setTimeout((function(){C.abort("timeout")}),p.timeout));try{l=!1,n.send(x,E)}catch(e){if(l)throw e;E(-1,e)}}else E(-1,"No Transport");function E(t,i,o,h){var c,u,g,x,b,k=i;l||(l=!0,a&&e.clearTimeout(a),n=void 0,r=h||"",C.readyState=t>0?4:0,c=t>=200&&t<300||304===t,o&&(x=function(e,t,i){for(var n,s,r,o,a=e.contents,h=e.dataTypes;"*"===h[0];)h.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(s in a)if(a[s]&&a[s].test(n)){h.unshift(s);break}if(h[0]in i)r=h[0];else{for(s in i){if(!h[0]||e.converters[s+" "+h[0]]){r=s;break}o||(o=s)}r=r||o}if(r)return r!==h[0]&&h.unshift(r),i[r]}(p,C,o)),!c&&w.inArray("script",p.dataTypes)>-1&&w.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),x=function(e,t,i,n){var s,r,o,a,h,l={},d=e.dataTypes.slice();if(d[1])for(o in e.converters)l[o.toLowerCase()]=e.converters[o];for(r=d.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!h&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),h=r,r=d.shift())if("*"===r)r=h;else if("*"!==h&&h!==r){if(!(o=l[h+" "+r]||l["* "+r]))for(s in l)if((a=s.split(" "))[1]===r&&(o=l[h+" "+a[0]]||l["* "+a[0]])){!0===o?o=l[s]:!0!==l[s]&&(r=a[0],d.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+h+" to "+r}}}return{state:"success",data:t}}(p,x,C,c),c?(p.ifModified&&((b=C.getResponseHeader("Last-Modified"))&&(w.lastModified[s]=b),(b=C.getResponseHeader("etag"))&&(w.etag[s]=b)),204===t||"HEAD"===p.type?k="nocontent":304===t?k="notmodified":(k=x.state,u=x.data,c=!(g=x.error))):(g=k,!t&&k||(k="error",t<0&&(t=0))),C.status=t,C.statusText=(i||k)+"",c?v.resolveWith(m,[u,k,C]):v.rejectWith(m,[C,k,g]),C.statusCode(A),A=void 0,d&&f.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?u:g]),y.fireWith(m,[C,k]),d&&(f.trigger("ajaxComplete",[C,p]),--w.active||w.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,i){return w.get(e,t,i,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],(function(e,t){w[t]=function(e,i,n,s){return m(i)&&(s=s||n,n=i,i=void 0),w.ajax(w.extend({url:e,type:t,dataType:s,data:i,success:n},w.isPlainObject(e)&&e))}})),w.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),w._evalUrl=function(e,t,i){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t,i)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return m(e)?this.each((function(t){w(this).wrapInner(e.call(this,t))})):this.each((function(){var t=w(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=m(e);return this.each((function(i){w(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Kt={0:200,1223:204},Jt=w.ajaxSettings.xhr();p.cors=!!Jt&&"withCredentials"in Jt,p.ajax=Jt=!!Jt,w.ajaxTransport((function(t){var i,n;if(p.cors||Jt&&!t.crossDomain)return{send:function(s,r){var o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];for(o in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest"),s)a.setRequestHeader(o,s[o]);i=function(e){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Kt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=a.ontimeout=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout((function(){i&&n()}))},i=i("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}})),w.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),w.ajaxTransport("script",(function(e){var t,i;if(e.crossDomain||e.scriptAttrs)return{send:function(n,s){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&s("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){i&&i()}}}));var Zt,$t=[],ei=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||w.expando+"_"+It.guid++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",(function(t,i,n){var s,r,o,a=!1!==t.jsonp&&(ei.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ei.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return s=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(ei,"$1"+s):!1!==t.jsonp&&(t.url+=(St.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return o||w.error(s+" was not called"),o[0]},t.dataTypes[0]="json",r=e[s],e[s]=function(){o=arguments},n.always((function(){void 0===r?w(e).removeProp(s):e[s]=r,t[s]&&(t.jsonpCallback=i.jsonpCallback,$t.push(s)),o&&m(r)&&r(o[0]),o=r=void 0})),"script"})),p.createHTMLDocument=((Zt=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Zt.childNodes.length),w.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(p.createHTMLDocument?((n=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(n)):t=g),r=!i&&[],(s=_.exec(e))?[t.createElement(s[1])]:(s=Be([e],t,r),r&&r.length&&w(r).remove(),w.merge([],s.childNodes)));var n,s,r},w.fn.load=function(e,t,i){var n,s,r,o=this,a=e.indexOf(" ");return a>-1&&(n=kt(e.slice(a)),e=e.slice(0,a)),m(t)?(i=t,t=void 0):t&&"object"==typeof t&&(s="POST"),o.length>0&&w.ajax({url:e,type:s||"GET",dataType:"html",data:t}).done((function(e){r=arguments,o.html(n?w("<div>").append(w.parseHTML(e)).find(n):e)})).always(i&&function(e,t){o.each((function(){i.apply(this,r||[e.responseText,t,e])}))}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,(function(t){return e===t.elem})).length},w.offset={setOffset:function(e,t,i){var n,s,r,o,a,h,l=w.css(e,"position"),d=w(e),c={};"static"===l&&(e.style.position="relative"),a=d.offset(),r=w.css(e,"top"),h=w.css(e,"left"),("absolute"===l||"fixed"===l)&&(r+h).indexOf("auto")>-1?(o=(n=d.position()).top,s=n.left):(o=parseFloat(r)||0,s=parseFloat(h)||0),m(t)&&(t=t.call(e,i,w.extend({},a))),null!=t.top&&(c.top=t.top-a.top+o),null!=t.left&&(c.left=t.left-a.left+s),"using"in t?t.using.call(e,c):d.css(c)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){w.offset.setOffset(this,e,t)}));var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],s={top:0,left:0};if("fixed"===w.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((s=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),s.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-s.top-w.css(n,"marginTop",!0),left:t.left-s.left-w.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||pe}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var i="pageYOffset"===t;w.fn[e]=function(n){return Z(this,(function(e,n,s){var r;if(f(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===s)return r?r[t]:e[n];r?r.scrollTo(i?r.pageXOffset:s,i?s:r.pageYOffset):e[n]=s}),e,n,arguments.length)}})),w.each(["top","left"],(function(e,t){w.cssHooks[t]=Ze(p.pixelPosition,(function(e,i){if(i)return i=Je(e,t),Ue.test(i)?w(e).position()[t]+"px":i}))})),w.each({Height:"height",Width:"width"},(function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},(function(i,n){w.fn[n]=function(s,r){var o=arguments.length&&(i||"boolean"!=typeof s),a=i||(!0===s||!0===r?"margin":"border");return Z(this,(function(t,i,s){var r;return f(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===s?w.css(t,i,a):w.style(t,i,s,a)}),t,o?s:void 0,o)}}))})),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){w.fn[t]=function(e){return this.on(t,e)}})),w.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){w.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}));var ti=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;w.proxy=function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),m(e))return n=s.call(arguments,2),r=function(){return e.apply(t||this,n.concat(s.call(arguments)))},r.guid=e.guid=e.guid||w.guid++,r},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=C,w.isFunction=m,w.isWindow=f,w.camelCase=ie,w.type=A,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?"":(e+"").replace(ti,"$1")};var ii=e.jQuery,ni=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=ni),t&&e.jQuery===w&&(e.jQuery=ii),w},void 0===t&&(e.jQuery=e.$=w),w}))})),ki=ke((function(e,t){e.exports=function e(t,i,n){function s(o,a){if(!i[o]){if(!t[o]){if(!a&&Ce)return Ce(o);if(r)return r(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var l=i[o]={exports:{}};t[o][0].call(l.exports,(function(e){return s(t[o][1][e]||e)}),l,l.exports,e,t,i,n)}return i[o].exports}for(var r=Ce,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,i){var n=e("./utils"),s=e("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(e){for(var t,i,s,o,a,h,l,d=[],c=0,u=e.length,p=u,m="string"!==n.getTypeOf(e);c<e.length;)p=u-c,s=m?(t=e[c++],i=c<u?e[c++]:0,c<u?e[c++]:0):(t=e.charCodeAt(c++),i=c<u?e.charCodeAt(c++):0,c<u?e.charCodeAt(c++):0),o=t>>2,a=(3&t)<<4|i>>4,h=1<p?(15&i)<<2|s>>6:64,l=2<p?63&s:64,d.push(r.charAt(o)+r.charAt(a)+r.charAt(h)+r.charAt(l));return d.join("")},i.decode=function(e){var t,i,n,o,a,h,l=0,d=0,c="data:";if(e.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var u,p=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===r.charAt(64)&&p--,e.charAt(e.length-2)===r.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=s.uint8array?new Uint8Array(0|p):new Array(0|p);l<e.length;)t=r.indexOf(e.charAt(l++))<<2|(o=r.indexOf(e.charAt(l++)))>>4,i=(15&o)<<4|(a=r.indexOf(e.charAt(l++)))>>2,n=(3&a)<<6|(h=r.indexOf(e.charAt(l++))),u[d++]=t,64!==a&&(u[d++]=i),64!==h&&(u[d++]=n);return u}},{"./support":30,"./utils":32}],2:[function(e,t,i){var n=e("./external"),s=e("./stream/DataWorker"),r=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function a(e,t,i,n,s){this.compressedSize=e,this.uncompressedSize=t,this.crc32=i,this.compression=n,this.compressedContent=s}a.prototype={getContentWorker:function(){var e=new s(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new s(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,i){return e.pipe(new r).pipe(new o("uncompressedSize")).pipe(t.compressWorker(i)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,i){var n=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,i){var n=e("./utils"),s=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,i,n){var r=s,o=n+i;e^=-1;for(var a=n;a<o;a++)e=e>>>8^r[255&(e^t[a])];return~e}(0|t,e,e.length,0):function(e,t,i,n){var r=s,o=n+i;e^=-1;for(var a=n;a<o;a++)e=e>>>8^r[255&(e^t.charCodeAt(a))];return~e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,t,i){var n=null;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,i){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,s=e("pako"),r=e("./utils"),o=e("./stream/GenericWorker"),a=n?"uint8array":"array";function h(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}i.magic="\b\0",r.inherits(h,o),h.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(r.transformTo(a,e.data),!1)},h.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},i.compressWorker=function(e){return new h("Deflate",e)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,i){function n(e,t){var i,n="";for(i=0;i<t;i++)n+=String.fromCharCode(255&e),e>>>=8;return n}function s(e,t,i,s,o,d){var c,u,p=e.file,m=e.compression,f=d!==a.utf8encode,g=r.transformTo("string",d(p.name)),v=r.transformTo("string",a.utf8encode(p.name)),y=p.comment,A=r.transformTo("string",d(y)),x=r.transformTo("string",a.utf8encode(y)),b=v.length!==p.name.length,w=x.length!==y.length,k="",C="",E="",D=p.dir,N=p.date,I={crc32:0,compressedSize:0,uncompressedSize:0};t&&!i||(I.crc32=e.crc32,I.compressedSize=e.compressedSize,I.uncompressedSize=e.uncompressedSize);var S=0;t&&(S|=8),f||!b&&!w||(S|=2048);var B=0,M=0;D&&(B|=16),"UNIX"===o?(M=798,B|=function(e,t){var i=e;return e||(i=t?16893:33204),(65535&i)<<16}(p.unixPermissions,D)):(M=20,B|=function(e){return 63&(e||0)}(p.dosPermissions)),c=N.getUTCHours(),c<<=6,c|=N.getUTCMinutes(),c<<=5,c|=N.getUTCSeconds()/2,u=N.getUTCFullYear()-1980,u<<=4,u|=N.getUTCMonth()+1,u<<=5,u|=N.getUTCDate(),b&&(C=n(1,1)+n(h(g),4)+v,k+="up"+n(C.length,2)+C),w&&(E=n(1,1)+n(h(A),4)+x,k+="uc"+n(E.length,2)+E);var T="";return T+="\n\0",T+=n(S,2),T+=m.magic,T+=n(c,2),T+=n(u,2),T+=n(I.crc32,4),T+=n(I.compressedSize,4),T+=n(I.uncompressedSize,4),T+=n(g.length,2),T+=n(k.length,2),{fileRecord:l.LOCAL_FILE_HEADER+T+g+k,dirRecord:l.CENTRAL_FILE_HEADER+n(M,2)+T+n(A.length,2)+"\0\0\0\0"+n(B,4)+n(s,4)+g+k+A}}var r=e("../utils"),o=e("../stream/GenericWorker"),a=e("../utf8"),h=e("../crc32"),l=e("../signature");function d(e,t,i,n){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=i,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(d,o),d.prototype.push=function(e){var t=e.meta.percent||0,i=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:i?(t+100*(i-n-1))/i:100}}))},d.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var i=s(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,i=s(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),t)this.push({data:function(e){return l.DATA_DESCRIPTOR+n(e.crc32,4)+n(e.compressedSize,4)+n(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var i=this.bytesWritten-e,s=function(e,t,i,s,o){var a=r.transformTo("string",o(s));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(i,4)+n(a.length,2)+a}(this.dirRecords.length,i,e,this.zipComment,this.encodeFileName);this.push({data:s,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},d.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var i=0;i<t.length;i++)try{t[i].error(e)}catch(e){}return!0},d.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,i){var n=e("../compressions"),s=e("./ZipFileWorker");i.generateWorker=function(e,t,i){var r=new s(t.streamFiles,i,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,i){o++;var s=function(e,t){var i=e||t,s=n[i];if(!s)throw new Error(i+" is not a valid compression method !");return s}(i.options.compression,t.compression),a=i.options.compressionOptions||t.compressionOptions||{},h=i.dir,l=i.date;i._compressWorker(s,a).withStreamInfo("file",{name:e,dir:h,date:l,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(r)})),r.entriesCount=o}catch(e){r.error(e)}return r}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,i){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.1",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,i){var n=e("./utils"),s=e("./external"),r=e("./utf8"),o=e("./zipEntries"),a=e("./stream/Crc32Probe"),h=e("./nodejsUtils");function l(e){return new s.Promise((function(t,i){var n=e.decompressed.getContentWorker().pipe(new a);n.on("error",(function(e){i(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var i=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),h.isNode&&h.isStream(e)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var i=new o(t);return i.load(e),i})).then((function(e){var i=[s.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var r=0;r<n.length;r++)i.push(l(n[r]));return s.Promise.all(i)})).then((function(e){for(var s=e.shift(),r=s.files,o=0;o<r.length;o++){var a=r[o],h=a.fileNameStr,l=n.resolve(a.fileNameStr);i.file(l,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders}),a.dir||(i.file(l).unsafeOriginalName=h)}return s.zipComment.length&&(i.comment=s.zipComment),i}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,i){var n=e("../utils"),s=e("../stream/GenericWorker");function r(e,t){s.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(r,s),r.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},r.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,i){var n=e("readable-stream").Readable;function s(e,t,i){n.call(this,t),this._helper=e;var s=this;e.on("data",(function(e,t){s.push(e)||s._helper.pause(),i&&i(t)})).on("error",(function(e){s.emit("error",e)})).on("end",(function(){s.push(null)}))}e("../utils").inherits(s,n),s.prototype._read=function(){this._helper.resume()},t.exports=s},{"../utils":32,"readable-stream":16}],14:[function(e,t,i){t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,i){function n(e,t,i){var n,s=r.getTypeOf(t),a=r.extend(i||{},h);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(e=f(e)),a.createFolders&&(n=m(e))&&g.call(this,n,!0);var c="string"===s&&!1===a.binary&&!1===a.base64;i&&void 0!==i.binary||(a.binary=!c),(t instanceof l&&0===t.uncompressedSize||a.dir||!t||0===t.length)&&(a.base64=!1,a.binary=!0,t="",a.compression="STORE",s="string");var v=null;v=t instanceof l||t instanceof o?t:u.isNode&&u.isStream(t)?new p(e,t):r.prepareContent(e,t,a.binary,a.optimizedBinaryString,a.base64);var y=new d(e,v,a);this.files[e]=y}var s=e("./utf8"),r=e("./utils"),o=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),h=e("./defaults"),l=e("./compressedObject"),d=e("./zipObject"),c=e("./generate"),u=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),m=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},f=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:h.createFolders,e=f(e),this.files[e]||n.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,i,n;for(t in this.files)n=this.files[t],(i=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(i,n)},filter:function(e){var t=[];return this.forEach((function(i,n){e(i,n)&&t.push(n)})),t},file:function(e,t,i){if(1!==arguments.length)return e=this.root+e,n.call(this,e,t,i),this;if(v(e)){var s=e;return this.filter((function(e,t){return!t.dir&&s.test(e)}))}var r=this.files[this.root+e];return r&&!r.dir?r:null},folder:function(e){if(!e)return this;if(v(e))return this.filter((function(t,i){return i.dir&&e.test(t)}));var t=this.root+e,i=g.call(this,t),n=this.clone();return n.root=i.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var i=this.filter((function(t,i){return i.name.slice(0,e.length)===e})),n=0;n<i.length;n++)delete this.files[i[n].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,i={};try{if((i=r.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");r.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var n=i.comment||this.comment||"";t=c.generateWorker(this,i,n)}catch(e){(t=new o("error")).error(e)}return new a(t,i.type||"string",i.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,i){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,i){var n=e("./DataReader");function s(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(s,n),s.prototype.byteAt=function(e){return this.data[this.zero+e]},s.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),s=e.charCodeAt(3),r=this.length-4;0<=r;--r)if(this.data[r]===t&&this.data[r+1]===i&&this.data[r+2]===n&&this.data[r+3]===s)return r-this.zero;return-1},s.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),s=e.charCodeAt(3),r=this.readData(4);return t===r[0]&&i===r[1]&&n===r[2]&&s===r[3]},s.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./DataReader":18}],18:[function(e,t,i){var n=e("../utils");function s(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,i=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)i=(i<<8)+this.byteAt(t);return this.index+=e,i},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=s},{"../utils":32}],19:[function(e,t,i){var n=e("./Uint8ArrayReader");function s(e){n.call(this,e)}e("../utils").inherits(s,n),s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,i){var n=e("./DataReader");function s(e){n.call(this,e)}e("../utils").inherits(s,n),s.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},s.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},s.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./DataReader":18}],21:[function(e,t,i){var n=e("./ArrayReader");function s(e){n.call(this,e)}e("../utils").inherits(s,n),s.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,i){var n=e("../utils"),s=e("../support"),r=e("./ArrayReader"),o=e("./StringReader"),a=e("./NodeBufferReader"),h=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||s.uint8array?"nodebuffer"===t?new a(e):s.uint8array?new h(n.transformTo("uint8array",e)):new r(n.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,i){var n=e("./GenericWorker"),s=e("../utils");function r(e){n.call(this,"ConvertWorker to "+e),this.destType=e}s.inherits(r,n),r.prototype.processChunk=function(e){this.push({data:s.transformTo(this.destType,e.data),meta:e.meta})},t.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,i){var n=e("./GenericWorker"),s=e("../crc32");function r(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(r,n),r.prototype.processChunk=function(e){this.streamInfo.crc32=s(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,i){var n=e("../utils"),s=e("./GenericWorker");function r(e){s.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(r,s),r.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}s.prototype.processChunk.call(this,e)},t.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,i){var n=e("../utils"),s=e("./GenericWorker");function r(e){s.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}n.inherits(r,s),r.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,i){function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t,i){var n=e("../utils"),s=e("./ConvertWorker"),r=e("./GenericWorker"),o=e("../base64"),a=e("../support"),h=e("../external"),l=null;if(a.nodestream)try{l=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function d(e,t){return new h.Promise((function(i,s){var r=[],a=e._internalType,h=e._outputType,l=e._mimeType;e.on("data",(function(e,i){r.push(e),t&&t(i)})).on("error",(function(e){r=[],s(e)})).on("end",(function(){try{var e=function(e,t,i){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),i);case"base64":return o.encode(t);default:return n.transformTo(e,t)}}(h,function(e,t){var i,n=0,s=null,r=0;for(i=0;i<t.length;i++)r+=t[i].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(s=new Uint8Array(r),i=0;i<t.length;i++)s.set(t[i],n),n+=t[i].length;return s;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,r),l);i(e)}catch(e){s(e)}r=[]})).resume()}))}function c(e,t,i){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=i,n.checkSupport(o),this._worker=e.pipe(new s(o)),e.lock()}catch(e){this._worker=new r("error"),this._worker.error(e)}}c.prototype={accumulate:function(e){return d(this,e)},on:function(e,t){var i=this;return"data"===e?this._worker.on(e,(function(e){t.call(i,e.data,e.meta)})):this._worker.on(e,(function(){n.delay(t,arguments,i)})),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer="undefined"!=typeof Buffer,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var n=new ArrayBuffer(0);try{i.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(n),i.blob=0===s.getBlob("application/zip").size}catch(e){i.blob=!1}}}try{i.nodestream=!!e("readable-stream").Readable}catch(e){i.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,i){for(var n=e("./utils"),s=e("./support"),r=e("./nodejsUtils"),o=e("./stream/GenericWorker"),a=new Array(256),h=0;h<256;h++)a[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function l(){o.call(this,"utf-8 decode"),this.leftOver=null}function d(){o.call(this,"utf-8 encode")}a[254]=a[254]=1,i.utf8encode=function(e){return s.nodebuffer?r.newBufferFrom(e,"utf-8"):function(e){var t,i,n,r,o,a=e.length,h=0;for(r=0;r<a;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(n=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++),h+=i<128?1:i<2048?2:i<65536?3:4;for(t=s.uint8array?new Uint8Array(h):new Array(h),r=o=0;o<h;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(n=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++),i<128?t[o++]=i:(i<2048?t[o++]=192|i>>>6:(i<65536?t[o++]=224|i>>>12:(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63),t[o++]=128|i>>>6&63),t[o++]=128|63&i);return t}(e)},i.utf8decode=function(e){return s.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,i,s,r,o=e.length,h=new Array(2*o);for(t=i=0;t<o;)if((s=e[t++])<128)h[i++]=s;else if(4<(r=a[s]))h[i++]=65533,t+=r-1;else{for(s&=2===r?31:3===r?15:7;1<r&&t<o;)s=s<<6|63&e[t++],r--;1<r?h[i++]=65533:s<65536?h[i++]=s:(s-=65536,h[i++]=55296|s>>10&1023,h[i++]=56320|1023&s)}return h.length!==i&&(h.subarray?h=h.subarray(0,i):h.length=i),n.applyFromCharCode(h)}(e=n.transformTo(s.uint8array?"uint8array":"array",e))},n.inherits(l,o),l.prototype.processChunk=function(e){var t=n.transformTo(s.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var r=t;(t=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),t.set(r,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;0<=i&&128==(192&e[i]);)i--;return i<0||0===i?t:i+a[e[i]]>t?i:t}(t),h=t;o!==t.length&&(s.uint8array?(h=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(h=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:i.utf8decode(h),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=l,n.inherits(d,o),d.prototype.processChunk=function(e){this.push({data:i.utf8encode(e.data),meta:e.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,i){var n=e("./support"),s=e("./base64"),r=e("./nodejsUtils"),o=e("./external");function a(e){return e}function h(e,t){for(var i=0;i<e.length;++i)t[i]=255&e.charCodeAt(i);return t}e("setimmediate"),i.newBlob=function(e,t){i.checkSupport("blob");try{return new Blob([e],{type:t})}catch(i){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(e,t,i){var n=[],s=0,r=e.length;if(r<=i)return String.fromCharCode.apply(null,e);for(;s<r;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(s,Math.min(s+i,r)))):n.push(String.fromCharCode.apply(null,e.subarray(s,Math.min(s+i,r)))),s+=i;return n.join("")},stringifyByChar:function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(e){return!1}}()}};function d(e){var t=65536,n=i.getTypeOf(e),s=!0;if("uint8array"===n?s=l.applyCanBeUsed.uint8array:"nodebuffer"===n&&(s=l.applyCanBeUsed.nodebuffer),s)for(;1<t;)try{return l.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return l.stringifyByChar(e)}function c(e,t){for(var i=0;i<e.length;i++)t[i]=e[i];return t}i.applyFromCharCode=d;var u={};u.string={string:a,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return u.string.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:function(e){return h(e,r.allocBuffer(e.length))}},u.array={string:d,array:a,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(e)}},u.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return c(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:a,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(new Uint8Array(e))}},u.uint8array={string:d,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:a,nodebuffer:function(e){return r.newBufferFrom(e)}},u.nodebuffer={string:d,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return u.nodebuffer.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:a},i.transformTo=function(e,t){if(t=t||"",!e)return t;i.checkSupport(e);var n=i.getTypeOf(t);return u[n][e](t)},i.resolve=function(e){for(var t=e.split("/"),i=[],n=0;n<t.length;n++){var s=t[n];"."===s||""===s&&0!==n&&n!==t.length-1||(".."===s?i.pop():i.push(s))}return i.join("/")},i.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&r.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(e){var t,i,n="";for(i=0;i<(e||"").length;i++)n+="\\x"+((t=e.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return n},i.delay=function(e,t,i){setImmediate((function(){e.apply(i||null,t||[])}))},i.inherits=function(e,t){function i(){}i.prototype=t.prototype,e.prototype=new i},i.extend=function(){var e,t,i={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===i[t]&&(i[t]=arguments[e][t]);return i},i.prepareContent=function(e,t,r,a,l){return o.Promise.resolve(t).then((function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise((function(t,i){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){i(e.target.error)},n.readAsArrayBuffer(e)})):e})).then((function(t){var d=i.getTypeOf(t);return d?("arraybuffer"===d?t=i.transformTo("uint8array",t):"string"===d&&(l?t=s.decode(t):r&&!0!==a&&(t=function(e){return h(e,n.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):o.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,i){var n=e("./reader/readerFor"),s=e("./utils"),r=e("./signature"),o=e("./zipEntry"),a=e("./support");function h(e){this.files=[],this.loadOptions=e}h.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(t)+", expected "+s.pretty(e)+")")}},isSignature:function(e,t){var i=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(i),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?"uint8array":"array",i=s.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,i,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),i=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=t-i;if(0<n)this.isSignature(t,r.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,i){var n=e("./reader/readerFor"),s=e("./utils"),r=e("./compressedObject"),o=e("./crc32"),a=e("./utf8"),h=e("./compressions"),l=e("./support");function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(e){var t,i;if(e.skip(22),this.fileNameLength=e.readInt(2),i=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in h)if(Object.prototype.hasOwnProperty.call(h,t)&&h[t].magic===e)return h[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,i,n,s=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<s;)t=e.readInt(2),i=e.readInt(2),n=e.readData(i),this.extraFields[t]={id:t,length:i,value:n};e.setIndex(s)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var i=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var r=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,i){function n(e,t,i){this.name=e,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=t,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}}var s=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),o=e("./utf8"),a=e("./compressedObject"),h=e("./stream/GenericWorker");n.prototype={internalStream:function(e){var t=null,i="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(i=e.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),t=this._decompressWorker();var r=!this._dataBinary;r&&!n&&(t=t.pipe(new o.Utf8EncodeWorker)),!r&&n&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new h("error")).error(e)}return new s(t,i,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(i,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof h?this._data:new r(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<l.length;c++)n.prototype[l[c]]=d;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,i){(function(e){var i,n,s=e.MutationObserver||e.WebKitMutationObserver;if(s){var r=0,o=new s(d),a=e.document.createTextNode("");o.observe(a,{characterData:!0}),i=function(){a.data=r=++r%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var h=new e.MessageChannel;h.port1.onmessage=d,i=function(){h.port2.postMessage(0)}}var l=[];function d(){var e,t;n=!0;for(var i=l.length;i;){for(t=l,l=[],e=-1;++e<i;)t[e]();i=l.length}n=!1}t.exports=function(e){1!==l.push(e)||n||i()}}).call(this,void 0!==we?we:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,i){var n=e("immediate");function s(){}var r={},o=["REJECTED"],a=["FULFILLED"],h=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,e!==s&&p(this,e)}function d(e,t,i){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function c(e,t,i){n((function(){var n;try{n=t(i)}catch(n){return r.reject(e,n)}n===e?r.reject(e,new TypeError("Cannot resolve promise with itself")):r.resolve(e,n)}))}function u(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var i=!1;function n(t){i||(i=!0,r.reject(e,t))}function s(t){i||(i=!0,r.resolve(e,t))}var o=m((function(){t(s,n)}));"error"===o.status&&n(o.value)}function m(e,t){var i={};try{i.value=e(t),i.status="success"}catch(e){i.status="error",i.value=e}return i}(t.exports=l).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){throw i}))}))},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===o)return this;var i=new this.constructor(s);return this.state!==h?c(i,this.state===a?e:t,this.outcome):this.queue.push(new d(i,e,t)),i},d.prototype.callFulfilled=function(e){r.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){c(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){r.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){c(this.promise,this.onRejected,e)},r.resolve=function(e,t){var i=m(u,t);if("error"===i.status)return r.reject(e,i.value);var n=i.value;if(n)p(e,n);else{e.state=a,e.outcome=t;for(var s=-1,o=e.queue.length;++s<o;)e.queue[s].callFulfilled(t)}return e},r.reject=function(e,t){e.state=o,e.outcome=t;for(var i=-1,n=e.queue.length;++i<n;)e.queue[i].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:r.resolve(new this(s),e)},l.reject=function(e){var t=new this(s);return r.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,n=!1;if(!i)return this.resolve([]);for(var o=new Array(i),a=0,h=-1,l=new this(s);++h<i;)d(e[h],h);return l;function d(e,s){t.resolve(e).then((function(e){o[s]=e,++a!==i||n||(n=!0,r.resolve(l,o))}),(function(e){n||(n=!0,r.reject(l,e))}))}},l.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,n=!1;if(!i)return this.resolve([]);for(var o,a=-1,h=new this(s);++a<i;)o=e[a],t.resolve(o).then((function(e){n||(n=!0,r.resolve(h,e))}),(function(e){n||(n=!0,r.reject(h,e))}));return h}},{immediate:36}],38:[function(e,t,i){var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,i){var n=e("./zlib/deflate"),s=e("./utils/common"),r=e("./utils/strings"),o=e("./zlib/messages"),a=e("./zlib/zstream"),h=Object.prototype.toString,l=0,d=-1,c=0,u=8;function p(e){if(!(this instanceof p))return new p(e);this.options=s.assign({level:d,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==l)throw new Error(o[i]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var m;if(m="string"==typeof t.dictionary?r.string2buf(t.dictionary):"[object ArrayBuffer]"===h.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(i=n.deflateSetDictionary(this.strm,m))!==l)throw new Error(o[i]);this._dict_set=!0}}function m(e,t){var i=new p(t);if(i.push(e,!0),i.err)throw i.msg||o[i.err];return i.result}p.prototype.push=function(e,t){var i,o,a=this.strm,d=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=r.string2buf(e):"[object ArrayBuffer]"===h.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new s.Buf8(d),a.next_out=0,a.avail_out=d),1!==(i=n.deflate(a,o))&&i!==l)return this.onEnd(i),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(r.buf2binstring(s.shrinkBuf(a.output,a.next_out))):this.onData(s.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==i);return 4===o?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===l):2!==o||(this.onEnd(l),!(a.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Deflate=p,i.deflate=m,i.deflateRaw=function(e,t){return(t=t||{}).raw=!0,m(e,t)},i.gzip=function(e,t){return(t=t||{}).gzip=!0,m(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,i){var n=e("./zlib/inflate"),s=e("./utils/common"),r=e("./utils/strings"),o=e("./zlib/constants"),a=e("./zlib/messages"),h=e("./zlib/zstream"),l=e("./zlib/gzheader"),d=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var i=n.inflateInit2(this.strm,t.windowBits);if(i!==o.Z_OK)throw new Error(a[i]);this.header=new l,n.inflateGetHeader(this.strm,this.header)}function u(e,t){var i=new c(t);if(i.push(e,!0),i.err)throw i.msg||a[i.err];return i.result}c.prototype.push=function(e,t){var i,a,h,l,c,u,p=this.strm,m=this.options.chunkSize,f=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?p.input=r.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new s.Buf8(m),p.next_out=0,p.avail_out=m),(i=n.inflate(p,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&f&&(u="string"==typeof f?r.string2buf(f):"[object ArrayBuffer]"===d.call(f)?new Uint8Array(f):f,i=n.inflateSetDictionary(this.strm,u)),i===o.Z_BUF_ERROR&&!0===g&&(i=o.Z_OK,g=!1),i!==o.Z_STREAM_END&&i!==o.Z_OK)return this.onEnd(i),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&i!==o.Z_STREAM_END&&(0!==p.avail_in||a!==o.Z_FINISH&&a!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(h=r.utf8border(p.output,p.next_out),l=p.next_out-h,c=r.buf2string(p.output,h),p.next_out=l,p.avail_out=m-l,l&&s.arraySet(p.output,p.output,h,l,0),this.onData(c)):this.onData(s.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((0<p.avail_in||0===p.avail_out)&&i!==o.Z_STREAM_END);return i===o.Z_STREAM_END&&(a=o.Z_FINISH),a===o.Z_FINISH?(i=n.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===o.Z_OK):a!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(p.avail_out=0))},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=c,i.inflate=u,i.inflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},i.ungzip=u},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,i){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,i,n,s){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),s);else for(var r=0;r<n;r++)e[s+r]=t[i+r]},flattenChunks:function(e){var t,i,n,s,r,o;for(t=n=0,i=e.length;t<i;t++)n+=e[t].length;for(o=new Uint8Array(n),t=s=0,i=e.length;t<i;t++)r=e[t],o.set(r,s),s+=r.length;return o}},r={arraySet:function(e,t,i,n,s){for(var r=0;r<n;r++)e[s+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,r))},i.setTyped(n)},{}],42:[function(e,t,i){var n=e("./common"),s=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(e){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){r=!1}for(var o=new n.Buf8(256),a=0;a<256;a++)o[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function h(e,t){if(t<65537&&(e.subarray&&r||!e.subarray&&s))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",o=0;o<t;o++)i+=String.fromCharCode(e[o]);return i}o[254]=o[254]=1,i.string2buf=function(e){var t,i,s,r,o,a=e.length,h=0;for(r=0;r<a;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(s=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(s-56320),r++),h+=i<128?1:i<2048?2:i<65536?3:4;for(t=new n.Buf8(h),r=o=0;o<h;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(s=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(s-56320),r++),i<128?t[o++]=i:(i<2048?t[o++]=192|i>>>6:(i<65536?t[o++]=224|i>>>12:(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63),t[o++]=128|i>>>6&63),t[o++]=128|63&i);return t},i.buf2binstring=function(e){return h(e,e.length)},i.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,s=t.length;i<s;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,n,s,r,a=t||e.length,l=new Array(2*a);for(i=n=0;i<a;)if((s=e[i++])<128)l[n++]=s;else if(4<(r=o[s]))l[n++]=65533,i+=r-1;else{for(s&=2===r?31:3===r?15:7;1<r&&i<a;)s=s<<6|63&e[i++],r--;1<r?l[n++]=65533:s<65536?l[n++]=s:(s-=65536,l[n++]=55296|s>>10&1023,l[n++]=56320|1023&s)}return h(l,n)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;0<=i&&128==(192&e[i]);)i--;return i<0||0===i?t:i+o[e[i]]>t?i:t}},{"./common":41}],43:[function(e,t,i){t.exports=function(e,t,i,n){for(var s=65535&e,r=e>>>16&65535,o=0;0!==i;){for(i-=o=2e3<i?2e3:i;r=r+(s=s+t[n++]|0)|0,--o;);s%=65521,r%=65521}return s|r<<16}},{}],44:[function(e,t,i){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,i){var n=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,s){var r=n,o=s+i;e^=-1;for(var a=s;a<o;a++)e=e>>>8^r[255&(e^t[a])];return~e}},{}],46:[function(e,t,i){var n,s=e("../utils/common"),r=e("./trees"),o=e("./adler32"),a=e("./crc32"),h=e("./messages"),l=0,d=4,c=0,u=-2,p=-1,m=4,f=2,g=8,v=9,y=286,A=30,x=19,b=2*y+1,w=15,k=3,C=258,E=C+k+1,D=42,N=113,I=1,S=2,B=3,M=4;function T(e,t){return e.msg=h[t],t}function L(e){return(e<<1)-(4<e?9:0)}function P(e){for(var t=e.length;0<=--t;)e[t]=0}function O(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(s.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function R(e,t){r._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,O(e.strm)}function _(e,t){e.pending_buf[e.pending++]=t}function F(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function z(e,t){var i,n,s=e.max_chain_length,r=e.strstart,o=e.prev_length,a=e.nice_match,h=e.strstart>e.w_size-E?e.strstart-(e.w_size-E):0,l=e.window,d=e.w_mask,c=e.prev,u=e.strstart+C,p=l[r+o-1],m=l[r+o];e.prev_length>=e.good_match&&(s>>=2),a>e.lookahead&&(a=e.lookahead);do{if(l[(i=t)+o]===m&&l[i+o-1]===p&&l[i]===l[r]&&l[++i]===l[r+1]){r+=2,i++;do{}while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<u);if(n=C-(u-r),r=u-C,o<n){if(e.match_start=t,a<=(o=n))break;p=l[r+o-1],m=l[r+o]}}}while((t=c[t&d])>h&&0!=--s);return o<=e.lookahead?o:e.lookahead}function Q(e){var t,i,n,r,h,l,d,c,u,p,m=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-E)){for(s.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=i=e.hash_size;n=e.head[--t],e.head[t]=m<=n?n-m:0,--i;);for(t=i=m;n=e.prev[--t],e.prev[t]=m<=n?n-m:0,--i;);r+=m}if(0===e.strm.avail_in)break;if(l=e.strm,d=e.window,c=e.strstart+e.lookahead,p=void 0,(u=r)<(p=l.avail_in)&&(p=u),i=0===p?0:(l.avail_in-=p,s.arraySet(d,l.input,l.next_in,p,c),1===l.state.wrap?l.adler=o(l.adler,d,p,c):2===l.state.wrap&&(l.adler=a(l.adler,d,p,c)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=i,e.lookahead+e.insert>=k)for(h=e.strstart-e.insert,e.ins_h=e.window[h],e.ins_h=(e.ins_h<<e.hash_shift^e.window[h+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[h+k-1])&e.hash_mask,e.prev[h&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=h,h++,e.insert--,!(e.lookahead+e.insert<k)););}while(e.lookahead<E&&0!==e.strm.avail_in)}function H(e,t){for(var i,n;;){if(e.lookahead<E){if(Q(e),e.lookahead<E&&t===l)return I;if(0===e.lookahead)break}if(i=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-E&&(e.match_length=z(e,i)),e.match_length>=k)if(n=r._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(R(e,!1),0===e.strm.avail_out))return I}return e.insert=e.strstart<k-1?e.strstart:k-1,t===d?(R(e,!0),0===e.strm.avail_out?B:M):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?I:S}function j(e,t){for(var i,n,s;;){if(e.lookahead<E){if(Q(e),e.lookahead<E&&t===l)return I;if(0===e.lookahead)break}if(i=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-E&&(e.match_length=z(e,i),e.match_length<=5&&(1===e.strategy||e.match_length===k&&4096<e.strstart-e.match_start)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){for(s=e.strstart+e.lookahead-k,n=r._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=k-1,e.strstart++,n&&(R(e,!1),0===e.strm.avail_out))return I}else if(e.match_available){if((n=r._tr_tally(e,0,e.window[e.strstart-1]))&&R(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return I}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=r._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===d?(R(e,!0),0===e.strm.avail_out?B:M):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?I:S}function q(e,t,i,n,s){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=s}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*b),this.dyn_dtree=new s.Buf16(2*(2*A+1)),this.bl_tree=new s.Buf16(2*(2*x+1)),P(this.dyn_ltree),P(this.dyn_dtree),P(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(w+1),this.heap=new s.Buf16(2*y+1),P(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*y+1),P(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=f,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?D:N,e.adler=2===t.wrap?0:1,t.last_flush=l,r._tr_init(t),c):T(e,u)}function U(e){var t=V(e);return t===c&&function(e){e.window_size=2*e.w_size,P(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=k-1,e.match_available=0,e.ins_h=0}(e.state),t}function X(e,t,i,n,r,o){if(!e)return u;var a=1;if(t===p&&(t=6),n<0?(a=0,n=-n):15<n&&(a=2,n-=16),r<1||v<r||i!==g||n<8||15<n||t<0||9<t||o<0||m<o)return T(e,u);8===n&&(n=9);var h=new W;return(e.state=h).strm=e,h.wrap=a,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+k-1)/k),h.window=new s.Buf8(2*h.w_size),h.head=new s.Buf16(h.hash_size),h.prev=new s.Buf16(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new s.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=t,h.strategy=o,h.method=i,U(e)}n=[new q(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Q(e),0===e.lookahead&&t===l)return I;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,R(e,!1),0===e.strm.avail_out))return I;if(e.strstart-e.block_start>=e.w_size-E&&(R(e,!1),0===e.strm.avail_out))return I}return e.insert=0,t===d?(R(e,!0),0===e.strm.avail_out?B:M):(e.strstart>e.block_start&&(R(e,!1),e.strm.avail_out),I)})),new q(4,4,8,4,H),new q(4,5,16,8,H),new q(4,6,32,32,H),new q(4,4,16,16,j),new q(8,16,32,32,j),new q(8,16,128,128,j),new q(8,32,128,256,j),new q(32,128,258,1024,j),new q(32,258,258,4096,j)],i.deflateInit=function(e,t){return X(e,t,g,15,8,0)},i.deflateInit2=X,i.deflateReset=U,i.deflateResetKeep=V,i.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,c):u},i.deflate=function(e,t){var i,s,o,h;if(!e||!e.state||5<t||t<0)return e?T(e,u):u;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||666===s.status&&t!==d)return T(e,0===e.avail_out?-5:u);if(s.strm=e,i=s.last_flush,s.last_flush=t,s.status===D)if(2===s.wrap)e.adler=0,_(s,31),_(s,139),_(s,8),s.gzhead?(_(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),_(s,255&s.gzhead.time),_(s,s.gzhead.time>>8&255),_(s,s.gzhead.time>>16&255),_(s,s.gzhead.time>>24&255),_(s,9===s.level?2:2<=s.strategy||s.level<2?4:0),_(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(_(s,255&s.gzhead.extra.length),_(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=a(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(_(s,0),_(s,0),_(s,0),_(s,0),_(s,0),_(s,9===s.level?2:2<=s.strategy||s.level<2?4:0),_(s,3),s.status=N);else{var p=g+(s.w_bits-8<<4)<<8;p|=(2<=s.strategy||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(p|=32),p+=31-p%31,s.status=N,F(s,p),0!==s.strstart&&(F(s,e.adler>>>16),F(s,65535&e.adler)),e.adler=1}if(69===s.status)if(s.gzhead.extra){for(o=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>o&&(e.adler=a(e.adler,s.pending_buf,s.pending-o,o)),O(e),o=s.pending,s.pending!==s.pending_buf_size));)_(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>o&&(e.adler=a(e.adler,s.pending_buf,s.pending-o,o)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){o=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>o&&(e.adler=a(e.adler,s.pending_buf,s.pending-o,o)),O(e),o=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,_(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>o&&(e.adler=a(e.adler,s.pending_buf,s.pending-o,o)),0===h&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){o=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>o&&(e.adler=a(e.adler,s.pending_buf,s.pending-o,o)),O(e),o=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,_(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>o&&(e.adler=a(e.adler,s.pending_buf,s.pending-o,o)),0===h&&(s.status=103)}else s.status=103;if(103===s.status&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&O(e),s.pending+2<=s.pending_buf_size&&(_(s,255&e.adler),_(s,e.adler>>8&255),e.adler=0,s.status=N)):s.status=N),0!==s.pending){if(O(e),0===e.avail_out)return s.last_flush=-1,c}else if(0===e.avail_in&&L(t)<=L(i)&&t!==d)return T(e,-5);if(666===s.status&&0!==e.avail_in)return T(e,-5);if(0!==e.avail_in||0!==s.lookahead||t!==l&&666!==s.status){var m=2===s.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(Q(e),0===e.lookahead)){if(t===l)return I;break}if(e.match_length=0,i=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(R(e,!1),0===e.strm.avail_out))return I}return e.insert=0,t===d?(R(e,!0),0===e.strm.avail_out?B:M):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?I:S}(s,t):3===s.strategy?function(e,t){for(var i,n,s,o,a=e.window;;){if(e.lookahead<=C){if(Q(e),e.lookahead<=C&&t===l)return I;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&0<e.strstart&&(n=a[s=e.strstart-1])===a[++s]&&n===a[++s]&&n===a[++s]){o=e.strstart+C;do{}while(n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&s<o);e.match_length=C-(o-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(i=r._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(R(e,!1),0===e.strm.avail_out))return I}return e.insert=0,t===d?(R(e,!0),0===e.strm.avail_out?B:M):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?I:S}(s,t):n[s.level].func(s,t);if(m!==B&&m!==M||(s.status=666),m===I||m===B)return 0===e.avail_out&&(s.last_flush=-1),c;if(m===S&&(1===t?r._tr_align(s):5!==t&&(r._tr_stored_block(s,0,0,!1),3===t&&(P(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),O(e),0===e.avail_out))return s.last_flush=-1,c}return t!==d?c:s.wrap<=0?1:(2===s.wrap?(_(s,255&e.adler),_(s,e.adler>>8&255),_(s,e.adler>>16&255),_(s,e.adler>>24&255),_(s,255&e.total_in),_(s,e.total_in>>8&255),_(s,e.total_in>>16&255),_(s,e.total_in>>24&255)):(F(s,e.adler>>>16),F(s,65535&e.adler)),O(e),0<s.wrap&&(s.wrap=-s.wrap),0!==s.pending?c:1)},i.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==D&&69!==t&&73!==t&&91!==t&&103!==t&&t!==N&&666!==t?T(e,u):(e.state=null,t===N?T(e,-3):c):u},i.deflateSetDictionary=function(e,t){var i,n,r,a,h,l,d,p,m=t.length;if(!e||!e.state)return u;if(2===(a=(i=e.state).wrap)||1===a&&i.status!==D||i.lookahead)return u;for(1===a&&(e.adler=o(e.adler,t,m,0)),i.wrap=0,m>=i.w_size&&(0===a&&(P(i.head),i.strstart=0,i.block_start=0,i.insert=0),p=new s.Buf8(i.w_size),s.arraySet(p,t,m-i.w_size,i.w_size,0),t=p,m=i.w_size),h=e.avail_in,l=e.next_in,d=e.input,e.avail_in=m,e.next_in=0,e.input=t,Q(i);i.lookahead>=k;){for(n=i.strstart,r=i.lookahead-(k-1);i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+k-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++,--r;);i.strstart=n,i.lookahead=k-1,Q(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=k-1,i.match_available=0,e.next_in=l,e.input=d,e.avail_in=h,i.wrap=a,c},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,i){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,i){t.exports=function(e,t){var i,n,s,r,o,a,h,l,d,c,u,p,m,f,g,v,y,A,x,b,w,k,C,E,D;i=e.state,n=e.next_in,E=e.input,s=n+(e.avail_in-5),r=e.next_out,D=e.output,o=r-(t-e.avail_out),a=r+(e.avail_out-257),h=i.dmax,l=i.wsize,d=i.whave,c=i.wnext,u=i.window,p=i.hold,m=i.bits,f=i.lencode,g=i.distcode,v=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;e:do{m<15&&(p+=E[n++]<<m,m+=8,p+=E[n++]<<m,m+=8),A=f[p&v];t:for(;;){if(p>>>=x=A>>>24,m-=x,0==(x=A>>>16&255))D[r++]=65535&A;else{if(!(16&x)){if(!(64&x)){A=f[(65535&A)+(p&(1<<x)-1)];continue t}if(32&x){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}b=65535&A,(x&=15)&&(m<x&&(p+=E[n++]<<m,m+=8),b+=p&(1<<x)-1,p>>>=x,m-=x),m<15&&(p+=E[n++]<<m,m+=8,p+=E[n++]<<m,m+=8),A=g[p&y];i:for(;;){if(p>>>=x=A>>>24,m-=x,!(16&(x=A>>>16&255))){if(!(64&x)){A=g[(65535&A)+(p&(1<<x)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(w=65535&A,m<(x&=15)&&(p+=E[n++]<<m,(m+=8)<x&&(p+=E[n++]<<m,m+=8)),h<(w+=p&(1<<x)-1)){e.msg="invalid distance too far back",i.mode=30;break e}if(p>>>=x,m-=x,(x=r-o)<w){if(d<(x=w-x)&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(C=u,(k=0)===c){if(k+=l-x,x<b){for(b-=x;D[r++]=u[k++],--x;);k=r-w,C=D}}else if(c<x){if(k+=l+c-x,(x-=c)<b){for(b-=x;D[r++]=u[k++],--x;);if(k=0,c<b){for(b-=x=c;D[r++]=u[k++],--x;);k=r-w,C=D}}}else if(k+=c-x,x<b){for(b-=x;D[r++]=u[k++],--x;);k=r-w,C=D}for(;2<b;)D[r++]=C[k++],D[r++]=C[k++],D[r++]=C[k++],b-=3;b&&(D[r++]=C[k++],1<b&&(D[r++]=C[k++]))}else{for(k=r-w;D[r++]=D[k++],D[r++]=D[k++],D[r++]=D[k++],2<(b-=3););b&&(D[r++]=D[k++],1<b&&(D[r++]=D[k++]))}break}}break}}while(n<s&&r<a);n-=b=m>>3,p&=(1<<(m-=b<<3))-1,e.next_in=n,e.next_out=r,e.avail_in=n<s?s-n+5:5-(n-s),e.avail_out=r<a?a-r+257:257-(r-a),i.hold=p,i.bits=m}},{}],49:[function(e,t,i){var n=e("../utils/common"),s=e("./adler32"),r=e("./crc32"),o=e("./inffast"),a=e("./inftrees"),h=1,l=2,d=0,c=-2,u=1,p=852,m=592;function f(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=u,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(p),t.distcode=t.distdyn=new n.Buf32(m),t.sane=1,t.back=-1,d):c}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,v(e)):c}function A(e,t){var i,n;return e&&e.state?(n=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?c:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,y(e))):c}function x(e,t){var i,n;return e?(n=new g,(e.state=n).window=null,(i=A(e,t))!==d&&(e.state=null),i):c}var b,w,k=!0;function C(e){if(k){var t;for(b=new n.Buf32(512),w=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(h,e.lens,0,288,b,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(l,e.lens,0,32,w,0,e.work,{bits:5}),k=!1}e.lencode=b,e.lenbits=9,e.distcode=w,e.distbits=5}function E(e,t,i,s){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),s>=o.wsize?(n.arraySet(o.window,t,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(s<(r=o.wsize-o.wnext)&&(r=s),n.arraySet(o.window,t,i-s,r,o.wnext),(s-=r)?(n.arraySet(o.window,t,i-s,s,0),o.wnext=s,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}i.inflateReset=y,i.inflateReset2=A,i.inflateResetKeep=v,i.inflateInit=function(e){return x(e,15)},i.inflateInit2=x,i.inflate=function(e,t){var i,p,m,g,v,y,A,x,b,w,k,D,N,I,S,B,M,T,L,P,O,R,_,F,z=0,Q=new n.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;12===(i=e.state).mode&&(i.mode=13),v=e.next_out,m=e.output,A=e.avail_out,g=e.next_in,p=e.input,y=e.avail_in,x=i.hold,b=i.bits,w=y,k=A,R=d;e:for(;;)switch(i.mode){case u:if(0===i.wrap){i.mode=13;break}for(;b<16;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}if(2&i.wrap&&35615===x){Q[i.check=0]=255&x,Q[1]=x>>>8&255,i.check=r(i.check,Q,2,0),b=x=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&x)<<8)+(x>>8))%31){e.msg="incorrect header check",i.mode=30;break}if(8!=(15&x)){e.msg="unknown compression method",i.mode=30;break}if(b-=4,O=8+(15&(x>>>=4)),0===i.wbits)i.wbits=O;else if(O>i.wbits){e.msg="invalid window size",i.mode=30;break}i.dmax=1<<O,e.adler=i.check=1,i.mode=512&x?10:12,b=x=0;break;case 2:for(;b<16;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}if(i.flags=x,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=x>>8&1),512&i.flags&&(Q[0]=255&x,Q[1]=x>>>8&255,i.check=r(i.check,Q,2,0)),b=x=0,i.mode=3;case 3:for(;b<32;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}i.head&&(i.head.time=x),512&i.flags&&(Q[0]=255&x,Q[1]=x>>>8&255,Q[2]=x>>>16&255,Q[3]=x>>>24&255,i.check=r(i.check,Q,4,0)),b=x=0,i.mode=4;case 4:for(;b<16;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}i.head&&(i.head.xflags=255&x,i.head.os=x>>8),512&i.flags&&(Q[0]=255&x,Q[1]=x>>>8&255,i.check=r(i.check,Q,2,0)),b=x=0,i.mode=5;case 5:if(1024&i.flags){for(;b<16;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}i.length=x,i.head&&(i.head.extra_len=x),512&i.flags&&(Q[0]=255&x,Q[1]=x>>>8&255,i.check=r(i.check,Q,2,0)),b=x=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(y<(D=i.length)&&(D=y),D&&(i.head&&(O=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),n.arraySet(i.head.extra,p,g,D,O)),512&i.flags&&(i.check=r(i.check,p,D,g)),y-=D,g+=D,i.length-=D),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===y)break e;for(D=0;O=p[g+D++],i.head&&O&&i.length<65536&&(i.head.name+=String.fromCharCode(O)),O&&D<y;);if(512&i.flags&&(i.check=r(i.check,p,D,g)),y-=D,g+=D,O)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===y)break e;for(D=0;O=p[g+D++],i.head&&O&&i.length<65536&&(i.head.comment+=String.fromCharCode(O)),O&&D<y;);if(512&i.flags&&(i.check=r(i.check,p,D,g)),y-=D,g+=D,O)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;b<16;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}if(x!==(65535&i.check)){e.msg="header crc mismatch",i.mode=30;break}b=x=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=12;break;case 10:for(;b<32;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}e.adler=i.check=f(x),b=x=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=v,e.avail_out=A,e.next_in=g,e.avail_in=y,i.hold=x,i.bits=b,2;e.adler=i.check=1,i.mode=12;case 12:if(5===t||6===t)break e;case 13:if(i.last){x>>>=7&b,b-=7&b,i.mode=27;break}for(;b<3;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}switch(i.last=1&x,b-=1,3&(x>>>=1)){case 0:i.mode=14;break;case 1:if(C(i),i.mode=20,6!==t)break;x>>>=2,b-=2;break e;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=30}x>>>=2,b-=2;break;case 14:for(x>>>=7&b,b-=7&b;b<32;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}if((65535&x)!=(x>>>16^65535)){e.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&x,b=x=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(D=i.length){if(y<D&&(D=y),A<D&&(D=A),0===D)break e;n.arraySet(m,p,g,D,v),y-=D,g+=D,A-=D,v+=D,i.length-=D;break}i.mode=12;break;case 17:for(;b<14;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}if(i.nlen=257+(31&x),x>>>=5,b-=5,i.ndist=1+(31&x),x>>>=5,b-=5,i.ncode=4+(15&x),x>>>=4,b-=4,286<i.nlen||30<i.ndist){e.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;b<3;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}i.lens[H[i.have++]]=7&x,x>>>=3,b-=3}for(;i.have<19;)i.lens[H[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,_={bits:i.lenbits},R=a(0,i.lens,0,19,i.lencode,0,i.work,_),i.lenbits=_.bits,R){e.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;B=(z=i.lencode[x&(1<<i.lenbits)-1])>>>16&255,M=65535&z,!((S=z>>>24)<=b);){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}if(M<16)x>>>=S,b-=S,i.lens[i.have++]=M;else{if(16===M){for(F=S+2;b<F;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}if(x>>>=S,b-=S,0===i.have){e.msg="invalid bit length repeat",i.mode=30;break}O=i.lens[i.have-1],D=3+(3&x),x>>>=2,b-=2}else if(17===M){for(F=S+3;b<F;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}b-=S,O=0,D=3+(7&(x>>>=S)),x>>>=3,b-=3}else{for(F=S+7;b<F;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}b-=S,O=0,D=11+(127&(x>>>=S)),x>>>=7,b-=7}if(i.have+D>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=30;break}for(;D--;)i.lens[i.have++]=O}}if(30===i.mode)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,_={bits:i.lenbits},R=a(h,i.lens,0,i.nlen,i.lencode,0,i.work,_),i.lenbits=_.bits,R){e.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,_={bits:i.distbits},R=a(l,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,_),i.distbits=_.bits,R){e.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(6<=y&&258<=A){e.next_out=v,e.avail_out=A,e.next_in=g,e.avail_in=y,i.hold=x,i.bits=b,o(e,k),v=e.next_out,m=e.output,A=e.avail_out,g=e.next_in,p=e.input,y=e.avail_in,x=i.hold,b=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;B=(z=i.lencode[x&(1<<i.lenbits)-1])>>>16&255,M=65535&z,!((S=z>>>24)<=b);){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}if(B&&!(240&B)){for(T=S,L=B,P=M;B=(z=i.lencode[P+((x&(1<<T+L)-1)>>T)])>>>16&255,M=65535&z,!(T+(S=z>>>24)<=b);){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}x>>>=T,b-=T,i.back+=T}if(x>>>=S,b-=S,i.back+=S,i.length=M,0===B){i.mode=26;break}if(32&B){i.back=-1,i.mode=12;break}if(64&B){e.msg="invalid literal/length code",i.mode=30;break}i.extra=15&B,i.mode=22;case 22:if(i.extra){for(F=i.extra;b<F;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}i.length+=x&(1<<i.extra)-1,x>>>=i.extra,b-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;B=(z=i.distcode[x&(1<<i.distbits)-1])>>>16&255,M=65535&z,!((S=z>>>24)<=b);){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}if(!(240&B)){for(T=S,L=B,P=M;B=(z=i.distcode[P+((x&(1<<T+L)-1)>>T)])>>>16&255,M=65535&z,!(T+(S=z>>>24)<=b);){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}x>>>=T,b-=T,i.back+=T}if(x>>>=S,b-=S,i.back+=S,64&B){e.msg="invalid distance code",i.mode=30;break}i.offset=M,i.extra=15&B,i.mode=24;case 24:if(i.extra){for(F=i.extra;b<F;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}i.offset+=x&(1<<i.extra)-1,x>>>=i.extra,b-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===A)break e;if(D=k-A,i.offset>D){if((D=i.offset-D)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=30;break}N=D>i.wnext?(D-=i.wnext,i.wsize-D):i.wnext-D,D>i.length&&(D=i.length),I=i.window}else I=m,N=v-i.offset,D=i.length;for(A<D&&(D=A),A-=D,i.length-=D;m[v++]=I[N++],--D;);0===i.length&&(i.mode=21);break;case 26:if(0===A)break e;m[v++]=i.length,A--,i.mode=21;break;case 27:if(i.wrap){for(;b<32;){if(0===y)break e;y--,x|=p[g++]<<b,b+=8}if(k-=A,e.total_out+=k,i.total+=k,k&&(e.adler=i.check=i.flags?r(i.check,m,k,v-k):s(i.check,m,k,v-k)),k=A,(i.flags?x:f(x))!==i.check){e.msg="incorrect data check",i.mode=30;break}b=x=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;b<32;){if(0===y)break e;y--,x+=p[g++]<<b,b+=8}if(x!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=30;break}b=x=0}i.mode=29;case 29:R=1;break e;case 30:R=-3;break e;case 31:return-4;default:return c}return e.next_out=v,e.avail_out=A,e.next_in=g,e.avail_in=y,i.hold=x,i.bits=b,(i.wsize||k!==e.avail_out&&i.mode<30&&(i.mode<27||4!==t))&&E(e,e.output,e.next_out,k-e.avail_out)?(i.mode=31,-4):(w-=e.avail_in,k-=e.avail_out,e.total_in+=w,e.total_out+=k,i.total+=k,i.wrap&&k&&(e.adler=i.check=i.flags?r(i.check,m,k,e.next_out-k):s(i.check,m,k,e.next_out-k)),e.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0==w&&0===k||4===t)&&R===d&&(R=-5),R)},i.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,d},i.inflateGetHeader=function(e,t){var i;return e&&e.state&&2&(i=e.state).wrap?((i.head=t).done=!1,d):c},i.inflateSetDictionary=function(e,t){var i,n=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?c:11===i.mode&&s(1,t,n,0)!==i.check?-3:E(e,t,n,n)?(i.mode=31,-4):(i.havedict=1,d):c},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,i){var n=e("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,h,l,d,c,u){var p,m,f,g,v,y,A,x,b,w=u.bits,k=0,C=0,E=0,D=0,N=0,I=0,S=0,B=0,M=0,T=0,L=null,P=0,O=new n.Buf16(16),R=new n.Buf16(16),_=null,F=0;for(k=0;k<=15;k++)O[k]=0;for(C=0;C<h;C++)O[t[i+C]]++;for(N=w,D=15;1<=D&&0===O[D];D--);if(D<N&&(N=D),0===D)return l[d++]=20971520,l[d++]=20971520,u.bits=1,0;for(E=1;E<D&&0===O[E];E++);for(N<E&&(N=E),k=B=1;k<=15;k++)if(B<<=1,(B-=O[k])<0)return-1;if(0<B&&(0===e||1!==D))return-1;for(R[1]=0,k=1;k<15;k++)R[k+1]=R[k]+O[k];for(C=0;C<h;C++)0!==t[i+C]&&(c[R[t[i+C]]++]=C);if(y=0===e?(L=_=c,19):1===e?(L=s,P-=257,_=r,F-=257,256):(L=o,_=a,-1),k=E,v=d,S=C=T=0,f=-1,g=(M=1<<(I=N))-1,1===e&&852<M||2===e&&592<M)return 1;for(;;){for(A=k-S,b=c[C]<y?(x=0,c[C]):c[C]>y?(x=_[F+c[C]],L[P+c[C]]):(x=96,0),p=1<<k-S,E=m=1<<I;l[v+(T>>S)+(m-=p)]=A<<24|x<<16|b,0!==m;);for(p=1<<k-1;T&p;)p>>=1;if(0!==p?(T&=p-1,T+=p):T=0,C++,0==--O[k]){if(k===D)break;k=t[i+c[C]]}if(N<k&&(T&g)!==f){for(0===S&&(S=N),v+=E,B=1<<(I=k-S);I+S<D&&!((B-=O[I+S])<=0);)I++,B<<=1;if(M+=1<<I,1===e&&852<M||2===e&&592<M)return 1;l[f=T&g]=N<<24|I<<16|v-d}}return 0!==T&&(l[v+T]=k-S<<24|64<<16),u.bits=N,0}},{"../utils/common":41}],51:[function(e,t,i){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,i){var n=e("../utils/common"),s=0,r=1;function o(e){for(var t=e.length;0<=--t;)e[t]=0}var a=0,h=29,l=256,d=l+1+h,c=30,u=19,p=2*d+1,m=15,f=16,g=7,v=256,y=16,A=17,x=18,b=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=new Array(2*(d+2));o(E);var D=new Array(2*c);o(D);var N=new Array(512);o(N);var I=new Array(256);o(I);var S=new Array(h);o(S);var B,M,T,L=new Array(c);function P(e,t,i,n,s){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=s,this.has_stree=e&&e.length}function O(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function R(e){return e<256?N[e]:N[256+(e>>>7)]}function _(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function F(e,t,i){e.bi_valid>f-i?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>f-e.bi_valid,e.bi_valid+=i-f):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function z(e,t,i){F(e,i[2*t],i[2*t+1])}function Q(e,t){for(var i=0;i|=1&e,e>>>=1,i<<=1,0<--t;);return i>>>1}function H(e,t,i){var n,s,r=new Array(m+1),o=0;for(n=1;n<=m;n++)r[n]=o=o+i[n-1]<<1;for(s=0;s<=t;s++){var a=e[2*s+1];0!==a&&(e[2*s]=Q(r[a]++,a))}}function j(e){var t;for(t=0;t<d;t++)e.dyn_ltree[2*t]=0;for(t=0;t<c;t++)e.dyn_dtree[2*t]=0;for(t=0;t<u;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*v]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function q(e){8<e.bi_valid?_(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function W(e,t,i,n){var s=2*t,r=2*i;return e[s]<e[r]||e[s]===e[r]&&n[t]<=n[i]}function V(e,t,i){for(var n=e.heap[i],s=i<<1;s<=e.heap_len&&(s<e.heap_len&&W(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!W(t,n,e.heap[s],e.depth));)e.heap[i]=e.heap[s],i=s,s<<=1;e.heap[i]=n}function U(e,t,i){var n,s,r,o,a=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],s=e.pending_buf[e.l_buf+a],a++,0===n?z(e,s,t):(z(e,(r=I[s])+l+1,t),0!==(o=b[r])&&F(e,s-=S[r],o),z(e,r=R(--n),i),0!==(o=w[r])&&F(e,n-=L[r],o)),a<e.last_lit;);z(e,v,t)}function X(e,t){var i,n,s,r=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,h=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=p,i=0;i<h;i++)0!==r[2*i]?(e.heap[++e.heap_len]=l=i,e.depth[i]=0):r[2*i+1]=0;for(;e.heap_len<2;)r[2*(s=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[s]=0,e.opt_len--,a&&(e.static_len-=o[2*s+1]);for(t.max_code=l,i=e.heap_len>>1;1<=i;i--)V(e,r,i);for(s=h;i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],V(e,r,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,r[2*s]=r[2*i]+r[2*n],e.depth[s]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,r[2*i+1]=r[2*n+1]=s,e.heap[1]=s++,V(e,r,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,n,s,r,o,a,h=t.dyn_tree,l=t.max_code,d=t.stat_desc.static_tree,c=t.stat_desc.has_stree,u=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,g=t.stat_desc.max_length,v=0;for(r=0;r<=m;r++)e.bl_count[r]=0;for(h[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<p;i++)g<(r=h[2*h[2*(n=e.heap[i])+1]+1]+1)&&(r=g,v++),h[2*n+1]=r,l<n||(e.bl_count[r]++,o=0,f<=n&&(o=u[n-f]),a=h[2*n],e.opt_len+=a*(r+o),c&&(e.static_len+=a*(d[2*n+1]+o)));if(0!==v){do{for(r=g-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[g]--,v-=2}while(0<v);for(r=g;0!==r;r--)for(n=e.bl_count[r];0!==n;)l<(s=e.heap[--i])||(h[2*s+1]!==r&&(e.opt_len+=(r-h[2*s+1])*h[2*s],h[2*s+1]=r),n--)}}(e,t),H(r,l,e.bl_count)}function G(e,t,i){var n,s,r=-1,o=t[1],a=0,h=7,l=4;for(0===o&&(h=138,l=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)s=o,o=t[2*(n+1)+1],++a<h&&s===o||(a<l?e.bl_tree[2*s]+=a:0!==s?(s!==r&&e.bl_tree[2*s]++,e.bl_tree[2*y]++):a<=10?e.bl_tree[2*A]++:e.bl_tree[2*x]++,r=s,l=(a=0)===o?(h=138,3):s===o?(h=6,3):(h=7,4))}function Y(e,t,i){var n,s,r=-1,o=t[1],a=0,h=7,l=4;for(0===o&&(h=138,l=3),n=0;n<=i;n++)if(s=o,o=t[2*(n+1)+1],!(++a<h&&s===o)){if(a<l)for(;z(e,s,e.bl_tree),0!=--a;);else 0!==s?(s!==r&&(z(e,s,e.bl_tree),a--),z(e,y,e.bl_tree),F(e,a-3,2)):a<=10?(z(e,A,e.bl_tree),F(e,a-3,3)):(z(e,x,e.bl_tree),F(e,a-11,7));r=s,l=(a=0)===o?(h=138,3):s===o?(h=6,3):(h=7,4)}}o(L);var K=!1;function J(e,t,i,s){F(e,(a<<1)+(s?1:0),3),function(e,t,i,s){q(e),s&&(_(e,i),_(e,~i)),n.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i,!0)}i._tr_init=function(e){K||(function(){var e,t,i,n,s,r=new Array(m+1);for(n=i=0;n<h-1;n++)for(S[n]=i,e=0;e<1<<b[n];e++)I[i++]=n;for(I[i-1]=n,n=s=0;n<16;n++)for(L[n]=s,e=0;e<1<<w[n];e++)N[s++]=n;for(s>>=7;n<c;n++)for(L[n]=s<<7,e=0;e<1<<w[n]-7;e++)N[256+s++]=n;for(t=0;t<=m;t++)r[t]=0;for(e=0;e<=143;)E[2*e+1]=8,e++,r[8]++;for(;e<=255;)E[2*e+1]=9,e++,r[9]++;for(;e<=279;)E[2*e+1]=7,e++,r[7]++;for(;e<=287;)E[2*e+1]=8,e++,r[8]++;for(H(E,d+1,r),e=0;e<c;e++)D[2*e+1]=5,D[2*e]=Q(e,5);B=new P(E,b,l+1,d,m),M=new P(D,w,0,c,m),T=new P(new Array(0),k,0,u,g)}(),K=!0),e.l_desc=new O(e.dyn_ltree,B),e.d_desc=new O(e.dyn_dtree,M),e.bl_desc=new O(e.bl_tree,T),e.bi_buf=0,e.bi_valid=0,j(e)},i._tr_stored_block=J,i._tr_flush_block=function(e,t,i,n){var o,a,h=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return s;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return r;for(t=32;t<l;t++)if(0!==e.dyn_ltree[2*t])return r;return s}(e)),X(e,e.l_desc),X(e,e.d_desc),h=function(e){var t;for(G(e,e.dyn_ltree,e.l_desc.max_code),G(e,e.dyn_dtree,e.d_desc.max_code),X(e,e.bl_desc),t=u-1;3<=t&&0===e.bl_tree[2*C[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=o&&(o=a)):o=a=i+5,i+4<=o&&-1!==t?J(e,t,i,n):4===e.strategy||a===o?(F(e,2+(n?1:0),3),U(e,E,D)):(F(e,4+(n?1:0),3),function(e,t,i,n){var s;for(F(e,t-257,5),F(e,i-1,5),F(e,n-4,4),s=0;s<n;s++)F(e,e.bl_tree[2*C[s]+1],3);Y(e,e.dyn_ltree,t-1),Y(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,h+1),U(e,e.dyn_ltree,e.dyn_dtree)),j(e),n&&q(e)},i._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(I[i]+l+1)]++,e.dyn_dtree[2*R(t)]++),e.last_lit===e.lit_bufsize-1},i._tr_align=function(e){F(e,2,3),z(e,v,E),function(e){16===e.bi_valid?(_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,i){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,i){(function(e){!function(e,t){if(!e.setImmediate){var i,n,s,r,o=1,a={},h=!1,l=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,i="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){u(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?(r="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",p,!1):e.attachEvent("onmessage",p),function(t){e.postMessage(r+t,"*")}):e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){u(e.data)},function(e){s.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(n=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){u(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):function(e){setTimeout(u,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var s={callback:e,args:t};return a[o]=s,i(o),o++},d.clearImmediate=c}function c(e){delete a[e]}function u(e){if(h)setTimeout(u,0,e);else{var i=a[e];if(i){h=!0;try{!function(e){var i=e.callback,n=e.args;switch(n.length){case 0:i();break;case 1:i(n[0]);break;case 2:i(n[0],n[1]);break;case 3:i(n[0],n[1],n[2]);break;default:i.apply(t,n)}}(i)}finally{c(e),h=!1}}}}function p(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&u(+t.data.slice(r.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==we?we:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)})),Ci={},Ei=["#fda16c","#74bdf7","#71FF5E","orange","#D4D4AA","yellow"];
/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/const Di=function(e,t){Ci={theme:"blue",mindData:[],induceData:[],wireFrameData:[],relateLink:[],background:"",relateLinkData:[],calloutData:[],marks:[]};var i=[];Ii(e.rootTopic,null,i,!0,t);var n=i[0];return e.rootTopic.children&&e.rootTopic.children.detached&&e.rootTopic.children.detached.forEach((e=>{var t=[];Ii(e,n.id,t),i=i.concat(t)})),Ci.mindData.push(i),e.relationships&&e.relationships.forEach((e=>{var t={startNodeId:e.end1Id,endNodeId:e.end2Id,nodeData:{text:"",nodeType:"relateLink",backgroundColor:"#f06"}};e.title&&(t.nodeData.text=e.title),Ci.relateLinkData.push(t)})),Ci};var Ni={"task-start":"0","task-oct":"10","task-3oct":"30","task-5oct":"50","task-7oct":"70","task-9oct":"90","task-done":"100"};function Ii(e,t,i,n,s){var r,o,a,h="";e.title&&(h=e.title.replace(/(\r\n)|(\n)/g,"<br/>"));var l={id:e.id,pid:t,text:h,note:"",marks:[],isExpand:!0,image:"",imageName:"",x:0,y:0};if(t||(l.layout={},l.layout.layoutName="mindmap2",l.layout.direct="right",n&&(l.isRoot=!0,l.main=!0,l.x=4e3,l.y=4e3)),e.href&&(l.link=e.href,l.text=l.text+`[](${e.href})`),e.notes&&(l.note=null===(o=null===(r=e.notes.plain)||void 0===r?void 0:r.content)||void 0===o?void 0:o.replace(/\n/g,"<br>").trim()),e.image&&(l.imageName=e.image.src.replace("xap:resources/",""),s))for(var d in s)d.indexOf(l.imageName)>-1&&(l.text=`![[${s[d].path}]]\n                ${h}\n                `);e.labels&&(l.marks=[],e.labels.forEach((e=>{l.marks.push({id:bs(),text:e,fill:Ei[parseInt(Math.random()*Ei.length+"")]})}))),e.markers&&e.markers.forEach((e=>{e.markerId.indexOf("priority")>-1&&(l.priority=e.markerId.split("-")[1]),e.markerId.indexOf("task")>-1&&(l.percent=Ni[e.markerId])})),i.push(l),e.children&&e.children.attached&&(null===(a=e.children.attached)||void 0===a||a.forEach((t=>{Ii(t,e.id,i,null,s)}))),e.summaries&&e.summaries.forEach((t=>{var i,n,r=t.range.substring(1,t.range.length-1),o=r.split(",")[0],a=r.split(",")[1],h={induceData:{nodeId:t.topicId,range:r,id:t.id}};null===(n=null===(i=e.children)||void 0===i?void 0:i.attached)||void 0===n||n.forEach(((e,t)=>{t==o&&(h.induceData.nodeId=e.id),t==a&&(h.induceData.endNodeId=e.id)}));var l=[];Ii(e.children.summary.filter((e=>e.id==t.topicId))[0],null,l,null,s),l[0].nodeType="induce",h.mindData=l,Ci.induceData.push(h)})),e.boundaries&&e.boundaries.forEach((t=>{var i,n,s=t.range.substring(1,t.range.length-1),r=s.split(",")[0],o=s.split(",")[1],a={stroke:"rgb(206, 214, 218)",fill:"transparent",lineDash:[6,2],radius:10,data:{text:"",nodeType:"wireFrame"}};t.title&&(a.data={text:t.title,nodeType:"wireFrame"}),null===(n=null===(i=e.children)||void 0===i?void 0:i.attached)||void 0===n||n.forEach(((e,t)=>{t==r&&(a.nodeId=e.id),t==o&&(a.endNodeId=e.id)})),a.range=s,Ci.wireFrameData.push(a)})),e.children&&e.children.callout&&e.children.callout.forEach((t=>{var i={nodeId:e.id,color:"#f06",rootData:{text:t.title,id:t.id}};Ci.calloutData.push(i)}))}var Si=null,Bi={},Mi=null,Ti=[],Li={};function Pi(e,t,i,n){t||(e.layout={},e.layout.layoutName="mindmap2",e.layout.direct="right",n?(e.isRoot=!0,e.main=!0,e.x=4e3,e.y=4e3):e.layout.layoutName="mindmap2"),i.push(e),e.children&&e.children.forEach((t=>{Pi(t,e.id,i)}))}function Oi(e,t){var i=e.getAttribute("text"),n={id:bs(),text:i,children:[]};if(t&&t.children.push(n),e.children&&e.children.length)for(let t=0;t<e.children.length;t++)e.children[t]&&Oi(e.children[t],n);return n}function Ri(e){if(!(e=e.trim()).startsWith("<?xml")){let i=e.indexOf("<?xml");var t=e.lastIndexOf("</opml>");i>-1&&t>-1&&(e=e.substring(i,t+7))}var i=[],n=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("body")[0];if(n.children&&1==n.children.length){var s=n.children[0];if(s)for(let e=0;e<s.children.length;e++){var r=Oi(s.children[e]);i.push(r)}}if(n.children&&n.children.length>1)for(let e=0;e<n.children.length;e++)if(n.children[e]){r=Oi(n.children[e]);i.push(r)}return i}let _i={dark:{name:"dark",stroke:"rgb(115, 154, 163)",summaryStroke:"rgb(253, 241, 107)",relateLinkStroke:"rgb(206, 214, 218)",boundaryStroke:"rgb(206, 214, 218)",boundaryFill:"transparent"},light:{name:"light",stroke:"#383833",summaryStroke:"#333",relateLinkStroke:"#383833",boundaryStroke:"#c31105",boundaryFill:"transparent"},card:{name:"card",stroke:"#636d77",summaryStroke:"#636d77",relateLinkStroke:"#636d77",boundaryStroke:"#636d77",boundaryFill:"transparent"},black:{name:"black",stroke:"#383833",summaryStroke:"#333",relateLinkStroke:"#383833",boundaryStroke:"#c31105",boundaryFill:"transparent"},warm:{name:"warm",stroke:"#4E342E",summaryStroke:"#FF8A80",relateLinkStroke:"#FF8A80",boundaryStroke:"#FF8A80",boundaryFill:"transparent"},white:{name:"white",stroke:"#333",summaryStroke:"rgb(251,81,81)",relateLinkStroke:"rgb(251,81,81)",boundaryStroke:"rgb(251,81,81)",boundaryFill:"transparent"},cold:{name:"cold",stroke:"rgb(115, 154, 163)",summaryStroke:"rgb(253, 241, 107)",relateLinkStroke:"rgb(206, 214, 218)",boundaryStroke:"rgb(206, 214, 218)",boundaryFill:"transparent"},normal:{name:"normal",stroke:"#f5f5f5",summaryStroke:"#f6f6f6",relateLinkStroke:"#ccc",boundaryStroke:"#f6f6f6",boundaryFill:"rgba(255,255,255,.2)"},relax:{name:"relax",stroke:"#fff",summaryStroke:"#fff",relateLinkStroke:"#fff",boundaryStroke:"#fff",boundaryFill:"rgba(255,255,255,.2)"}};if(e.Platform.isDesktopApp)var{shell:Fi}=require("electron");else var Fi=null;function zi(e){var t,i=0,n=e.ownerDocument||e.document,s=n.defaultView||n.parentWindow;if(void 0!==s.getSelection){if((t=s.getSelection()).rangeCount>0){var r=s.getSelection().getRangeAt(0),o=r.cloneRange();o.selectNodeContents(e),o.setEnd(r.endContainer,r.endOffset),i=o.toString().length}}else if((t=n.selection)&&"Control"!=t.type){var a=t.createRange(),h=n.body.createTextRange();h.moveToElementText(e),h.setEndPoint("EndToEnd",a),i=h.text.length}return i}function Qi(e){for(var t=[],i=0;i<e.length;i++)-1==t.indexOf(e[i])&&t.push(e[i]);return t}function Hi(e,t){var i=t.parentNode;i&&i.lastChild==t?i.appendChild(e):i.insertBefore(e,t.nextSibling)}let ji='<svg class="icon" width="16px" height="16.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M799.2 874.4c0 34.4-28 62.4-62.368 62.4H287.2a62.496 62.496 0 0 1-62.4-62.4V212h574.4v662.4zM349.6 100c0-7.2 5.6-12.8 12.8-12.8h300c7.2 0 12.768 5.6 12.768 12.8v37.6H349.6V100z m636.8 37.6H749.6V100c0-48-39.2-87.2-87.2-87.2h-300a87.392 87.392 0 0 0-87.2 87.2v37.6H37.6C16.8 137.6 0 154.4 0 175.2s16.8 37.6 37.6 37.6h112v661.6A137.6 137.6 0 0 0 287.2 1012h449.6a137.6 137.6 0 0 0 137.6-137.6V212h112c20.8 0 37.6-16.8 37.6-37.6s-16.8-36.8-37.6-36.8zM512 824c20.8 0 37.6-16.8 37.6-37.6v-400c0-20.8-16.768-37.6-37.6-37.6-20.8 0-37.6 16.8-37.6 37.6v400c0 20.8 16.8 37.6 37.6 37.6m-175.2 0c20.8 0 37.6-16.8 37.6-37.6v-400c0-20.8-16.8-37.6-37.6-37.6s-37.6 16.8-37.6 37.6v400c0.8 20.8 17.6 37.6 37.6 37.6m350.4 0c20.8 0 37.632-16.8 37.632-37.6v-400c0-20.8-16.8-37.6-37.632-37.6-20.768 0-37.6 16.8-37.6 37.6v400c0 20.8 16.8 37.6 37.6 37.6" /></svg>',qi={left:'<svg t="1639299949096" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3192" width="16" height="16"><path d="M118.153846 275.692308l787.692308 0 0 78.769231-787.692308 0 0-78.769231Z" p-id="3193"></path><path d="M118.153846 472.615385l315.076923 0 0 78.769231-315.076923 0 0-78.769231Z" p-id="3194"></path><path d="M118.153846 669.538462l551.384615 0 0 78.769231-551.384615 0 0-78.769231Z" p-id="3195"></path></svg>',right:'<svg t="1639299992428" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3369" width="16" height="16"><path d="M118.153846 275.692308l787.692308 0 0 78.769231-787.692308 0 0-78.769231Z" p-id="3370"></path><path d="M590.769231 472.615385l315.076923 0 0 78.769231-315.076923 0 0-78.769231Z" p-id="3371"></path><path d="M354.461538 669.538462l551.384615 0 0 78.769231-551.384615 0 0-78.769231Z" p-id="3372"></path></svg>',center:'<svg t="1639300701017" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3723" width="16" height="16"><path d="M157.538462 275.692308l708.923077 0 0 78.769231-708.923077 0 0-78.769231Z" p-id="3724"></path><path d="M157.538462 472.615385l708.923077 0 0 78.769231-708.923077 0 0-78.769231Z" p-id="3725"></path><path d="M157.538462 669.538462l708.923077 0 0 78.769231-708.923077 0 0-78.769231Z" p-id="3726"></path></svg>'},Wi='<svg t="1639459396796" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2501" width="28" height="28"><path d="M768 199.111111h-512a56.888889 56.888889 0 0 0-56.888889 56.888889v512a56.888889 56.888889 0 0 0 56.888889 56.888889h512a56.888889 56.888889 0 0 0 56.888889-56.888889v-512a56.888889 56.888889 0 0 0-56.888889-56.888889z m0 227.555556h-170.666667v170.666666h170.666667v170.666667h-170.666667v-170.666667h-170.666666v170.666667h-170.666667v-170.666667h170.666667v-170.666666h-170.666667v-170.666667h170.666667v170.666667h170.666666v-170.666667h170.666667z" p-id="2502"></path></svg>';class Vi{constructor(e,t,i,n=!0){if(this._nodeNum=0,this._tempNum=0,this.colors=[],this.scalePointer=[],this.mindScale=100,this.timeOut=null,this._dragType="",this.induces=[],this.induceGroup=null,this.freeNodes=[],this.wireFrames=[],this.wireFrameGroup=null,this.callouts=[],this.calloutGroup=null,this.relateLinks=[],this.relateGroup=null,this.xmindImageTarget="",this.parent=null,this.useHoverEdit=!1,this._doubleMark=0,this.showFilter=!1,this._mode="basic",this._initTime=null,this.isMobile=!1,this.isRead=!1,this._setupAssistBoard=null,this.themeConfig=null,this.isEditNote=!1,this._noteTab=null,this._noteTabArr=[],this.useAnimate=!1,this._initEvents=!0,this._scaleDom=null,this.allowDragNode=!0,this._delayRefresh=[],this.linkMenu=null,this._colors=["#333","rgb(78, 52, 46)","#666","#ccc","orange","rgb(51, 51, 51)","rgb(240, 244, 195)","red","blue","rgb(5, 196, 235)","rgb(16, 151, 232)","rgb(164, 195, 190)","rgb(67, 160, 71)","rgb(115, 154, 163)","rgb(40, 53, 147)","white","#44CEF6","#72A779","#6DD625","#3E76A5","#943ACA","#7ADD99","#E82C0D","#B386B8","#D8B24D","#333"],this._strokeWidth=[1,2,3,4],this._strokeStyle=["solid","dashed","dotted"],this._textAlign=["left","center","right"],this._fontSize=[12,14,16,18,20,22,24],this._fontStyle=["bold","italic","underline","line-throw"],this._nodeBoard=null,this._isSelectNode=!1,this._selectDom=null,this._offsetX=0,this._offsetY=0,this._clientX=0,this._clientY=0,this.tableDom=null,this._themeName="",this.isScale=!1,this._setTime=null,this._scrollLeft=0,this._scrollTop=0,this._searchDom=null,this.useHandMode=!1,this._rc=null,this.basicLayoutInfo=null,this.useCustomShortcut=!1,this.doc=null,this.isScaleing=!1,this.timeScale=null,this._autoCenter=!1,this.addCollapseNodeMark=!1,this._themeDom=null,this._exportImages=[],this.setting=Object.assign({theme:"default",canvasSize:8e3,fontSize:16,background:"transparent",color:"inherit",exportMdModel:"default",headLevel:2,layoutDirect:"",layout:"mindmap1",strokeArray:[],pdfjsPath:"",useAnimate:!1,nodeColorArray:"",useHandMode:!1},i||{}),this.data=e,this.useHandMode=this.data.useHandMode||!1,this.setting.nodeColorArray)try{this._colors=this.setting.nodeColorArray.split(",")}catch(e){console.log(e)}this._initEvents=n,this.appEl=document.createElement("div"),this.appEl.classList.add("mm-mindmap"),this.appEl.classList.add(`mm-theme-${this.setting.theme}`),this.appEl.style.overflow="hidden",this.contentEL=document.createElement("div"),this.contentEL.style.position="relative",this.contentEL.style.width="100%",this.contentEL.style.height="100%",this.appEl.appendChild(this.contentEL),this.draw=Be(this.contentEL).size("100%","100%"),this.contentEL.classList.add("mm-mindmap-content"),this.useHandMode&&(this._rc=ye.svg(this.draw),this.appEl.classList.add("mm-handdraw-theme")),this.setAppSetting(),t.appendChild(this.appEl),this.containerEL=t,this.doc=this.containerEL.doc||document,this._indicateDom=document.createElement("div"),this._indicateDom.classList.add("mm-node-layout-indicate"),this._indicateDom.style.display="none",this._menuDom=document.createElement("div"),this._menuDom.classList.add("mm-node-menu"),this._menuDom.style.display="none",this.setMenuIcon(),this.contentEL.appendChild(this._indicateDom),this.contentEL.appendChild(this._menuDom),this._linkboard=document.createElement("div"),this._linkboard.classList.add("mm-link-board"),this.contentEL.appendChild(this._linkboard),this._linkboard.style.display="none",this._setupAssistBoard=document.createElement("div"),this._setupAssistBoard.classList.add("mm-assist-board"),this._setupAssistBoard.style.display="none",this.contentEL.appendChild(this._setupAssistBoard),this._setupAssist(),this.exec=new ft,this.wireFrameGroup=this.draw.group(),this.induceGroup=this.draw.group(),this.edgeGroup=this.draw.group(),this.relateGroup=this.draw.group(),this.calloutGroup=this.draw.group(),this._setFrame(),this._blockDom=document.createElement("div"),this._blockDom.classList.add("mm-block"),this.linkMenu=document.createElement("div"),this.linkMenu.style.display="none",this.linkMenu.classList.add("mm-link-menu"),this._createLinkMenu(),this.contentEL.appendChild(this.linkMenu),this._createNoteDom(),this._createNodeBoard(),this.data.useScale&&this._createScaleDom(),this._layoutDom=document.createElement("div"),this._layoutDom.classList.add("mm-change-layout-board"),this.contentEL.appendChild(this._layoutDom),this._initChangeLayoutDom(),this._readAppClickFn=this._readAppClickFn.bind(this),this._readAppMouseDown=this._readAppMouseDown.bind(this),this._readAppMouseMove=this._readAppMouseMove.bind(this),this._readAppMouseUp=this._readAppMouseUp.bind(this),this._initEvents&&!this.useHandMode&&(this.appClickFn=this.appClickFn.bind(this),this.appDragstart=this.appDragstart.bind(this),this.appDragend=this.appDragend.bind(this),this.appDragover=this.appDragover.bind(this),this.appDblclickFn=this.appDblclickFn.bind(this),this.appMouseOverFn=this.appMouseOverFn.bind(this),this.appDrop=this.appDrop.bind(this),this.appKeyup=this.appKeyup.bind(this),this.appKeydown=this.appKeydown.bind(this),this.appMousewheel=this.appMousewheel.bind(this),this.appMouseMove=this.appMouseMove.bind(this),this.appMouseLeaveFn=this.appMouseLeaveFn.bind(this),this.appMouseDown=this.appMouseDown.bind(this),this.appMouseUp=this.appMouseUp.bind(this),this._assistClickFn=this._assistClickFn.bind(this),this._noteClick=this._noteClick.bind(this),this._paste=this._paste.bind(this),this.containerMousdown=this.containerMousdown.bind(this),this.initNode=this.initNode.bind(this),this.renderEditNode=this.renderEditNode.bind(this),this.mindMapChange=this.mindMapChange.bind(this),this.showWireFrame=this.showWireFrame.bind(this),this.showRelateLink=this.showRelateLink.bind(this),this._nodeBoardClick=this._nodeBoardClick.bind(this),this.initEvent()),this._initMustEvent()}_createLinkMenu(){this.linkMenu&&(this.linkMenu.innerHTML='<svg t="1701567468429" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10119" data-spm-anchor-id="a313x.search_index.0.i1.5e923a81hpGnJn" width="16" height="16"><path d="M864 128l-576 0C268.8 128 256 140.8 256 160S268.8 192 288 192l499.2 0L102.4 870.4c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 12.8 6.4 25.6 6.4s19.2 0 25.6-6.4L832 236.8l0 499.2c0 19.2 12.8 32 32 32s32-12.8 32-32l0-576C896 140.8 883.2 128 864 128z" p-id="10120"></path></svg>',this.linkMenu.onclick=()=>{var t=this.linkMenu.getAttribute("data-link");t&&(e.Platform.isDesktopApp&&Fi?Fi.openExternal(t):window.open(t)),this.linkMenu.style.display="none"})}_initChangeLayoutDom(){var e={"mindmap2-mindmap":"data:image/png;base64,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","mindmap2-right":"data:image/png;base64,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","mindmap2-left":"data:image/png;base64,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","tree-down":"data:image/png;base64,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","tree-up":"data:image/png;base64,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AgQICAx6gAABAgQIECgKCAxFIgMIECBAgAABgUEPECBAgAABAkUBgaFIZAABAgQIECAgMOgBAgQIECBAoCggMBSJDCBAgAABAgQEBj1AgAABAgQIFAUEhiKRAQQIECBAgIDAoAcIECBAgACBooDAUCQygAABAgQIEBAY9AABAgQIECBQFBAYikQGECBAgAABAgKDHiBAgAABAgSKAgJDkcgAAgQIECBAQGDQAwQIECBAgEBRQGAoEhlAgAABAgQICAx6gAABAgQIECgKCAxFIgMIECBAgAABgUEPECBAgAABAkUBgaFIZAABAgQIECAgMOgBAgQIECBAoCggMBSJDCBAgAABAgQEBj1AgAABAgQIFAUEhiKRAQQIECBAgIDAoAcIECBAgACBooDAUCQygAABAgQIEBAY9AABAgQIECBQFBAYikQGECBAgAABAgKDHiBAgAABAgSKAgJDkcgAAgQIECBAQGDQAwQIECBAgEBRQGAoEhlAgAABAgQICAx6gAABAgQIECgKCAxFIgMIECBAgAABgUEPECBAgAABAkUBgaFIZAABAgQIECAgMOgBAgQIECBAoCggMBSJDCBAgAABAgQEBj1AgAABAgQIFAUEhiKRAQQIECBAgIDAoAcIECBAgACBooDAUCQygAABAgQIEBAY9AABAgQIECBQFBAYikQGECBAgAABAgKDHiBAgAABAgSKAgJDkcgAAgQIECBAQGDQAwQIECBAgEBRQGAoEhlAgAABAgQICAx6gAABAgQIECgK/B/v7kdqxz+VxwAAAABJRU5ErkJggg==","mindmap2-table":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAAEOCAYAAADi23kRAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABHKSURBVHhe7d1fiBxVosfxHvshMtGJoi+5GUHBhZAr5EFnIIviclckj4KYB8VEnKtwkUi4+LJi5mEi/nm5iLKsoAlmBB8igSCCQZxlJYIQ/4DiDcIiKsY7+A9NNJIs9Mz9/U6fKqorMz3dM90nXT3fD5zU36mq1NSvT1VNV50aAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYaCOx2xcffPDBYuwFKmdiYqLn+eh74G655ZY4BFTHhx9+2JfAXRa7ABIgcEBCBA5IiMABCRE4ICECByRE4ICECByQEIEDEiJwQEIEDkiIwAEJETggIQIHJETggIQIHJAQgQMSqmTgXnjhhZqfJF+uPPDAA7Vffvklzt1/H3/8cfJ1opqGsob77LPPavfff3/tyy+/jGP654033qg9/PDDcQhob2hPKefn52tvvvlmHAIGQ6UDt3Pnztp7770XXviSFQ97vH333Xe18+fPh/5M+XT0iSeeuGieTLt53fXwzMxMGHatescdd7RdHrBubpr4+srXWYcPH45jmo4fP1675557Wk4/u5kX6EalA+cA3HrrrS21kIc93iYnJ2uXX3556H/11VdDLbR58+ba66+/HmrDd955p3bTTTeF08+DBw/mNVMn89qTTz5Zm56eDv2e5nk8LlsnUDa0NZxPK++8887Q7xrro48+Cv0PPfRQ7YYbbgj9V111Ve3RRx8N/Z988kkIUzfzAt0ausDt2bMn1EjFmubnn3+u/fTTT6F/fHw8dDNXX311qMkcIM/XzbxAt4bmpomDZr7u8s0OYBANTQ23d+/eltD572MZ10zXXHNN6D99+nToZlxTucZyzeX5upkX6NZQnVL6miv7k8BLL72U30309dfNN98c+ovjfb32/PPPh/7t27eHIHUzL9CtoQqcr9mmpqby66zinUd/8yS7y+hb+76j6b+b+W6kxz/22GP5NV8382bXefwdDp0Yupsmvqvoms7854G333479LvmeuWVV/LTzoxrxBdffDFMz3Qz77Zt2/Ja1XwaSuCwHJqrApbgG3E0VwVUHIEDEiJwQEIEDkiIwAEJETggIQIHJETggIQIHJAQgQMSInBAQgQOSIjAAQkROCAhAgckROCAhAgckBCBAxIicMCw8DtNYi/6gP3bP/3at9RwQEIEDkiIwAEJETggIQIHJETggIQIHJAQgQMSInBAQgQOSIjAAQkROCAhAgckROCQO3fu3IzKBZXFQnk5Tl6R5p35/fffz7obR7XlZauc/vXXX/8jDv+vy0rTqozAIdDBPDMyMrJPvc9u3LhxxEX9B1TuV4je8Tz9pnX+u0scHEoEDoHC9sfFxcWzCwsL/4ijHIBpjT+h8Vtd0/z2228On2uwvNZzGIs1UXSfxmU15JK1UlzGlMqWer1+zMv2vLFcNE39LTyPyqpq4kuJwCFQqL5SZ8tll112b3NM0+jo6B0K3viVV1759ziqLS1ngzobFNw/u6h/k8JwUei0zP9U56DKt41G464rrrji1TBB2k0zh0sfBLu0rt2aN9TEHtb4jk5lLyUCh8AHuQ7aOfVOxRrDpVxzrUjLuKDOIQc0hvS4xl23VC21GnF7dipsR7Igatun1TmpcreHBxmBQy7WZtn12ykV13hz3VzDKQgXVP4ZB+3//I9C94cwtEZazhaVMfUWPxi0ykXXpgOPwGFJCp1vYDh4PrWb7FUN1UMHsw+HQhn4Gy4EDuE0zaePy9RkXdVQmm9Dad5/8z+lWm/VtJxvVc5qHdfHUZVC4FDLrrV8Wqbgle/23a3x36j2mM4Odo3b4Qmx1pt0f0bTfdMkXEt5uoKxS70nyzc+VquwrbdpW8NNkhU+MAYKgUOgQPnOYPi7m6+JsqLAzGenavFgP6Ryo6fp+u6vOvDzPyNEDuT5+LOzmv6Nrw2bk1pp2ruaZ0zLeUvzt9xhbDfN26ppJ9S7P27HnIY/X2496wbvTewv9m//8F5KYAgQOCAhAgckROCAhAgckBCBAxIicEBCBA5IiMABCVUucOeaTwTnXz1S6fiZLX+3r/zEcjueX/P+oBK+WuRu/PmZdtM8DCylUoHTwRyeHN5YeCRDg2eWewy/17S+6dHR0TF34yigK5UJXPzm+XXqfb85pmlxcfEZdzXtdncdyiyYtkzNs0PDbWtIr89fzlXvtSr+kqzfoZEt61h5mrot/PNx3mw9lX/jFNauMoFTsLJHQ3YWA+LHPmKt42+7d8TB1bKy92GcUXhmy6HzchcWFh5R748qB0rL/7TNtDysWscRryN7t4cCOPCPj6C/fMD1jb9xPTEx0bN1FA7kK+Mo85O/+QGf1SQaFx4p0XB4/Zt+5jmVfxaCEH6mOF3jWk4VY636P+r9m6eVl7XcNHX9BqzN2TaYp6vzXxr/3716NoynBfqrl8duEv08IHwAq4SXlvrUzeGI45c9pfQ86uY3Oszj4vQlTwuL87u73LKK01TKN3ZCKW5nLxC4/uHxnBLXKirhdWyqNc6q5toTJw2KU9q+4vs2Rnzq26vaDdVUmcCphnh5qRoiPoV8xqdwzTHt6XTPrwAI79kwDWfv3wjv7ugFLXNenU2d/rkC60dlAqea7DXXZDqYny4eyAqir5189/Koh32we7gQTL+TwyErCjde4nIe1PTwzo7mpLXTth7WNozV6/XH46jl3lCMdaYygXNNplCMq9d3Feey6yId2Pt8xzALTKPReCoGc9bTNeoLFd/dDDTNLyr92stw8Tj9/F53y+Lp3/cq+x2YMDJaaZrW4xsrftFN2E7ZqvXsjjUy0Htc1PcX+7d/uGkCDAECByRE4ICECByQEIEDEiJwQEIEDkiIwAEJETjkzjWfdAhPYBRKx43Va96lHvZdlpetkn/dTf35kx7tplUZgUOggzk8z6feZ7OnG9Qfmq8qf3WtX7ROt7o68K2YrgWBQ6Cw+aHZswsLC3l7b/5+qsaf8PdAXdP4C+GxBstrPYexWBNF92lcVkMuWSvFZUypbMneSeN5Y7lomvpbeB6VVdXElxKBQ6BQfaWOG9G/tzmmyY0cKnjjnX7pWsvxkxnhOUUX9W9SGC4KnZbpJ+7dfvi3jUbjruJzgu2mmcOlD4JdWlf2mowDHtb4jk5lLyUCh8AHuQ5aPz0xFWsMl64fJ9Iy/DTGIQc0hvS4xhUfl1qTuD07FbYjWRC17X5S5KRKaOp4kBE45GJtll2/nVJxjTfXzTWcgnBBpdiAfleN8q9Ey9miMqbe4geDVrno2nTgETgsSaHzDQwHz6d2k72qoXrIL49qeYWFysDfcCFwCKdpPn1cpibrqobSfBtK84bXWZRqvVXTcsLrErWO6+OoSiFwyN4Lc9ynZQpe+W6fX1ERXkGRHewat8MTYq036f6MpvumSbiW8nQFY5d6T5ZvfKxWYVv9NH24SbLCB8ZAIXAIFCjfGQx/d/M1UVYUmPnsVC0e7IdUbvQ0Xd/5HZ/5nxEiB/J8/NlZTf/G14bNSa007V3NM6blvKX5W+4wtpvmbdW0E+r1W6+9HXMa/ny59awbvAKgv9i//cMrFoAhQOCAhAgckBCBAxIicEBCBA5IiMABCRE4ICECByRE4ICECByQEIEDEiJwQEJ+ordv+DY7qmxiYqKv+eg5Atdf7N/+4fEcYAgQOCAhAgckROCAhAgckBCBAxIicEBCBA5IiMABCRE4ICECByRE4ICECByQUOUCd67Z6HreuotKx83iuvmkcqPw7Xh+zfuDSmi9xd348zPtpnm4irztKhdUivu348bqNW9X+8DLVsl/f+oPjeqvNK3KKhW4bIdvLLR6qcEz9Xr9WGyrrK+0vunR0dExd+OooaF9OzMyMrJPvc8W9m1ovipVu2tap1tdHfhWTNeiMoGLjftdp973m2OaFhcXn3FX0253t/xJ6ANpiU/dHRpuW0N6fW7/TL3XqrgdMn/iZss6Vp6mbgv/fJw3W89Afzpr//1R+/LswsJC3t6bP1g0/oTGb/U+Kvyf8v+vw6jh8j68b6X/d1zGlMqW7APT88Zy0TT1t/A8Ktk6XDquiS+lygROv/Ss9c2dxV+uW9aMtY4bFOyIg6tl7Y6f4mcUntly6LxcHXyPqPdHlQOl5X/aZloeVq3jiNehed3g+yYfnM05Bo+29St13Ij+vc0xTbGh/fHYGOOKtBy3gLrB/+fs/60wXBS6uM/cfvi3jUbjrmILqe2mmcOl3+Guwu/wgIc1fuBP5ysTOP/CtYP/oh3rVjHn4qfaqj7ZHITCL/FoXOaf4vCaaVl7tA430xuCmLUcqnHbl/q0HgTeVu2HOfVOFfZtx9fHGS3jgjqH/H+O/+/jGnddr/7fcXt2Fn+H2naf4p9UCU0dD7JKXcN5B8faLLu++JfKlE9zOv2F6hflAyI0FG8azhp7D42/94KWuVmdbYUD14/r79eB50//gRVrs+z67ZSKa7y5bmpm79/CPrWuGuVfiZazRWVMvcUPBq1y0bXpwKtU4Ir8qaYSTl20s8+6VomTBsWp7ODNij8syqdHg0rb6xsYDp5P7SYHsGY+WNy3sQz8DZfKBE6fYi8vVZPF05YzCp1rlRXFWiavzQqfvHmtt1Za5rw6m7o9HbtUvJ3av6eXqcm6qqG8f0vzhn1dqvVWTcsJ1/Jax/VxVKVUJnCqyV6LO/rp4oGsA8W3s3338qiH1T/v4UIw79bPlU/lwo2XuJwHNd3XWz271a9tPaxtGKvX64/HUcvdzRsI2bWW9sOf/cHWHJvz/gv7R93sxtUOT4j7eNL9GU33vg7XUp6u/bBLvSd7VbMXtvU2/+49boUPjIFSqZsm+qWPq9d3FfObJvqF7tMB/kgWmEaj8ZQPCo2f9XSN+kLFB0mgab6G+9rLcPE4/fxed8viQfK9yv7yL3OlaVrPc/GgyK4xtmo9u+MBM3C0/3yDJ/zdLdtmF+3HeU0Lp2px2w+p3Ohp2n++E5v/GSHyvj4ff3ZW07/xtWFzUitNe1fz+IbVW5q/5Q5ju2neVk07oV7/ScbbMafhz5dbz7rBexP7i/3bP7yXEhgCBA5IiMABCRE4ICECByRE4ICECByQEIEDEiJwQEIEDkiIwAEJETggIQIHJOQnevuGb7OjyiYmJvqaj54jcKgqHs8BhgCBAxIicEBCBA5IiMABCRE4ICECByRE4ICECByQEIEDEiJwQEIEDkiIwAEJVS5w55qNruetu6h03ASUm0/6vdQofDueX/P+oBJab3E3/vxMu2keBpZSqcDpYA6Ns28stHqpwTP1ev1YbKusr7S+6djkcc/aksP6UpnAxcb93PDi+80xTYuLi8+4q2m3u+tQZsG0ZWqeHRpuW0N6fW7/TL3Xqrgdspe9jLisY+Vp6rbwz8d5s/Xk24T1qzKBU7Cy1jdD66XNsS0N7btBwY44uFrW7qyGVHhmy6Hzct3Qo3p/VDlQWv6nbablYdU6jngdmtcNvm9SAAe+hU70V2UC59Y3dQD/RWFxq5h5C6gqHV2PFTkIsQVTOxqX+ac4vGZa1h6tw830hiBmLYdq3PYUp74YXJW6hivUZq6Z3Dzuv1SmfOrW6YGsg95NDucN6Gs4a+w9b2h/rbRMN/C/rfCh4Mf19yvY5bbGsc5UKnBFCt20ygafrukAP+taJU4aFKf8wVAs/rAo1KxYhyoTOJ86LlWTxdO1M7FWWVGsZfLaTMN/iL15rbdWWua8Ops6/XMF1o/KBE412WuuyXQwP108kBXEGY3z3cujHvbB7uFCMO/Wz5VP5cKNl7icBzXd11s9u9WvbT2sbRir1+uPx1E13zDRtnb8N0MMp0rdNFEoxtXru4r5TRMd2Pt8xzALTKPReCoGc9bTNeoLFd/dDDTN13BfexkuHqef3+tuWTz9+15lf/kO40rTtJ7nVG7LtlO2aj27Y40M9B7vpURV8V5KYAgQOCAhAgckROCAhAgckBCBAxIicEBCBA5IiMABCRE4ICECByRE4ICECByQkF9V0Dc8LYAqm5iY6Gs+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKCoVvt/rzhOJLUSMu4AAAAASUVORK5CYII=","fish-fishRight":"data:image/png;base64,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","fish-fishLeft":"data:image/png;base64,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","mulipleTree-multip":"data:image/png;base64,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","mulipleTree-multipRight":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAY4AAAHTCAYAAAAwFP9VAAAAAXNSR0IArs4c6QAAIABJREFUeF7t3XuYXFWd7vF3VSekwYRLUBgHRwEZxYAQZI6INwgBongUEQKojwomXd2K4SKXRGQIOM9oEg0CwUP3rkTC4KgxqKjnqBCTIBhRHJwEBgRFEQXFa7hE0rl0rfOsdFWsVCpdtXvv2pda3/oLUmvvtdbnt7re3rdqI14IIIAAAgiEEDAh2tIUAQQQQAABERwsAgQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBysAQQQQACBUAIERyguGiOAAAIIEBxZXANfsUfL6F9ldbKk3bM4xA4Y00YZ3SGrf9OZ5r4OmA9TQCAxAYIjMeoWO3KhId1NYLToFb3ZRklvIjyiQ7IHfwQIjqzVerm9TVanZm1YHT0eo29ounlnR8+RySEQowDBESNmLLv6in2eo41YJMPsZKPONHuE2YC2CPgsQHBkrfpfsTZrQ/JiPGcafha8KDSTjEOAH5Y4FOPcB8ERp2br+yI4WreipfcCBEfWlgDBkU5FCI503Ok1lwIER9bKRnCkUxGCIx13es2lAMGRtbIRHOlUhOBIx51ecylAcGStbARHOhUhONJxp9dcChAcWSsbwZFORQiOdNzpNZcCBEfWykZwpFMRgiMdd3rNpQDBkbWyERzpVITgSMedXnMpQHBkrWwERzoVITjScafXXAoQHFkrG8GRTkUIjnTc6TWXAgRH1spGcKRTEYIjHXd6zaUAwZG1srUhON73Mulzr5EmjGk+2Y1D0h83SV97Qpr7oPTc1ubbdEQLgqMjysgkkhEgOJJxbr2XlIOjOlD3TYs/+at07k+kh55tffjtaDntH6TLD5UeeEb6yH+3owdJBEebYNltJwoQHFmrapuDY+UfpRO/33jS/2uidPY/Se9/mfTCcVLZSrc8Lp3zk/SQ3vRC6Yuvk16yu7TkMWnmf7VpLARHm2DZbScKEBxZq2qKwVGl+NDLpU+9WtprrPToBultP5B+/lw6UCfsJ/3Ha6UDCI50CkCvCDQQIDiytiwyEByO5MFp0qQ9h693uN/y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","mulipleTree-multipLeft":"data:image/png;base64,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"},t=document.createElement("div");for(var i in t.innerHTML=ji,t.classList.add("mm-change-layout"),t.classList.add("mm-change-layout-delete"),t.setAttribute("data-layout","delete"),this._layoutDom.appendChild(t),e){var n=document.createElement("div");n.classList.add("mm-change-layout"),n.setAttribute("data-layout",i);var s=document.createElement("img");s.src=e[i],n.appendChild(s),this._layoutDom.appendChild(n)}this._layoutDom.style.position="absolute",this._layoutDom.style.display="none"}_hideMenu(){this._menuDom.style.display="none",this._nodeBoard.style.display="none"}getSelectNodes(){var e=[];return this.traverseDF((t=>{t.isSelect&&e.push(t)})),e}_nodeBoardClick(e){var t=e.target;if(t){var i=this.getSelectNodes();if(!i.length)return;if(t.hasClass("mm-node-bg")||t.closest(".mm-node-bg")){e.preventDefault(),e.stopPropagation();var n=t.closest(".mm-node-bg").getAttribute("data-color");this.execute("setNodeStyle",{style:{"background-color":n},nodes:i})}if(t.hasClass("mm-node-text")||t.closest(".mm-node-text")){e.preventDefault(),e.stopPropagation();n=t.closest(".mm-node-text").getAttribute("data-color");this.execute("setNodeStyle",{style:{color:n},nodes:i})}if(t.hasClass("mm-node-stroke")||t.closest(".mm-node-stroke")){e.preventDefault(),e.stopPropagation();n=t.closest(".mm-node-stroke").getAttribute("data-color");this.execute("setNodeStyle",{style:{"border-color":n},nodes:i})}if(t.hasClass("mm-node-align")||t.closest(".mm-node-align")){e.preventDefault(),e.stopPropagation();var s=t.closest(".mm-node-align").getAttribute("data-align");this.execute("setNodeStyle",{style:{"text-align":s},nodes:i})}if(t.hasClass("mm-node-stroke-width")||t.closest(".mm-node-stroke-width")){e.preventDefault(),e.stopPropagation();var r=t.closest(".mm-node-stroke-width").getAttribute("data-width");this.execute("setNodeStyle",{style:{"border-width":r},nodes:i})}if(t.hasClass("mm-node-stroke-style")||t.closest(".mm-node-stroke-style")){e.preventDefault(),e.stopPropagation();var o=t.closest(".mm-node-stroke-style").getAttribute("data-style");this.execute("setNodeStyle",{style:{"border-style":o},nodes:i})}if(t.hasClass("mm-node-size")||t.closest(".mm-node-size")){e.preventDefault(),e.stopPropagation();var a=t.closest(".mm-node-size").getAttribute("data-size");this.execute("setNodeStyle",{style:{"font-size":a},nodes:i})}if(t.hasClass("mm-node-text-style")||t.closest(".mm-node-text-style")){e.preventDefault(),e.stopPropagation();var h=t.closest(".mm-node-text-style").getAttribute("data-style");"bold"==h?this.execute("setNodeStyle",{style:{"font-weight":h},nodes:i}):"italic"==h?this.execute("setNodeStyle",{style:{"font-style":h},nodes:i}):this.execute("setNodeStyle",{style:{"text-decoration":h},nodes:i})}}}_createScaleDom(){this._scaleDom=document.createElement("div"),this._scaleDom.classList.add("mm-scale");var e=document.createElement("span");e.classList.add("mm-scale-up-btn");var t=document.createElement("span");t.classList.add("mm-scale-down-btn"),e.innerHTML='<svg t="1646806654096" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3915" width="18" height="18"><path d="M320.062 448.209h320.019V512H320.062z" p-id="3916"></path><path d="M448.176 320.095h63.791v320.019h-63.791zM710.591 664.939L896.173 850.52l-45.107 45.106-185.582-185.582z" p-id="3917"></path><path d="M479.819 126.914c-194.435 0-352.056 157.621-352.056 352.056s157.621 352.056 352.056 352.056 352.057-157.62 352.057-352.056-157.621-352.056-352.057-352.056z m-0.207 637.013c-156.37 0-283.133-126.763-283.133-283.133s126.763-283.133 283.133-283.133 283.133 126.763 283.133 283.133-126.763 283.133-283.133 283.133z" p-id="3918"></path></svg>',t.innerHTML='<svg t="1646806707097" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4776" width="18" height="18"><path d="M320.062 448.209h320.019V512H320.062zM710.591 664.939L896.173 850.52l-45.107 45.106-185.582-185.582z" p-id="4777"></path><path d="M479.819 126.914c-194.435 0-352.056 157.621-352.056 352.056s157.621 352.056 352.056 352.056 352.057-157.62 352.057-352.056-157.621-352.056-352.057-352.056z m-0.207 637.013c-156.37 0-283.133-126.763-283.133-283.133s126.763-283.133 283.133-283.133 283.133 126.763 283.133 283.133-126.763 283.133-283.133 283.133z" p-id="4778"></path></svg>';var i=document.createElement("span");i.innerText="100%",i.classList.add("mm-scale-number");var n=document.createElement("span");n.classList.add("mm-center-btn"),n.innerHTML='<svg t="1667728296393" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10298" width="14" height="14"><path d="M512 64c60.5 0 119.2 11.8 174.4 35.2 53.3 22.6 101.3 54.9 142.4 96 41.2 41.2 73.5 89.1 96 142.4C948.2 392.8 960 451.5 960 512s-11.8 119.2-35.2 174.4c-22.6 53.3-54.9 101.3-96 142.4-41.2 41.2-89.1 73.5-142.4 96C631.2 948.2 572.5 960 512 960s-119.2-11.8-174.4-35.2c-53.3-22.6-101.3-54.9-142.4-96-41.2-41.2-73.5-89.1-96-142.4C75.8 631.2 64 572.5 64 512s11.8-119.2 35.2-174.4c22.6-53.3 54.9-101.3 96-142.4s89.1-73.5 142.4-96C392.8 75.8 451.5 64 512 64m0-64C229.2 0 0 229.2 0 512s229.2 512 512 512 512-229.2 512-512S794.8 0 512 0z" p-id="10299"></path><path d="M512 512m-96 0a96 96 0 1 0 192 0 96 96 0 1 0-192 0Z" p-id="10300"></path></svg>',this._scaleDom.appendChild(t),this._scaleDom.appendChild(i),this._scaleDom.appendChild(e),this._scaleDom.appendChild(n),this.containerEL.appendChild(this._scaleDom),this._scaleDom.classList.add("mm-handdraw-theme"),setTimeout((()=>{this._scaleDom&&this._scaleDom.classList.remove("mm-handdraw-theme")}),300),t.onclick=()=>{this.setScale("down")},e.onclick=()=>{this.setScale("up")},n.onclick=()=>{this.showNode(this.selectNode||this.root)}}_createNodeBoard(){this._nodeBoard=document.createElement("div"),this._nodeBoard.classList.add("mm-node-setup-board");var e=`<div class="mm-dec">${r("Fill color")}</div>`;this._colors.forEach((t=>{e+=`<span class="mm-node-bg mm-color" data-color="${t}" style="background:${t};display:inline-block"></span>`})),e+=`<span class="mm-node-bg" data-color="transparent" style="border:0px solid #ccc;display:inline-block;width:30px;height:30px;margin-left:-2px">${Wi}</span>`,e+='<input type="color"  class="mm-node-bg-input" style="display:inline-block;width:30px;height:20px;padding:0;border:1px solid #333;border-radius:3px;vertical-align:middle"/>',e+=`<div class="mm-dec">${r("Text color")}</div>`,this._colors.forEach((t=>{e+=`<span class="mm-node-text mm-color" data-color="${t}" style="background:${t};display:inline-block"></span>`})),e+=`<span class="mm-node-text" data-color="transparent" style="border:0px solid #ccc;display:inline-block;width:30px;height:30px;margin-left:-2px">${Wi}</span>`,e+='<input type="color"  class="mm-node-text-input" style="display:inline-block;width:30px;height:20px;padding:0;border:1px solid #333;border-radius:3px;vertical-align:middle" />',e+=`<div class="mm-dec">${r("Stroke width")}</div>`,this._strokeWidth.forEach((t=>{e+=`<span class="mm-node-stroke-width" data-width="${t}" style="border-bottom-width:${t}px;display:inline-block"></span>`})),e+=`<div class="mm-dec">${r("Stroke color")}</div>`,this._colors.forEach((t=>{e+=`<span class="mm-node-stroke mm-color" data-color="${t}" style="background:${t};display:inline-block"></span>`})),e+=`<span class="mm-node-stroke" data-color="transparent" style="border:0px solid #ccc;display:inline-block;width:30px;height:30px;margin-left:-2px">${Wi}</span>`,e+='<input type="color"  class="mm-node-stroke-input" style="display:inline-block;width:30px;height:20px;padding:0;border:1px solid #333;border-radius:3px;vertical-align:middle" />',e+=`<div class="mm-dec">${r("Stroke style")}</div>`,this._strokeStyle.forEach((t=>{e+=`<span class="mm-node-stroke-style" data-style="${t}" style="border-bottom-width:1px;border-bottom-style:${t};display:inline-block"></span>`})),e+=`<div class="mm-dec">${r("Text align")}</div>`,this._textAlign.forEach((t=>{e+=`<span class="mm-node-align" data-align="${t}" style="display:inline-block">${qi[t]}</span>`})),e+=`<div class="mm-dec">${r("Font size")}</div>`,this._fontSize.forEach((t=>{e+=`<span class="mm-node-size" data-size="${t}" style="display:inline-block">${t}</span>`})),this._nodeBoard.innerHTML=e,this._nodeBoard.style.display="none",this.contentEL.appendChild(this._nodeBoard),this._nodeBoard.querySelector(".mm-node-bg-input").onchange=e=>{var t=e.target.value,i=this.getSelectNodes();t&&i&&i.length&&this.execute("setNodeStyle",{style:{"background-color":t},nodes:i})},this._nodeBoard.querySelector(".mm-node-text-input").onchange=e=>{var t=e.target.value,i=this.getSelectNodes();t&&i&&i.length&&this.execute("setNodeStyle",{style:{color:t},nodes:i})},this._nodeBoard.querySelector(".mm-node-stroke-input").onchange=e=>{var t=e.target.value,i=this.getSelectNodes();t&&i&&i.length&&this.execute("setNodeStyle",{style:{"border-color":t},nodes:i})}}_createNoteDom(){this._noteDom=document.createElement("div"),this._noteDom.innerHTML=`<textarea></textarea><button class="mm-note-save">${r("save")}</button><button class="mm-note-cancel">${r("cancel")}</button>`,this._noteDom.classList.add("mm-note"),this._noteDom.style.display="none",this.contentEL.appendChild(this._noteDom);var e=this._noteDom.querySelector("textarea");e.onblur=()=>{var t=e.value,i=this.selectNode;if(i){if(i.data.note==t)return;this.execute("note",{node:i,note:t})}e.value="",this._noteDom.style.display="none",this.isEditNote=!1}}showRelateLink(e){var t=e.detail.relateLink;if("bs"==t.data.type){var i=t.bs.length();(n=t.bs.pointAt(i/2)).height=10,n.width=100}else var n=t.textNode.getBox();this.showAssistsBoard(n,"rl"),this._changeAssistItem=t}_setupAssist(){this._setupAssistBoard.innerHTML=`\n           <div class="mm-assist-menu">\n              <span class="mm-assist-color mm-color-red" data-color="red"></span>\n              <span class="mm-assist-color mm-color-orange" data-color="orange"></span>\n              <span class="mm-assist-color mm-color-yellow" data-color="yellow"></span>\n              <span class="mm-assist-color mm-color-green" data-color="green"></span>\n              <span class="mm-assist-color mm-color-blue" data-color="blue"></span>\n              <span class="mm-assist-color mm-color-indigo" data-color="indigo"></span>\n              <span class="mm-assist-color mm-color-purple" data-color="purple"></span>\n              <span class="mm-assist-color mm-color-black" data-color="black"></span>\n              <span class="mm-assist-color mm-color-white" data-color="white"></span>\n           </div>\n           <div class="mm-assist-line">\n              <span class="mm-assist-solid" data-line="solid"></span>\n              <span class="mm-assist-dashed" data-line="dashed"></span>\n              <span class="mm-assist-dott" data-line="datt"></span>\n           </div>\n           <div class="mm-assist-lineType">\n              <span class="mm-assist-type mm-assist-line"><svg t="1642590209265" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15189" width="16" height="16"><path d="M962.011 61.978l-150.243 40.261 39.115 39.139-788.895 788.873 31.75 31.75 788.895-788.873 39.115 39.115z" p-id="15190"></path></svg></span>\n              <span class="mm-assist-type mm-assist-polyline"><svg t="1642590462404" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20084" width="16" height="16"><path d="M917 211.1l-199.2 24c-6.6 0.8-9.4 8.9-4.7 13.6l59.3 59.3-226 226-101.8-101.7c-6.3-6.3-16.4-6.2-22.6 0L100.3 754.1c-3.1 3.1-3.1 8.2 0 11.3l45 45.2c3.1 3.1 8.2 3.1 11.3 0L433.3 534 535 635.7c6.3 6.2 16.4 6.2 22.6 0L829 364.5l59.3 59.3c4.7 4.7 12.8 1.9 13.6-4.7l24-199.2c0.7-5.1-3.7-9.5-8.9-8.8z" p-id="20085"></path></svg></span>\n              <span class="mm-assist-type mm-asssist-bs"><svg t="1642590544284" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="24647" width="16" height="16"><path d="M922.00324 771.5L712.90324 892.2c-2.7 1.5-6-0.4-6-3.5V816c0-8.8-7.2-16-16-16H208.00324c-42.5 0-82.6-16.7-113-47-30.3-30.3-47-70.4-47-113s16.7-82.6 47-113c30.3-30.3 70.5-47 113-47h576c53.3 0 96.5-43.6 96-97-0.5-52.8-44.4-95-97.2-95h-519c-6.8 0-12.8 4.3-15.1 10.7-17.6 49.7-65 85.3-120.7 85.3C57.00324 384-0.49676 326.2 0.00324 255.1c0.5-71 59.4-128.3 130.4-127.1 54.7 1 101.1 36.4 118.4 85.4 2.2 6.4 8.3 10.6 15 10.6H784.00324c42.5 0 82.6 16.7 113 47 30.3 30.3 47 70.5 47 113s-16.7 82.6-47 113c-30.3 30.3-70.5 47-113 47H208.00324c-53.3 0-96.5 43.6-96 97 0.5 52.8 44.4 95 97.2 95h481.7c8.8 0 16-7.2 16-16v-72.7c0-3.1 3.3-5 6-3.5L922.00324 764.5c2.7 1.6 2.7 5.4 0 7z" p-id="24648"></path></svg></span>\n           </div>\n           <div class="mm-assist-group">\n             <button class="mm-assist-group-name" title="Add group name"><svg t="1687489602513" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13216" width="16" height="16"><path d="M634.1 451.7l-101-98.5-215.9 215.6-37.6 137.6v0.2L417 668.4zM617.6 268.8l-54.1 54L664.8 421l52.5-52.4c27.6-27.5 27.6-72.2 0-99.7-27.5-27.6-72.2-27.6-99.7-0.1zM265 731.8h476.2c13.8 0 25 11.2 25 25s-11.2 25-25 25H265c-13.8 0-25-11.2-25-25s11.2-25 25-25z" p-id="13217"></path></svg></button>\n           </div>\n           <br />\n           <button class="mm-assist-delete" title="Delete">${ji}</button>\n        `}setMenuIcon(){var e=document.createElement("span"),t=document.createElement("span");e.classList.add("mm-icon-add-node"),t.classList.add("mm-icon-delete-node"),e.innerHTML='<svg class="icon" width="16px" height="16.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path  d="M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512z m0-960C265.6 64 64 265.6 64 512s201.6 448 448 448 448-201.6 448-448S758.4 64 512 64z"  /><path d="M800 544H224c-19.2 0-32-12.8-32-32s12.8-32 32-32h576c19.2 0 32 12.8 32 32s-12.8 32-32 32z"  /><path  d="M512 832c-19.2 0-32-12.8-32-32V224c0-19.2 12.8-32 32-32s32 12.8 32 32v576c0 19.2-12.8 32-32 32z"  /></svg>',t.innerHTML=ji,this._menuDom.appendChild(e),this._menuDom.appendChild(t);var i=document.createElement("span");i.classList.add("mm-icon-add-summary"),i.innerHTML='<svg t="1629112889362" class="icon" viewBox="0 0 1316 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5115" width="16" height="16"><path d="M55.734857 0c44.324571 0 86.893714 17.993143 118.198857 50.029714 31.451429 31.963429 49.005714 75.337143 49.005715 120.685715V381.074286c0 47.104 37.302857 85.357714 83.602285 85.357714h27.794286v90.989714h-27.794286c-46.226286 0-83.602286 38.253714-83.602285 85.357715v210.505142c0 45.275429-17.627429 88.649143-49.005715 120.685715A165.449143 165.449143 0 0 1 55.734857 1024H0v-113.810286h55.734857a56.32 56.32 0 0 0 55.734857-56.905143V620.032c0-45.860571 26.916571-86.820571 67.657143-104.594286L187.977143 512c-22.235429-7.460571-41.691429-21.942857-55.442286-41.398857a115.419429 115.419429 0 0 1-21.138286-66.706286V170.715429a57.636571 57.636571 0 0 0-13.897142-37.668572 55.442286 55.442286 0 0 0-34.889143-18.797714l-6.948572-0.438857H0V0h55.734857z m1202.468572 256c32.256 0 58.368 29.696 58.368 66.340571v379.392c0 36.571429-26.112 66.267429-58.294858 66.267429H497.152c-32.182857 0-58.294857-29.622857-58.294857-66.267429V322.340571c0-36.644571 26.112-66.340571 58.294857-66.340571h761.051429z m-66.998858 128H564.224v256h626.980571v-256z" p-id="5116"></path></svg>',this._menuDom.appendChild(i);var n=document.createElement("span");n.classList.add("mm-icon-add-frame"),n.innerHTML='<svg t="1628415198706" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="26075" width="16" height="16"><path d="M224 112H32a32 32 0 0 0-32 32v192a32 32 0 0 0 64 0v-160h160a32 32 0 0 0 0-64z m768 544a32 32 0 0 0-32 32v160h-160a32 32 0 0 0 0 64h192a32 32 0 0 0 32-32v-192a32 32 0 0 0-32-32z m-768 192H64v-160a32 32 0 0 0-64 0v192a32 32 0 0 0 32 32h192a32 32 0 0 0 0-64z m768-736h-192a32 32 0 0 0 0 64h160v160a32 32 0 0 0 64 0v-192a32 32 0 0 0-32-32z" p-id="26076"></path></svg>',this._menuDom.appendChild(n);var s=document.createElement("span");s.classList.add("mm-icon-add-link"),s.innerHTML='<svg t="1628674761488" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7103" width="16" height="16"><path d="M922.00324 771.5L712.90324 892.2c-2.7 1.5-6-0.4-6-3.5V816c0-8.8-7.2-16-16-16H208.00324c-42.5 0-82.6-16.7-113-47-30.3-30.3-47-70.4-47-113s16.7-82.6 47-113c30.3-30.3 70.5-47 113-47h576c53.3 0 96.5-43.6 96-97-0.5-52.8-44.4-95-97.2-95h-519c-6.8 0-12.8 4.3-15.1 10.7-17.6 49.7-65 85.3-120.7 85.3C57.00324 384-0.49676 326.2 0.00324 255.1c0.5-71 59.4-128.3 130.4-127.1 54.7 1 101.1 36.4 118.4 85.4 2.2 6.4 8.3 10.6 15 10.6H784.00324c42.5 0 82.6 16.7 113 47 30.3 30.3 47 70.5 47 113s-16.7 82.6-47 113c-30.3 30.3-70.5 47-113 47H208.00324c-53.3 0-96.5 43.6-96 97 0.5 52.8 44.4 95 97.2 95h481.7c8.8 0 16-7.2 16-16v-72.7c0-3.1 3.3-5 6-3.5L922.00324 764.5c2.7 1.6 2.7 5.4 0 7z" p-id="7104"></path></svg>',this._menuDom.appendChild(s);var r=document.createElement("span");r.classList.add("mm-icon-add-callout"),r.innerHTML='<svg t="1632184139610" class="icon" viewBox="0 0 1058 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2617" width="16" height="16"><path d="M330.744242 885.372121l194.779798-129.861818 16.665859-11.106263h383.844848c36.486465 0 66.19798-29.659798 66.19798-66.146262v-529.19596c0-36.434747-29.711515-66.107475-66.19798-66.107475H132.305455c-36.486465 0-66.146263 29.659798-66.146263 66.107475v529.19596c0 36.486465 29.659798 66.146263 66.146263 66.146262h198.438787v140.968081m-66.146262 123.578182V810.550303H132.305455c-73.024646 0-132.305455-59.216162-132.305455-132.292525v-529.19596C0 76.024242 59.267879 16.808081 132.305455 16.808081h793.742222c73.076364 0 132.357172 59.216162 132.357171 132.240808v529.195959c0 73.076364-59.267879 132.292525-132.357171 132.292526h-363.830303L264.59798 1008.950303z m0 0" p-id="2618"></path></svg>',this._menuDom.appendChild(r);var o=document.createElement("span");o.classList.add("mm-icon-add-note"),o.innerHTML='<svg t="1635473283014" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8328" width="16" height="16"><path d="M832 1024H192a64 64 0 0 1-64-64V160a64 64 0 0 1 64-64h64V64a64 64 0 0 1 64-64h384a64 64 0 0 1 64 64v32h64a64 64 0 0 1 64 64v800a64 64 0 0 1-64 64zM704 64H320v160h384V64z m128 96h-64v64a64 64 0 0 1-64 64H320a64 64 0 0 1-64-64V160H192v800h640V160z m-128 320H320v-64h384v64z m0 192H320v-64h384v64z" p-id="8329"></path></svg>',this._menuDom.appendChild(o);var a=document.createElement("span");a.classList.add("mm-icon-change-layout"),a.innerHTML='<svg t="1654075528395" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13184" width="16" height="16"><path d="M656 576a144.064 144.064 0 0 1 140.448 112H864a32 32 0 0 1 3.744 63.776L864 752l-67.584 0.032a144.064 144.064 0 0 1-280.832 0L160 752a32 32 0 0 1-3.744-63.776L160 688h355.552A144.064 144.064 0 0 1 656 576z m0 64a80 80 0 1 0 0 160 80 80 0 0 0 0-160z m-288-480c69.12 0 126.816 48.64 140.8 113.6H864a32 32 0 0 1 3.744 63.776L864 337.6l-355.936 0.032a144.064 144.064 0 0 1-280.128 0L160 337.6a32 32 0 0 1-3.744-63.776L160 273.6h67.2A144.064 144.064 0 0 1 368 160z m0 64a80 80 0 1 0 0 160 80 80 0 0 0 0-160z" p-id="13185"></path></svg>',this._menuDom.appendChild(a)}setAppSetting(){this.appEl.style.width=`${this.setting.canvasSize}px`,this.appEl.style.height=`${this.setting.canvasSize}px`,this.contentEL.style.width="100%",this.contentEL.style.height="100%",this.contentEL.style.background=`${this.setting.background}`,this.contentEL.style.fontSize=`${this.setting.fontSize}px`}_setFrame(){this._dragFrame=document.createElement("div"),this._dragFrame.classList.add("mm-drag"),this._dragFrame.innerHTML='\n         <div class="drag-top">\n           <div class="d3"></div>\n         </div>\n         <div class="drag-bottom">\n           <div class="d4"></div>\n         </div>\n       ',this.contentEL.appendChild(this._dragFrame)}init(){this._mode="basic",this.themeConfig&&this.appEl.classList.add(`mm-theme-${this.themeConfig.name}`);var e=this,t=this.data,i=this.setting.canvasSize/2-60,n=this.setting.canvasSize/2-200,s=[];!function t(r,o,a){e._nodeNum++;var h=new xe(r,e);e.contentEL.appendChild(h.containEl),o?(h.setPosition(i,n),e.root=h,h.isRoot=!0,h.data.main=!0):(h.setPosition(0,0),a.children.push(h),h.parent=a),r.isExpand||s.push(h),h.refreshBox(),r.children&&r.children.length&&r.children.forEach((e=>{t(e,!1,h)}))}(t,!0),s.length&&s.forEach((e=>{e.collapse()}))}initRich(e,t){if(e.theme){var i=_i[e.theme];i&&(this.themeConfig=i)}this.themeConfig&&(this.appEl.classList.forEach(((e,t)=>{e.indexOf("theme")>-1&&this.appEl.classList.remove(e)})),this.appEl.classList.add(`mm-theme-${this.themeConfig.name}`)),t&&(t.img||t.image);var n=this,s=e.mindData,r=[],o=[];this._mode="rich",s.forEach(((e,t)=>{0==t?e.forEach(((e,t)=>{if(0==t){var i=new xe(e,n);this.contentEL.appendChild(i.containEl),n.root=i}else{i=new xe(e,n);this.contentEL.appendChild(i.containEl);var s=n.getNodeById(e.pid);s?(s.children.push(i),i.setPosition(0,0),i.parent=s):console.log(e)}if(e.isExpand||r.push(i),e.x&&e.y&&i.setPosition(e.x,e.y),e.boundingRect&&(i.boundingRect=e.boundingRect),i.refreshBox(),e.layout){var a=n.colors;0!=t&&i.stroke&&(a=new Array(100).fill(i.stroke)),"table"==e.layout.layoutName?o.push(i):(i.layout=new Se[e.layout.layoutName](i,e.layout.direct,a),i.layout.direct=e.layout.direct,i.layout.root=i)}})):e.forEach(((e,t)=>{if(0==t){var i=new xe(e,n);e.layout&&("table"==e.layout.layoutName?o.push(i):(i.layout=new Se[e.layout.layoutName](i,e.layout.direct,n.colors),i.layout.direct=e.layout.direct,i.layout.root=i)),n.addFreeNode(i),i.nodeType}else{i=new xe(e,n);var s=n.getNodeById(e.pid);if(e.layout){var a=n.colors;i.stroke&&(a=new Array(100).fill(i.stroke)),"table"==e.layout.layoutName?o.push(i):(i.layout=new Se[e.layout.layoutName](i,e.layout.direct,a),i.layout.direct=e.layout.direct,i.layout.root=i)}this.contentEL.appendChild(i.containEl),i.setPosition(0,0),s.children.push(i),i.parent=s}e.x&&e.y&&i.setPosition(e.x,e.y),e.boundingRect&&(i.boundingRect=e.boundingRect),i.refreshBox(),e.isExpand||r.push(i)}))})),o.length&&(o.forEach((e=>{var t=e.parent,i=this.removeNode(e);if(e.isRoot&&e.data.main){var n=new Se.table(e,"right");this.root=n.root}else if("freeNode"==e.nodeType){this.removeFreeNode(e);n=new Se.table(e,"right");this.addFreeNode(n.root)}else{(n=new Se.table(e,"right")).parent=t,this.addNode(n.root,t,i)}})),o=[]);var a=e.induceData;a&&a.forEach((e=>{if(e.induceData.nodeId){var t=n.getNodeById(e.induceData.nodeId);if(!t)return;var i=t.parent,s=e.induceData.range,a=[];if(s){var h=s.split(",");i.children.forEach(((e,t)=>{t>=h[0]&&t<=h[1]&&a.push(e)}));var l=a[a.length-1]}else{l=t;a=[t]}}t&&(e.mindData.forEach(((i,s)=>{if(0==s){var h=new xe(i,n),d=new Te(t,h,e.induceData.stroke,e.induceData.lineType);d.endNode=l,d.rangeNode=a,d.refreshItems(),d.refreshNode(),d.type=e.type,n.addInduce(d)}else{h=new xe(i,n);var c=n.getNodeById(i.pid);this.contentEL.appendChild(h.containEl),c.children.push(h),h.setPosition(0,0),h.parent=c}if(i.x&&i.y&&h.setPosition(i.x,i.y),i.boundingRect&&(h.boundingRect=i.boundingRect),i.isExpand||r.push(h),h.refreshBox(),i.layout){var u=new Array(100).fill(a[0].stroke||a[0].data.stroke);"table"==i.layout.layoutName?o.push(h):(h.layout=new Se[i.layout.layoutName](h,i.layout.direct,u),h.layout.direct=i.layout.direct,h.layout.root=h)}})),o.length&&(o.forEach((e=>{var t=e.parent,i=this.removeNode(e);if(e.isRoot&&e.data.main){var n=new Se.table(e,"");this.root=n.root}else if("induce"==e.nodeType){let t=e.induce;n=new Se.table(e,"");t.root=n.root,n.root.induce=t,n.root.nodeType="incuce",e.layout&&"table"!=e.layout.layoutName&&(e.layout.svgDom&&e.layout.svgDom.clear()&&e.layout.svgDom.remove()&&(e.layout.svgDom=null),e.layout.group&&e.layout.group.clear()&&e.layout.group.remove()&&(e.layout.group=null))}else{(n=new Se.table(e,"")).parent=t,this.addNode(n.root,t,i)}})),o=[]))}));var h=e.wireFrameData;h&&h.forEach((e=>{if(e.nodeId){var t=n.getNodeById(e.nodeId);if(!t)return;var i=t.parent;if(i){var s=e.range.split(","),r=[];i.children.forEach(((e,t)=>{t>=s[0]&&t<=s[1]&&r.push(e)}));var o=r[r.length-1]}else o=t,r=[t]}if(t){var a=new gt(t,e.fill,e.stroke,e);a.endNode=o,a.rangeNode=r,a.refreshItems(),a.refreshNode(),a.refresh(),n.addWireFrame(a),a.setData(e),i||(t.wireFrame=a)}}));var l=e.calloutData;l&&l.forEach((e=>{var t=n.getNodeById(e.nodeId);if(t){var i=new Nt(t,e.rootData);n.addCallout(i)}})),r.length&&r.forEach((e=>{e.collapse()})),this.induces.forEach((e=>{e.refreshItems(),e.root.isExpand||e.root.expand(),e.root.layout&&e.root.layout.refresh()})),this.wireFrames.forEach((e=>{e.refreshItems()})),this.refresh();var d=e.relateLinkData,c=[];d&&d.forEach((e=>{var t=n.getNodeById(e.startNodeId),i=n.getNodeById(e.endNodeId);if(t&&i){if(!e.gapsx){var s=t.getBox(),r=i.getBox();e.box&&e.box.cpx1&&(e.gapsx=e.box.cpx1-s.x,e.gapsy=e.box.cpy1-s.y,e.gapex=e.box.cpx2-r.x,e.gapey=e.box.cpy2-r.y)}if(e.gapsx){var o=new Dt(t,e);o.endNode=i,o.setBox(e.box),n.addRelateLink(o),o.unactive(),e.box||c.push(o)}}})),c.forEach((e=>{var t=e.endNode.getBox();e.move(t.x+t.width/2,t.y),e.refresh()})),this.updateRelateLink()}traverseBF(e,t){var i=[];if(t)i=[t];else{var n=[];this.induces.forEach((e=>{e&&n.push(e.root)}));var s=[];this.callouts.forEach((e=>{s.push(e.root)}));var r=[];this.relateLinks.forEach((e=>{e.textNode&&r.push(e.textNode)}));var o=[];this.wireFrames.forEach((e=>{e.t&&o.push(e.t)})),i=[this.root].concat(this.freeNodes).concat(n).concat(s).concat(r).concat(o)}for(var a=i.shift();a;){for(let e=0,t=a.children.length;e<t;e++)i.push(a.children[e]);e(a),a=i.shift()}}traverseDF(e,t,i){function n(t){if(t&&t.children){i&&e(t);for(var s=0,r=t.children.length;s<r;s++)n(t.children[s]);i||e(t)}}if(t)n(t);else{var s=[];this.induces.forEach((e=>{e&&s.push(e.root)}));var r=[];this.callouts.forEach((e=>{r.push(e.root)}));var o=[];this.relateLinks.forEach((e=>{e.textNode&&o.push(e.textNode)}));var a=[];this.wireFrames.forEach((e=>{e.t&&a.push(e.t)})),[this.root].concat(this.freeNodes).concat(s).concat(r).concat(o).concat(a).forEach((e=>{n(e)}))}}getNodeById(e){var t=null;return this.traverseDF((i=>{i.getId()==e&&(t=i)})),t}clearSelectNode(e){this.selectNode&&(this.selectNode.unSelect(),this.selectNode=null),this.editNode&&(this.editNode.isEdit&&this.editNode.cancelEdit(),this.editNode=null),this._changeAssistItem=null,this._dragFrame.style.display="none",this.linkMenu.style.display="none",e&&this.traverseDF((e=>{e.unSelect()}))}_pasteText(e){if(!this.isEditNote){var t=us.turndown(e).split("\n"),i=this.selectNode;i&&t.length&&!i.isEdit&&t.forEach(((e,t)=>{e.trim()&&this.execute("addChildNode",{text:e,parent:i})}))}}_paste(e){if(!this.isEditNote){e.preventDefault();var t=(e.originalEvent||e).clipboardData;if(t.items&&t.items.length)for(var i=t.items,n=i.length,s=null,r=0;r<n;r++)if(-1!==i[r].type.indexOf("image")){if((s=i[r].getAsFile()).type&&{"image/png":"png","image/gif":"gif","image/jpeg":"jpg"}[s.type]){var o="Paste image "+(new Date).getTime()+(s.name||".png");if(this.view){if(this.view.plugin&&this.view.plugin.settings)var a=this.view.plugin.settings.pasteFolder||"";a&&(o=a+"/"+o);var h=new FileReader;h.onload=()=>{this.view.app.vault.adapter.writeBinary(o,h.result).then((e=>{this.selectNode&&(this.doc.execCommand("insertText",!1,`![[${o}]]`),t.clearData&&t.clearData(),i=[])}))},h.readAsArrayBuffer(s)}}}navigator.clipboard.readText().then((e=>{if(e)try{var t=JSON.parse(e);if(t.action){var i=this.selectNode,n=JSON.parse(t.text);if(i){var s={id:t.id,type:t.type,selectText:"",pdfName:n.pdfName,path:""};if("highlight"==t.type)s.selectText=t.selectText;else{var r=JSON.parse(t.text);s.path=r.path}i.mindmap.execute("setAnnotate",{node:i,annotate:s})}}}catch(t){this.selectNode.isEdit?e.startsWith("eagle:")?this.doc.execCommand("insertText",!1,`[PPT](${e})`):this.doc.execCommand("insertText",!1,e):this.build_with_indent(this.selectNode,e)}}))}}_noteClick(e){e.stopPropagation();var t=e.target;if(t.hasClass("mm-note-save")||t.closest(".mm-note-save")){var i=this._noteDom.querySelector("textarea"),n=i.value,s=this.selectNode;if(s){if(s.data.note==n)return;this.execute("note",{node:s,note:n})}i.value="",this._noteDom.style.display="none",this.isEditNote=!1}(t.hasClass("mm-note-cancel")||t.closest(".mm-note-cancel"))&&(this._noteDom.style.display="none",this.isEditNote=!1)}changeTheme(e){if(e){var t=_i[e];t&&(this.themeConfig=t)}this.themeConfig&&(this.appEl.classList.forEach(((e,t)=>{e.indexOf("theme")>-1&&this.appEl.classList.remove(e)})),this.appEl.classList.add(`mm-theme-${this.themeConfig.name}`),this.traverseDF((e=>{e.stroke=this.themeConfig.stroke,e.data.stroke=this.themeConfig.stroke})),this.wireFrames.forEach((e=>{var t=e.getData();e.setData(Object.assign(Object.assign({},t),{stroke:this.themeConfig.boundaryStroke,fill:this.themeConfig.boundaryFill}))})),this.induces.forEach((e=>{var t=e.getData();e.setData(Object.assign(Object.assign({},t),{stroke:this.themeConfig.summaryStroke}))})),this.refresh(),setTimeout((()=>{this.mindMapChange()}),100))}initEvent(){this.appEl.addEventListener("click",this.appClickFn),this.appEl.addEventListener("mouseover",this.appMouseOverFn),this.appEl.addEventListener("mouseleave",this.appMouseLeaveFn),this.appEl.addEventListener("dblclick",this.appDblclickFn),this.appEl.addEventListener("dragstart",this.appDragstart),this.appEl.addEventListener("dragover",this.appDragover),this.appEl.addEventListener("dragend",this.appDragend),this.appEl.addEventListener("drop",this.appDrop),this.doc.body.addEventListener("mousewheel",this.appMousewheel),this.appEl.addEventListener("paste",this._paste),e.Platform.isDesktopApp&&(this.appEl.addEventListener("mousedown",this.appMouseDown),this.appEl.addEventListener("mouseup",this.appMouseUp),this.appEl.addEventListener("mousemove",this.appMouseMove),this.containerEL.parentElement.onmousedown=this.containerMousdown),e.Platform.isMobileApp&&(this.appEl.addEventListener("touchstart",this.appMouseDown),this.appEl.addEventListener("touchend",this.appMouseUp),this.appEl.addEventListener("touchmove",this.appMouseMove,!1)),this._setupAssistBoard.addEventListener("click",this._assistClickFn),this._noteDom.addEventListener("click",this._noteClick),this._nodeBoard.addEventListener("click",this._nodeBoardClick)}_initMustEvent(){this.on("initNode",this.initNode),this.on("renderEditNode",this.renderEditNode),this.on("mindMapChange",this.mindMapChange),this.on("showWireFrame",this.showWireFrame),this.on("showRelateLink",this.showRelateLink)}_assistClickFn(e){var t=e.target;if(t){if(t.hasClass("mm-assist-color")){var i=t.getAttribute("data-color"),n={red:{stroke:"red",background:"rgba(242, 135, 133,0.3)"},orange:{stroke:"orange",background:"rgba(229, 153, 87,0.3)"},yellow:{stroke:"yellow",background:"rgba(252, 239, 100,0.3)"},green:{stroke:"green",background:"rgba(98,214,169,0.3)"},blue:{stroke:"blue",background:"rgba(137, 161, 255,0.3)"},indigo:{stroke:"indigo",background:"rgba(94, 16, 163,0.3)"},purple:{stroke:"purple",background:"rgba(224, 33, 221,0.3)"},black:{stroke:"#9e9d9d",background:"rgba(213,233,252,.1)"},white:{stroke:"#fff",background:"rgba(213,233,252,.1)"}};"induce"==(r=this._changeAssistItem).name?this.execute("changeSummary",{summary:r,stroke:n[i].stroke,background:n[i].background}):"wireFrame"==r.name?this.execute("changeWireFrame",{wireFrame:r,stroke:n[i].stroke,background:n[i].background}):this.execute("changeLinkStroke",{link:r,stroke:n[i].stroke,background:n[i].background})}if(t.hasClass("mm-assist-type")||t.closest(".mm-assist-type")){if(t.hasClass("mm-assist-line")||t.closest(".mm-assist-line"))var s="line";else if(t.hasClass("mm-assist-polyline")||t.closest(".mm-assist-polyline"))s="polyline";else s="bs";var r;(r=this._changeAssistItem).data.type!=s&&this.execute("changeLinkType",{link:r,oldType:r.data.type,type:s})}if((t.hasClass("mm-assist-delete")||t.closest(".mm-assist-delete"))&&("induce"==this._changeAssistItem.name?this.execute("deleteInduce",{summary:this._changeAssistItem}):"wireFrame"==this._changeAssistItem.name?this.execute("deleteWireFrame",{wireFrame:this._changeAssistItem}):this.execute("deleteRelateLink",{link:this._changeAssistItem})),(t.hasClass("mm-assist-group-name")||t.closest(".mm-assist-group-name"))&&"wireFrame"==this._changeAssistItem.name){if(this._changeAssistItem.t)return;this.execute("changeWireFrameName",{wireFrame:this._changeAssistItem,text:"Group Name"})}this._changeAssistItem=null,this._setupAssistBoard.style.display="none"}}showWireFrame(e){var t,i=e.detail.wf||e.detail.induce;this._changeAssistItem=i;var n=i.getBBox();if(this._dragFrame.style.left=n.x-1+"px",this._dragFrame.style.top=n.y-1+"px",this._dragFrame.style.width=n.width+1+"px",this._dragFrame.style.height=n.height+1+"px","right"==i.direct||"left"==i.direct?(this._dragFrame.setAttribute("class",""),this._dragFrame.classList.add("mm-drag"),this._dragFrame.classList.add("model-top")):(this._dragFrame.setAttribute("class",""),this._dragFrame.classList.add("mm-drag"),this._dragFrame.classList.add("model-right")),this._dragFrame.style.display="block","induce"==i.name){var s=i.root.getBox();this.showAssistsBoard(s,"",i.direct||i.type||(null===(t=i.node)||void 0===t?void 0:t.direct))}else this.showAssistsBoard(n)}showAssistsBoard(e,t,i="right"){if(this._setupAssistBoard.style.display="block",this._setupAssistBoard.style.position="absolute",this._setupAssistBoard.style.zIndex="6000","left"==i){var n=this._setupAssistBoard.clientWidth;this._setupAssistBoard.style.left=e.x-n-10+"px"}else this._setupAssistBoard.style.left=e.x+"px";this._setupAssistBoard.style.top=e.y+e.height+20+"px",this._setupAssistBoard.querySelector(".mm-assist-lineType").style.display="rl"==t?"":"none"}setReadMode(){this.removeEvent(),this.appEl.addEventListener("click",this._readAppClickFn),e.Platform.isDesktop&&(this.appEl.addEventListener("mousedown",this._readAppMouseDown),this.appEl.addEventListener("mouseup",this._readAppMouseUp),this.appEl.addEventListener("mousemove",this._readAppMouseMove))}_readAppMouseDown(e){this.drag=!0,this.startX=e.pageX,this.startY=e.pageY,this._left=this.containerEL.scrollLeft,this._top=this.containerEL.scrollTop}_readAppMouseUp(e){this.drag=!1}_readAppMouseMove(e){this.drag&&(this.isMobile||(this.containerEL.scrollLeft=this._left-(e.pageX-this.startX),this.containerEL.scrollTop=this._top-(e.pageY-this.startY)))}removeEvent(){this._initEvents&&(this.appEl.removeEventListener("click",this.appClickFn),this.appEl.removeEventListener("dragstart",this.appDragstart),this.appEl.removeEventListener("dragover",this.appDragover),this.appEl.removeEventListener("dragend",this.appDragend),this.appEl.removeEventListener("dblclick",this.appDblclickFn),this.appEl.removeEventListener("mouseover",this.appMouseOverFn),this.appEl.removeEventListener("mouseleave",this.appMouseLeaveFn),this.appEl.removeEventListener("drop",this.appDrop),this.doc.body.removeEventListener("mousewheel",this.appMousewheel),e.Platform.isDesktop&&(this.appEl.removeEventListener("mousedown",this.appMouseDown),this.appEl.removeEventListener("mouseup",this.appMouseUp),this.appEl.removeEventListener("mousemove",this.appMouseMove),this.containerEL.parentElement.onmousedown=null),e.Platform.isMobile&&(this.appEl.removeEventListener("touchstart",this.appMouseDown),this.appEl.removeEventListener("touchend",this.appMouseUp),this.appEl.removeEventListener("touchmove",this.appMouseMove,!1)),this.appEl.removeEventListener("paste",this._paste),this._setupAssistBoard.removeEventListener("click",this._assistClickFn),this._noteDom.removeEventListener("click",this._noteClick),this._nodeBoard.removeEventListener("click",this._nodeBoardClick),this._nodeBoard.querySelector(".mm-node-bg-input").onchange=null,this._nodeBoard.querySelector(".mm-node-text-input").onchange=null,this._nodeBoard.querySelector(".mm-node-stroke-input").onchange=null,this._noteDom.querySelector("textarea").onblur=null,this.closeSearch(),this.off("initNode",this.initNode),this.off("renderEditNode",this.renderEditNode),this.off("mindMapChange",this.mindMapChange),this.off("showRelateLink",this.showRelateLink),this.off("showWireFrame",this.showWireFrame));this.appEl.removeEventListener("click",this._readAppClickFn),this.appEl.removeEventListener("mousedown",this._readAppMouseDown),this.appEl.removeEventListener("mousemove",this._readAppMouseMove),this.appEl.removeEventListener("mouseup",this._readAppMouseUp)}initNode(e){this._tempNum++,this._tempNum==this._nodeNum&&(this.refresh(),this._setMindScalePointer())}renderEditNode(e){if("basic"!=this._mode){var t=e.detail.node||null;null==t||t.clearCacheData(),t&&function(e){if(e){var t=e.getMind();if(e){for(var i=null,n=e;n&&(n.layout&&(i=n.layout),n!=t.root);)n=n.belongInduce?n.belongInduce.node:n.parent;i&&i.refresh()}t.updateRelateLink(),0!=t.induces.length&&t.induces.forEach((e=>{e.root.layout&&e.root.layout.createLink()}))}}(t)}else this.refresh()}mindMapChange(){var e;null===(e=this.view)||void 0===e||e.mindMapChange()}appKeydown(e){var t,i=e.keyCode||e.which||e.charCode,n=e.ctrlKey||e.metaKey,s=e.shiftKey;if(!this.isRead&&!this.useHoverEdit){if(n&&!s){if(86==i||"v"==e.key){if(this.isEditNote)return;navigator.clipboard.read().then((e=>{for(let t=0;t<e.length;t++)e[t].getType("text/html").then((e=>{e.text().then((e=>{this._pasteText(e)}))})).catch((()=>{e[t].getType("text/plain").then((e=>{e.text().then((e=>{this.selectNode.isEdit||this.build_with_indent(this.selectNode,e)}))}))}))}))}if(67==i||"c"==e.key)if((a=this.selectNode)&&!a.isEdit){var o=a.getData().text;o&&navigator.clipboard.writeText(o)}}if(!n&&!s){if(13==i||"Enter"==e.key){if(this.isEditNote)return;var a=this.selectNode;if(this.showFilter&&a){e.preventDefault(),e.stopPropagation();var h=this._linkboard.querySelector(".mm-file-name.active");if(h){if("md"==h.querySelector(".mm-file-ext").innerText)var l=h.getAttribute("data-name");else l=h.getAttribute("data-path");this._completeFile(a,l)}return}if(a&&a.isEdit&&!this.useCustomShortcut&&(e.preventDefault(),e.stopPropagation(),a.isExpand||a.expand(),(a.editDom||(null===(t=a.iNode)||void 0===t?void 0:t.editDom)).innerText!=r("Sub title")))return void a.cancelEdit();if(a&&!this.useCustomShortcut){if(e.preventDefault(),e.stopPropagation(),a.isExpand||a.expand(),!a.parent)return;var d=a.parent.children.indexOf(a);a.mindmap.execute("addSiblingNode",{parent:a.parent,index:d+1}),this._menuDom.style.display="none",this._nodeBoard.style.display="none",this.linkMenu.style.display="none"}}if(9!=i&&45!=i&&"Tab"!=e.key||(e.stopPropagation(),e.preventDefault()),32==i){if(this.isEditNote)return;!(a=this.selectNode)||a.isEdit||this.useCustomShortcut||(e.preventDefault(),e.stopPropagation(),a.edit(),this._menuDom.style.display="none",this._nodeBoard.style.display="none",this.linkMenu.style.display="none")}38!=i&&"ArrowUp"!=e.key||this.showFilter&&(e.preventDefault(),e.stopPropagation()),40!=i&&"ArrowDown"!=e.key||this.showFilter&&(e.preventDefault(),e.stopPropagation())}n&&!s&&(89!=i||this.useCustomShortcut||(e.preventDefault(),e.stopPropagation(),this.redo()),90!=i||this.useCustomShortcut||(e.preventDefault(),e.stopPropagation(),this.undo()))}}copyNode(e){var t=e||this.selectNode;if(t){var i=[],n=[],s=1;function o(e,t,i,r){var a=e.getData();a.id=bs(),a.pid=t;var h={id:a.id,text:a.text,pid:t,isExpand:a.isExpand,note:a.note};!r&&e.layout&&(h.layout={layoutName:e.layout.layoutName,layoutDirect:e.layout.direct}),i.push(h),e.induces&&e.induces.length&&e.induces.forEach((e=>{var t=e.getData();t.nodeId=h.id,t.pid=h.pid,t.index=s,s++;var i=[];o(e.root,null,i),t.nodeArr=i,n.push(t)})),e.children.forEach((e=>{o(e,a.id,i)}))}o(t,null,i,!0);var r={type:"copyNode",text:i,summary:n};return JSON.stringify(r)}return""}pasteNode(e){var t=this.selectNode;if(e)try{var i=JSON.parse(e);if(i.type&&"copyNode"==i.type){var n=i.text;t.isExpand||(t.expand(),t.clearCacheData()),this.execute("pasteNode",{node:t,data:n,summary:i.summary}),navigator.clipboard.writeText("")}}catch(e){console.log(e)}}appKeyup(e){var t,i=e.keyCode||e.which||e.charCode,n=e.ctrlKey||e.metaKey,s=e.shiftKey;if(!this.isRead&&!this.useHoverEdit){if(!n&&!s){if((46==i||"Delete"==e.key||"Backspace"==e.key)&&!this.useCustomShortcut){if(this.isEditNote)return;if(this._changeAssistItem){if("induce"==this._changeAssistItem.name){if(this.editNode)return;this.execute("deleteInduce",{summary:this._changeAssistItem})}else"wireFrame"==this._changeAssistItem.name?this.execute("deleteWireFrame",{wireFrame:this._changeAssistItem}):this.execute("deleteRelateLink",{link:this._changeAssistItem});return void(this._changeAssistItem=null)}var r=this.getSelectNodes();if(r.length>1)return e.preventDefault(),e.stopPropagation(),r[0].mindmap.execute("deleteNodes",{nodes:r}),void(this._menuDom.style.display="none");(o=this.selectNode)&&!o.isEdit&&(e.preventDefault(),e.stopPropagation(),o.mindmap.execute("deleteNodeAndChild",{node:o}),this._menuDom.style.display="none")}if((9==i||45==i||"Tab"==e.key)&&!this.useCustomShortcut){if(e.preventDefault(),e.stopPropagation(),this.isEditNote)return;return void((o=this.selectNode)&&!o.isEdit?(o.isExpand||o.expand(),o.mindmap.execute("addChildNode",{parent:o}),this._menuDom.style.display="none",this._nodeBoard.style.display="none",this.linkMenu.style.display="none"):o&&o.isEdit&&(o.cancelEdit(),o.select(),o.mindmap.editNode=null))}if(38==i||"ArrowUp"==e.key){var o=this.selectNode;if(this.isEditNote)return;if(this.showFilter){if(e.preventDefault(),h=this._linkboard.querySelector(".mm-file-name.active")){var a=h.previousSibling;if(a)a.classList.add("active"),h.classList.remove("active"),(l=a.getAttribute("data-path"))&&this._completeBlock(l)}return}if(o&&!o.isEdit)return void this._selectNode(o,"up")}if(40==i||"ArrowDown"==e.key){if(this.isEditNote)return;if(this.showFilter){var h;if(e.preventDefault(),h=this._linkboard.querySelector(".mm-file-name.active")){var l,d=h.nextSibling;if(d)d.classList.add("active"),h.classList.remove("active"),(l=d.getAttribute("data-path"))&&this._completeBlock(l)}return}if((o=this.selectNode)&&!o.isEdit)return void this._selectNode(o,"down")}if(39==i||"ArrowRight"==e.key){if(this.isEditNote)return;if((o=this.selectNode)&&!o.isEdit)return void this._selectNode(o,"right")}if(37==i||"ArrowLeft"==e.key){if(this.isEditNote)return;if((o=this.selectNode)&&!o.isEdit)return void this._selectNode(o,"left")}if("["==e.key&&(e.preventDefault(),this.selectNode)){if(this._doubleMark<1)this._doubleMark++;else{this._doubleMark=0;var c=(this.appEl.win||window).getSelection(),u=c.anchorNode;if(u.closest||(u=u.parentElement),!u.closest(".mm-node"))return;if(u.closest(".mm-node")&&u.closest(".mm-node")!=(this.selectNode.containEl||this.selectNode.iNode.containEl))return;c.getRangeAt(0).insertNode(this.doc.createTextNode("]]")),c.collapseToStart()}return}if(32!=i){if(this.isEditNote)return;if(17==i||13==i||"Controll"==e.key)return;if("Meta"==e.key)return;!(o=this.selectNode)||o.isEdit||this.useCustomShortcut||(e.preventDefault(),e.stopPropagation(),o.edit(),o.selectText(),this._menuDom.style.display="none",this._nodeBoard.style.display="none",this.linkMenu.style.display="none")}}if(n&&!s){if(191==i||"/"==e.key)(o=this.selectNode)&&!o.isEdit&&(o.isExpand?o.mindmap.execute("collapseNode",{node:o}):o.mindmap.execute("expandNode",{node:o}));if(69!=i&&"e"!=e.key||this.center(),"r"==e.key)(o=this.selectNode)&&this.execute("changeLayout",{node:o,direct:"right"});if("l"==e.key)(o=this.selectNode)&&this.execute("changeLayout",{node:o,direct:"left"});if("u"==e.key)(o=this.selectNode)&&this.execute("changeLayout",{node:o,direct:"up"});if("d"==e.key)(o=this.selectNode)&&this.execute("changeLayout",{node:o,direct:"down"});if("m"==e.key)(o=this.selectNode)&&this.execute("changeLayout",{node:o,direct:"mindmap"});if("j"==e.key)(o=this.selectNode)&&this.execute("changeLayout",{node:o,direct:"lTree"});if("k"==e.key)(o=this.selectNode)&&this.execute("changeLayout",{node:o,direct:"vertical"});if("q"==e.key)(o=this.selectNode)&&this.execute("changeLayout",{node:o,direct:"fishRight"});if("t"==e.key)(o=this.selectNode)&&this.execute("changeLayout",{node:o,direct:"fishLeft"})}if(this.selectNode&&this.selectNode.isEdit){o=this.selectNode;var p=this.selectNode.editDom||(null===(t=this.selectNode.iNode)||void 0===t?void 0:t.editDom),m=zi(p),f=p.textContent;o.shouldRender=!0;var g=!1;this._linkboard.style.display="none",this.showFilter=!1;for(var v,y=/\[\[(.+?)\]\]/g,A=0;v=y.exec(f);)if(v.index+2<=m&&v.index+v[1].length+2>=m){g=!0,A=v.index,o.shouldRender=!1,this.showFilter=!0,this._linkboard.style.display="block";break}if(g){this.selectionObj={num:m,index:A,text:v[1]},this._searchFiles(v[1]);var x=this.selectNode.getDomBox();this._linkboard.style.left=x.x+"px",this._linkboard.style.top=x.y+x.height+5+"px"}else this._searchFiles("")}}}_completeFile(e,t){if(this.selectionObj){var i=function(e,t,i){var n=e.doc||document,s=e.win||window,r=0,o=n.createRange();o.setStart(e,0),o.collapse(!0);for(var a,h=[e],l=!1,d=!1;!d&&(a=h.pop());)if(3==a.nodeType){var c=r+a.length;!l&&t>=r&&t<=c&&(o.setStart(a,t-r),l=!0),l&&i>=r&&i<=c&&(o.setEnd(a,i-r),d=!0),r=c}else for(var u=a.childNodes.length;u--;)h.push(a.childNodes[u]);var p=s.getSelection();return p.removeAllRanges(),p.addRange(o),p}(e.editDom||e.iNode.editDom,this.selectionObj.index+2,this.selectionObj.index+2+this.selectionObj.text.length),n=i.getRangeAt(0);n.deleteContents(),n.insertNode(this.doc.createTextNode(t)),i.collapseToEnd(),i.modify("move","right","character"),i.modify("move","right","character"),e.shouldRender=!0,this.showFilter=!1,this.selectionObj=null,this._linkboard.style.display="none"}}_completeBlock(e){if(this._blockDom.innerHTML="",this._blockDom.style.display="none",this.view&&e){var t=this.view.app.metadataCache.getFirstLinkpathDest(e,this.path||"");if(t&&"md"==t.extension){var i=this.view.app.metadataCache.getFileCache(t);if(i.headings&&i.headings.length){this._blockDom.style.display="block";for(var n=this.doc.createElement("ul"),s=0;s<i.headings.length;s++){var r=this.doc.createElement("li"),o=this.doc.createElement("span");o.classList.add("mm-block-ext"),o.innerText="H"+i.headings[s].level,r.classList.add("mm-block-name");var a=this.doc.createElement("span");a.innerText=i.headings[s].heading,r.setAttribute("data-head",i.headings[s].heading),n.appendChild(r),r.appendChild(o),r.appendChild(a)}this._blockDom.appendChild(n)}}}}_searchFiles(e){if(!e)return;this._nodeBoard.style.display="none";var t=this.view.app.vault.getFiles();var i=new bi(t,{keys:["name"]}).search(e);if(this._linkboard.innerHTML="",i.length){i=i.slice(0,20);for(var n=this.doc.createElement("ul"),s=0;s<i.length;s++){var r=this.doc.createElement("li"),o=this.doc.createElement("span");o.classList.add("mm-file-ext"),o.innerText=i[s].item.extension,r.classList.add("mm-file-name"),i[s];var a=i[s].item.extension.length,h=i[s].item.path.substr(0,i[s].item.path.length-(a+1)),l=this.doc.createElement("span");l.innerText=h,r.setAttribute("data-path",i[s].item.path),r.setAttribute("data-name",i[s].item.basename),n.appendChild(r),r.appendChild(o),r.appendChild(l)}this._linkboard.appendChild(n),this._linkboard.appendChild(this._blockDom);var d=this._linkboard.querySelector(".mm-file-name");d.classList.add("active");h=d.getAttribute("data-path");this._completeBlock(h)}}_betterSelectNode(e,t){var i=e.getLayout()||e.getMind().mmLayout,n=null;if(i){switch(t){case"right":if(i.layoutName&&i.layoutName.indexOf("mindmap")>-1)if(e.isRoot||e.direct&&"right"==e.direct)(r=e.children).length&&(n=r[0]);else e.parent&&(n=e.parent);if(i.layoutName&&i.layoutName.indexOf("tree")>-1)if(e.isRoot);else{var s=(r=e.parent.children).indexOf(e);r[s+1]&&(n=r[s+1])}break;case"left":if(i.layoutName&&i.layoutName.indexOf("mindmap")>-1)if(e.isRoot||e.direct&&"left"==e.direct)(r=e.children).length&&(n=r[0]);else e.parent&&(n=e.parent);if(i.layoutName&&i.layoutName.indexOf("tree")>-1)if(e.isRoot);else{s=(r=e.parent.children).indexOf(e);r[s-1]&&(n=r[s-1])}break;case"up":if(i.layoutName&&i.layoutName.indexOf("mindmap")>-1&&e.parent){s=(r=e.parent.children).indexOf(e);r[s-1]&&(n=r[s-1])}if(i.layoutName&&i.layoutName.indexOf("tree")>-1)if("down"==i.direct)e.parent&&(n=e.parent);else(r=e.children).length&&(n=r[0]);break;case"down":if(i.layoutName&&i.layoutName.indexOf("mindmap")>-1&&e.parent){s=(r=e.parent.children).indexOf(e);r[s+1]&&(n=r[s+1])}var r;if(i.layoutName&&i.layoutName.indexOf("tree")>-1)if("up"==i.direct)e.parent&&(n=e.parent);else(r=e.children).length&&(n=r[0])}return n}}_selectNode(e,t){if(e){var i=null,n=this._betterSelectNode(e,t);if(n)i=n;else{var s,r=e.getPosition();this.traverseDF((e=>{var n=e.getPosition(),o=Math.abs(n.x-r.x),a=Math.abs(n.y-r.y),h=Math.sqrt(o*o+a*a);switch(t){case"right":n.x>r.x&&(s?s>h&&(s=h,i=e):(s=h,i=e));break;case"left":n.x<r.x&&(s?s>h&&(s=h,i=e):(s=h,i=e));break;case"up":n.y<r.y&&(s?s>h&&(s=h,i=e):(s=h,i=e));break;case"down":n.y>r.y&&(s?s>h&&(s=h,i=e):(s=h,i=e))}}))}i&&(this.clearSelectNode(!0),this._menuDom.style.display="none",this._setupAssistBoard.style.display="none",this._nodeBoard.style.display="none",this.linkMenu.style.display="none",this._autoCenter?setTimeout((()=>{i.select(),this.showNode(i)}),100):i.select())}}parseQueryString(e){for(var t,i,n,s={},r=e.split("?")[1].split("&"),o=0,a=r.length;o<a;o++)i=(t=r[o].split("="))[0],n=t[1],s[i]=n;return s}_readAppClickFn(e){var t,i=e.target;if(this.clearSelectNode(),i.hasClass("mm-node-bar")){e.preventDefault(),e.stopPropagation();var n=i.closest(".mm-node").getAttribute("data-id");(s=this.getNodeById(n))&&(s.clearCacheData(),s.isExpand?(s.collapse(),s.mindmap.refresh()):(s.expand(),s.mindmap.refresh()))}if(i.closest(".mm-node")){n=i.closest(".mm-node").getAttribute("data-id");var s=this.getNodeById(n);if(this._noteTabArr.length&&(this._noteTabArr.forEach((e=>{var t=e.querySelector("mm-node-note-close");t&&(t.onclick=null);try{this.contentEL.removeChild(e)}catch(e){}e=null})),this._noteTabArr=[]),!s)return;s.isSelect||(this.useHoverEdit=!1,this.clearSelectNode(!0),this._setupAssistBoard.style.display="none",this.selectNode=s,null===(t=this.selectNode)||void 0===t||t.select())}}appClickFn(t){var i,n,s,o,a;t.stopPropagation();var h=t.target;if(h){if(h.hasClass("mm-node-setup-board")||h.closest(".mm-node-setup-board"))return;if(h.hasClass(".hover-editor")||h.closest(".hover-editor"))return void(this.useHoverEdit=!0);if(h.hasClass("mm-note-span")||h.closest(".mm-note-span")){var l=h.closest(".mm-node").getAttribute("data-id"),d=(C=this.getNodeById(l)).getDomBox();if(C._noteTab){var c=C._noteTab.querySelector("mm-node-note-close");c&&(c.onclick=null);try{this.contentEL.removeChild(C._noteTab)}catch(e){}}var u=document.createElement("div");u.classList.add("mm-node-note-tab");var p=document.createElement("span"),m=document.createElement("div");p.innerHTML="x",p.classList.add("mm-node-note-close"),m.classList.add("mm-node-note-container"),u.appendChild(p),u.appendChild(m),this.contentEL.appendChild(u),p.onclick=()=>{u.style.display="none"},C._noteTab=u,this._noteTabArr.push(u),u.style.left=d.x+"px",u.style.top=d.y+d.height+10+"px",u.style.display="block";var f=u.querySelector(".mm-node-note-container");return f.innerHTML="",e.MarkdownRenderer.renderMarkdown(C.data.note,f,this.path||"",null===(i=C.mindmap.view)||void 0===i?void 0:i.plugin).then((()=>{this._delay(f)})),void(this._noteDom.style.display="none")}if(h.closest("a")||"A"==h.tagName&&(h.hasClass("internal-link")||h.hasClass("tag"))){if(t.preventDefault(),"A"==h.tagName)var g=t.target;else g=h.closest("a");var v=g.getAttribute("href"),y=v.toLowerCase();if(v){if(v.startsWith("obsidian://jump-to-pdf")){var A=this.parseQueryString(v);if(A.id&&A.annotate&&this.openPDFViewById(A.annotate,A.id),A.pdf&&A.annotate)return void this.openPDFView(decodeURIComponent(A.annotate),decodeURIComponent(A.pdf));if(A.pdf){var x=decodeURIComponent(A.pdf);return void(x.endsWith("pdf")&&this.view.app.workspace.openLinkText(x,this.view.file.path,t.ctrlKey||t.metaKey))}if(A.md&&A.node){var b=decodeURIComponent(A.md),w=decodeURIComponent(A.node);Object.assign(window,{"show-mindmap-node":w});const e=this.view.app.workspace.getLeavesOfType("mindmapview");if(e.length){var k=null;if(e.forEach((e=>{e.view&&e.view.file&&e.view.file.path==b&&(k=e.view)})),k)if(k.mindmap){var C=k.mindmap.getNodeById(w);k.mindmap.showNode(C),Object.assign(window,{"show-mindmap-node":""})}else k.app.workspace.openLinkText(b,(null===(n=k.file)||void 0===n?void 0:n.path)||"",!0);else(k=e[0].view).app.workspace.openLinkText(b,(null===(s=k.file)||void 0===s?void 0:s.path)||"",!0)}else this.view.app.workspace.openLinkText(b,(null===(o=this.view.file)||void 0===o?void 0:o.path)||"",!0);return}return A.md?void this.view.app.workspace.openLinkText(decodeURIComponent(A.md),this.view.file.path,!0):void 0}if(y.startsWith("#")){const e=y.matchAll(/#([\p{Letter}\p{Emoji_Presentation}\p{Number}\/_-]+)/gu).next(),t=this.view.plugin.app.workspace.getLeavesOfType("search");if(0==t.length)return;return t[0].view.setQuery(`#${e.value[1]}`),void this.view.plugin.app.workspace.revealLeaf(t[0])}if(y.endsWith(".pdf")||y.endsWith(".epub"))return void this.view.showAnnotate("",v);if(y.startsWith("http")||y.startsWith("https")||y.startsWith("file:")||y.startsWith("www")||y.startsWith("zotero")||y.startsWith("jv:")||y.startsWith("marginnote")||y.startsWith("booknote")||y.startsWith("obsidian:")||y.startsWith("ithoughts:")||y.startsWith("evernote:")||y.startsWith("ticktick:")||y.startsWith("onenote:")||y.startsWith("bookxnotepro:")||y.startsWith("eagle:")||y.startsWith("skim:")){if(this.linkMenu.setAttribute("data-link",v),l=h.closest(".mm-node").getAttribute("data-id")){let e=this.getNodeById(l);if(e){var E=e.getBox();this.linkMenu.style.display="block",this.linkMenu.style.left=E.x+E.width/2+"px",this.linkMenu.style.top=E.y+30+"px"}}return}if(this.view.app.workspace.openLinkText(v,this.view.file.path,t.ctrlKey||t.metaKey),h.closest(".markdown-embed")){const t=e.parseLinktext(v),i=t.subpath.startsWith("#^")?t.subpath.substr(2):null;if(!i)return;var D=h.closest(".markdown-embed").getAttribute("data-name");const n=this.view.app.metadataCache.getFirstLinkpathDest(D,this.path||"");var N=this.view.app.metadataCache.getFileCache(n);if(N&&N.frontmatter&&N.frontmatter["annotate-target"]){var I=N.frontmatter["annotate-target"];return void this.openPDFView(i,I)}}}}if(h.hasClass("mm-node-bar")){t.preventDefault(),t.stopPropagation();l=h.closest(".mm-node").getAttribute("data-id");return void((C=this.getNodeById(l)).isExpand?C.mindmap.execute("collapseNode",{node:C}):C.mindmap.execute("expandNode",{node:C}))}if(h.hasClass("mm-node-annotate")||h.closest(".mm-node-annotate")){l=h.closest(".mm-node").getAttribute("data-id");var S=(C=this.getNodeById(l)).getData(),B=S.annotate.id,M=S.annotate.pdfName;return navigator.clipboard.writeText(B),void(this.view&&this.view.showAnnotate(B,M))}if(h.closest(".mm-node-menu")){if(h.closest(".mm-icon-add-node"))(J=this.selectNode)&&(J.mindmap.execute("addChildNode",{parent:J}),this._menuDom.style.display="none",this._setupAssistBoard.style.display="none",this._nodeBoard.style.display="none",this.linkMenu.style.display="none");if(h.closest(".mm-icon-delete-node"))(J=this.selectNode)&&(J.nodeType&&"callout"==J.nodeType?J.mindmap.execute("removeCallout",{callout:J.callout}):J.nodeType&&"wireFrame"==J.nodeType?J.mindmap.execute("changeWireFrameName",{wireFrame:J.wireFrame,text:""}):J.mindmap.execute("deleteNodeAndChild",{node:J}),this._menuDom.style.display="none",this._setupAssistBoard.style.display="none",this._nodeBoard.style.display="none",this.linkMenu.style.display="none");if(h.closest(".mm-icon-add-summary"))if(J=this.selectNode){if(this._menuDom.style.display="none",this._setupAssistBoard.style.display="none",this._nodeBoard.style.display="none",this.linkMenu.style.display="none",this.view.period)return void this.view.showNeedNotice();var T=new xe({id:bs(),text:"summary"},J.mindmap);if(J.mindmap.themeConfig)var L=J.mindmap.themeConfig.summaryStroke;if(L)var P=new Te(J,T,L);else P=new Te(J,T);J.mindmap.execute("addSummary",{node:J,summary:P})}if(h.closest(".mm-icon-add-frame"))if(J=this.selectNode){if(this._menuDom.style.display="none",this._setupAssistBoard.style.display="none",this._nodeBoard.style.display="none",this.linkMenu.style.display="none",this.view.period)return void this.view.showNeedNotice();if(J.mindmap.themeConfig)var O=J.mindmap.themeConfig.boundaryFill,R=J.mindmap.themeConfig.boundaryStroke;if(O&&R)var _=new gt(J,O,R);else _=new gt(J);J.mindmap.execute("addWireFrame",{node:J,wireFrame:_})}if(h.closest(".mm-icon-add-link"))if(J=this.selectNode){if(this._menuDom.style.display="none",this._setupAssistBoard.style.display="none",this._nodeBoard.style.display="none",this.linkMenu.style.display="none",this.view.period)return void this.view.showNeedNotice();if(new e.Notice(r("Please select another node")),J.mindmap.themeConfig)var F=J.mindmap.themeConfig.relateLinkStroke;if(F)var z=new Dt(J,{color:F});else if("whiteboard"==this._themeName)if(document.querySelector(".theme-light"))z=new Dt(J,{color:"#333"});else z=new Dt(J,{color:"#fff"});else z=new Dt(J);this._waitRelate=z,z.status="addRelate"}if(h.closest(".mm-icon-add-note"))if(J=this.selectNode){this._setupAssistBoard.style.display="none",this._nodeBoard.style.display="none",this.linkMenu.style.display="none",this._noteDom.style.display="block",this.isEditNote=!0;var Q=J.data.note||"",H=parseInt(this._menuDom.style.left),j=parseInt(this._menuDom.style.top);this._noteDom.style.left=H+"px",this._noteDom.style.top=j+50+"px";var q=this._noteDom.querySelector("textarea");q.value="",Q&&(q.value=Q)}if(h.closest(".mm-icon-add-callout"))if((J=this.selectNode)&&(this._setupAssistBoard.style.display="none",this._nodeBoard.style.display="none",this.linkMenu.style.display="none",this._noteDom.style.display="block",this.isEditNote=!1,!J.callout)){var W=new Nt(J);this.execute("addCallout",{node:J,callout:W})}if(h.closest(".mm-icon-change-layout"))if(this._layoutDom.style.display="block",this._setupAssistBoard.style.display="none",this._nodeBoard.style.display="none",this._noteDom.style.display="none",this.linkMenu.style.display="none",J=this.selectNode){d=J.getDomBox();var V=J.getPosition(),U=parseInt(this._menuDom.style.left),X=parseInt(this._menuDom.style.top);this._layoutDom.style.left=U+"px",this._layoutDom.style.top=X+50+"px"}return}if(h.closest(".mm-link-board")){if(h.hasClass("mm-file-name")||h.closest(".mm-file-name")){if(h.hasClass("mm-file-name"))var G=h;else G=h.closest(".mm-file-name");if(G){if("md"==G.querySelector(".mm-file-ext").innerText)var Y=G.getAttribute("data-name");else Y=G.getAttribute("data-path");this.selectNode&&this.selectNode.isEdit&&this._completeFile(this.selectNode,Y)}}if(h.hasClass("mm-block-name")||h.closest(".mm-block-name")){if(h.hasClass("mm-block-name"))G=h;else G=h.closest(".mm-block-name");if(G){Y=this._linkboard.querySelector(".mm-file-name.active").getAttribute("data-name");var K=G.getAttribute("data-head");this.selectNode&&this.selectNode.isEdit&&this._completeFile(this.selectNode,Y+"#"+K)}}return}if(h.closest(".mm-change-layout")){var J=this.selectNode,Z=h.closest(".mm-change-layout").getAttribute("data-layout");if(J&&"delete"==Z){if(J.isRoot||"induce"==J.nodeType||"freeNode"==J.nodeType)return;return void this.execute("removeNodeLayout",{node:J})}var $=Z.split("-")[0],ee=Z.split("-")[1];if(J){if("callout"==J.nodeType||"relateLink"==J.nodeType)return;var te=J.getLayout();if(te&&"fish"==te.layoutName){if(!J.layout)return;if(J.nodeType&&"induce"!=J.nodeType&&"richText"!=J.nodeType&&"freeNode"!=J.nodeType)return}if(J.layout){var ie=J.layout.layoutName,ne=J.layout.direct;if($==ie&&ne==ee)return}this.execute("changeLayout",{node:J,direct:ee})}return}if(h.closest(".mm-node")){l=h.closest(".mm-node").getAttribute("data-id");if(!(C=this.getNodeById(l)))return;if(h.hasClass("callout-title")||h.closest(".callout-title")){var se=h.closest(".callout-title");if(se&&se.querySelector(".callout-fold"))return void setTimeout((()=>{C.refreshBox(),C.clearCacheData(),this.emit("renderEditNode",{node:C})}),150)}if(!C.isSelect){this.useHoverEdit=!1,this.clearSelectNode(!0),this._setupAssistBoard.style.display="none",this.selectNode=C,null===(a=this.selectNode)||void 0===a||a.select(),this._menuDom.style.display="flex";d=this.selectNode.getBox();if(C.nodeType&&"induce"==C.nodeType&&C.belongInduce){var re=C.belongInduce.node;C.direct=re.direct}if(this._menuDom.classList.remove("reverse"),C.direct&&"left"==C.direct){this._menuDom.classList.add("reverse");var oe=this._menuDom.clientWidth;this._menuDom.style.left=d.x-oe-10+"px",this._menuDom.style.top=d.y+d.height/2-16+"px"}else this._menuDom.style.left=`${d.x+d.width+10}px`,this._menuDom.style.top=d.y+d.height/2-16+"px";this.showNodeBoard();for(var ae=0;ae<this._menuDom.children.length;ae++){this._menuDom.children[ae].style.display="flex"}if(C.isRoot&&C.data.main)this._menuDom.querySelector(".mm-icon-add-summary").style.display="none",this._menuDom.querySelector(".mm-icon-add-frame").style.display="none",this._menuDom.querySelector(".mm-icon-delete-node").style.display="none";if(C.nodeType&&"freeNode"==C.nodeType)this._menuDom.querySelector(".mm-icon-add-summary").style.display="none",this._menuDom.querySelector(".mm-icon-add-frame").style.display="none";if(C.nodeType&&"induce"==C.nodeType){if(P=C.belongInduce){re=P.node;C.direct=re.direct}this._menuDom.querySelector(".mm-icon-add-summary").style.display="none",this._menuDom.querySelector(".mm-icon-add-frame").style.display="none"}if(C.nodeType&&"relateLink"==C.nodeType)this._menuDom.querySelector(".mm-icon-add-node").style.display="none",this._menuDom.querySelector(".mm-icon-add-summary").style.display="none",this._menuDom.querySelector(".mm-icon-add-frame").style.display="none",this._menuDom.querySelector(".mm-icon-add-link").style.display="none",this._menuDom.querySelector(".mm-icon-add-callout").style.display="none",this._menuDom.querySelector(".mm-icon-change-layout").style.display="none";if(C.nodeType&&"wireFrame"==C.nodeType)this._menuDom.querySelector(".mm-icon-add-node").style.display="none",this._menuDom.querySelector(".mm-icon-add-summary").style.display="none",this._menuDom.querySelector(".mm-icon-add-frame").style.display="none",this._menuDom.querySelector(".mm-icon-add-link").style.display="none",this._menuDom.querySelector(".mm-icon-add-callout").style.display="none",this._menuDom.querySelector(".mm-icon-change-layout").style.display="none";if("basic"==this._mode||"table"==this._mode)this._menuDom.querySelector(".mm-icon-add-summary").style.display="none",this._menuDom.querySelector(".mm-icon-add-frame").style.display="none",this._menuDom.querySelector(".mm-icon-add-link").style.display="none",this._menuDom.querySelector(".mm-icon-add-note").style.display="none",this._menuDom.querySelector(".mm-icon-add-callout").style.display="none",this._menuDom.querySelector(".mm-icon-change-layout").style.display="none";if(C.nodeType&&"callout"==C.nodeType)this._menuDom.querySelector(".mm-icon-add-node").style.display="none",this._menuDom.querySelector(".mm-icon-add-summary").style.display="none",this._menuDom.querySelector(".mm-icon-add-frame").style.display="none",this._menuDom.querySelector(".mm-icon-add-link").style.display="none",this._menuDom.querySelector(".mm-icon-add-callout").style.display="none",this._menuDom.querySelector(".mm-icon-change-layout").style.display="none";if(C.iNode&&"rich"==this._mode)if(C.layout&&"table"==C.layout.layoutName)this._menuDom.querySelector(".mm-icon-add-callout").style.display="none";else this._menuDom.querySelector(".mm-icon-add-summary").style.display="none",this._menuDom.querySelector(".mm-icon-add-frame").style.display="none",this._menuDom.querySelector(".mm-icon-add-callout").style.display="none",this._menuDom.querySelector(".mm-icon-change-layout").style.display="none";if(C.nodeType&&"induce"==C.nodeType&&this.emit("showWireFrame",{induce:C.belongInduce}),this.relateLinks.forEach((e=>{e.startNode!=C&&e.endNode!=C||e.active()})),(t.ctrlKey||t.metaKey)&&"rich"==this._mode){const{text:e,id:t}=C.getData();var he=`${e} [🔖](obsidian://jump-to-pdf?md=${encodeURIComponent(this.path)}&node=${encodeURIComponent(t)})`;navigator.clipboard.writeText(he)}if(this._noteTabArr.length&&(this._noteTabArr.forEach((e=>{var t=e.querySelector("mm-node-note-close");t&&(t.onclick=null);try{this.contentEL.removeChild(e)}catch(e){}e=null})),this._noteTabArr=[]),this._waitRelate)if(this._waitRelate.startNode!=C){if(this.isMobile){V=C.getPosition();this._waitRelate.move(V.x,V.y)}this._waitRelate.setEndNode(C),this.execute("addRelateLink",{link:this._waitRelate}),this._waitRelate.off(),this._waitRelate=null}}}else this.showFilter&&(this.selectNode.shouldRender=!0,this._linkboard.style.display="none"),this.clearSelectNode(!0),this._menuDom.style.display="none",this.relateLinks.forEach((e=>{e.unactive()})),this._dragFrame.style.display="none",this._indicateDom.style.display="none",this._setupAssistBoard.style.display="none",this._noteDom.style.display="none",this._nodeBoard.style.display="none",this._layoutDom.style.display="none",this.isEditNote=!1,this._noteTabArr.length&&(this._noteTabArr.forEach((e=>{var t=e.querySelector("mm-node-note-close");t&&(t.onclick=null);try{this.contentEL.removeChild(e)}catch(e){}e=null})),this._noteTabArr=[]),this._waitRelate&&this._addFreeNode(t,(e=>{if(this.isMobile){var t=e.getPosition();this._waitRelate.move(t.x,t.y)}this._waitRelate.setEndNode(e),this.execute("addRelateLink",{link:this._waitRelate}),this._waitRelate.off(),this._waitRelate=null}))}}openPDFViewById(e,t){this.view.showAnnotateById(e,t)}openPDFView(e,t){this.view.showAnnotate(e,t)}appDragstart(e){if(e.stopPropagation(),this.startX=e.pageX,this.startY=e.pageY,e.target instanceof HTMLElement&&e.target.closest(".mm-node")){var t=e.target.closest(".mm-node").getAttribute("data-id");this._dragNode=this.getNodeById(t),this.drag=!0;var i=this.getSelectNodes(),n=this._dragNode.parent,s=[],r=[],o=[];if(n)n.children.forEach((e=>{r=r.concat(e.wfs),o=o.concat(e.induces),i.indexOf(e)>-1&&s.push(e)}));var a=r.unique();if(a.length){var h={};for(var l in a.forEach((e=>{if(e.node!=e.endNode&&1==s.length){if(e.node.parent){var t=e.node.parent.children.indexOf(e.node),i=e.node.parent.children.indexOf(e.endNode);if(this._dragNode==e.node){e.node=e.node.parent.children[t+1],-1==e.node.wfs.indexOf(e)&&e.node.wfs.push(e);for(var n=[],r=0;r<e.node.parent.children.length;r++)r>=t+1&&r<=i&&n.push(e.node.parent.children[r]);e.rangeNode=n,h[d]||(h[d]={oldSn:this._dragNode,sn:e.rangeNode[0],removeWfs:[]}),h[d].removeWfs.push(e)}else if(this._dragNode==e.endNode)e.endNode=e.rangeNode[e.rangeNode.length-2],e.rangeNode=e.rangeNode.pop();else{var o=e.rangeNode.indexOf(this._dragNode);o>-1&&e.rangeNode.splice(o,1)}e.node.clearCacheData(),e.endNode.clearCacheData(),e.refreshNode(),e.refreshItems(),e.refresh(!0)}}else if(e.node!=e.endNode&&s.length>1){t=e.node.parent.children.indexOf(e.node),i=e.node.parent.children.indexOf(e.endNode);var a=e.node.parent.children.indexOf(s[0]),l=e.node.parent.children.indexOf(s[s.length-1]);if(a<=t&&l>=i);else{var d=e.node.getId();s.forEach((t=>{if(e.rangeNode){var i=e.rangeNode.indexOf(t);i>-1&&e.rangeNode.splice(i,1)}})),e.node!=e.rangeNode[0]&&(h[d]||(h[d]={oldSn:e.node,sn:e.rangeNode[0],removeWfs:[]}),h[d].removeWfs.push(e)),e.node=e.rangeNode[0],e.endNode=e.rangeNode[e.rangeNode.length-1],e.refreshNode(),e.refreshItems(),e.node.clearCacheData(),e.endNode.clearCacheData(),e.refresh(!0)}}})),h)h[l]&&h[l].removeWfs.length&&h[l].removeWfs.forEach((e=>{var t=h[l].oldSn.wfs.indexOf(e);h[l].oldSn.wfs.splice(t,1),h[l].oldSn.wireFrame=null,-1==h[l].sn.wfs.indexOf(e)&&h[l].sn.wfs.push(e)}))}var d=o.unique();if(d.length){var c={};for(var l in d.forEach((e=>{if(e.node!=e.endNode&&1==s.length){if(e.node.parent){var t=e.node.parent.children.indexOf(e.node),i=e.node.parent.children.indexOf(e.endNode);if(this._dragNode==e.node){var n=e.node.getId();e.node=e.node.parent.children[t+1],-1==e.node.induces.indexOf(e)&&e.node.induces.push(e);for(var r=[],o=0;o<e.node.parent.children.length;o++)o>=t+1&&o<=i&&r.push(e.node.parent.children[o]);e.rangeNode=r,c[n]||(c[n]={oldSn:this._dragNode,sn:e.rangeNode[0],removeInduce:[]},c[n].removeInduce.push(e))}else if(this._dragNode==e.endNode)e.endNode=e.rangeNode[e.rangeNode.length-2],e.rangeNode=e.rangeNode.pop();else{var a=e.rangeNode.indexOf(this._dragNode);a>-1&&e.rangeNode.splice(a,1)}e.node.clearCacheData(),e.endNode.clearCacheData(),e.refreshNode(),e.refreshItems(),e.refresh(!0)}}else if(e.node!=e.endNode&&s.length>1){t=e.node.parent.children.indexOf(e.node),i=e.node.parent.children.indexOf(e.endNode);var h=e.node.parent.children.indexOf(s[0]),l=e.node.parent.children.indexOf(s[s.length-1]);if(h<=t&&l>=i);else{n=e.node.getId();s.forEach((t=>{if(e.rangeNode){var i=e.rangeNode.indexOf(t);i>-1&&e.rangeNode.splice(i,1)}})),e.node!=e.rangeNode[0]&&(c[n]||(c[n]={oldSn:e.node,sn:e.rangeNode[0],removeInduce:[]}),c[n].removeInduce.push(e)),e.node=e.rangeNode[0],e.endNode=e.rangeNode[e.rangeNode.length-1],e.node.clearCacheData(),e.endNode.clearCacheData(),e.refreshNode(),e.refreshItems(),e.refresh(!0)}}})),c)c[l]&&c[l].removeInduce&&c[l].removeInduce.forEach((e=>{var t=c[l].oldSn.induces.indexOf(e);c[l].oldSn.induces.splice(t,1),c[l].oldSn.induce=null,-1==c[l].sn.induces.indexOf(e)&&c[l].sn.induces.push(e)}))}}this._menuDom.style.display="none",this._nodeBoard.style.display="none"}appDragend(e){this.drag=!1,this._indicateDom.style.display="none",this._menuDom.style.display="none"}appDragover(e){e.preventDefault(),e.stopPropagation();var t=e.target,i=e.pageX,n=e.pageY;if(this.drag&&(this.dx=i-this.startX,this.dy=n-this.startY),t.closest(".mm-node")){var s=t.closest(".mm-node").getAttribute("data-id"),r=this.getNodeById(s),o=r.getBox();if(this._dragType=this._getDragType(r,i,n),this._indicateDom.style.display="block",this._indicateDom.style.left=o.x+o.width/2-20+"px",this._indicateDom.style.top=o.y-90+"px",this._indicateDom.className="mm-node-layout-indicate","top"==this._dragType)this._indicateDom.classList.add("mm-arrow-top");else if("down"==this._dragType)this._indicateDom.classList.add("mm-arrow-down");else if("left"==this._dragType)this._indicateDom.classList.add("mm-arrow-left");else if("right"==this._dragType)this._indicateDom.classList.add("mm-arrow-right");else{this._indicateDom.classList.add("drag-type");var a=this._dragType.split("-");a[1]?this._indicateDom.classList.add("mm-arrow-"+a[1]):this._indicateDom.classList.add("mm-arrow-right")}}else this._indicateDom.style.display="none"}_getDragType(e,t,i){if(e){var n=e.contentEl.getBoundingClientRect(),s=e.direct;if(e.belongInduce)return"child-"+(e.belongInduce.direct||s);switch(s){case"right":return i<n.y+n.height/2&&t<n.x+n.width/4*3?"top":i>n.y+n.height/2&&t<n.x+n.width/4*3?"down":"child-right";case"left":return i<n.y+n.height/2&&t>n.x+n.width/4?"top":i>n.y+n.height/2&&t>n.x+n.width/4?"down":"child-left";case"top":case"up":return t<n.x+n.width/4?"left":t>n.x+n.width/4*3?"right":"child-top";case"down":case"bottom":return t<n.x+n.width/4?"left":t>n.x+n.width/4*3?"right":"child-down";default:return"child"}}}_dropFile(e,t){if("file"===e.type)if("md"==e.file.extension.toLowerCase()||["png","jpg","jpeg","gif"].contains(e.file.extension.toLowerCase())){var i=e.file.path,n=e.file.extension.length,s=!1;if("md"==e.file.extension.toLowerCase()){var r=i.substr(0,i.length-n-1);s=!0}else r=i;var o={text:`![[${r}]]`,id:bs(),main:!1,useEditMode:s};if(this.root||(o.main=!0),"basic"==this._mode||"table"==this._mode)return;var a=t.offsetX,h=t.offsetY,l=new xe(o,this);l.nodeType="freeNode",l.setPosition(a,h),this.execute("addFreeNode",{node:l}),this.root||(this.root=l,l.nodeType="richNode")}}appDrop(i){var n;this._indicateDom.style.display="none",this._menuDom.style.display="none";var s=(null===(n=this.view)||void 0===n?void 0:n.app).dragManager.draggable;if(s)this._dropFile(s,i);else{var r=i.target;if(r.closest(".mm-node")){i.preventDefault();var o=r.closest(".mm-node").getAttribute("data-id"),a=this.getNodeById(o);if(a.iNode)return;if(this._dragNode==a){if(this._indicateDom.style.display="none","freeNode"==this._dragNode.nodeType||this._dragNode.isRoot){var h=this._dragNode.getPosition();this.execute("movePosition",{node:this._dragNode,oldPos:h,newPos:{x:h.x+this.dx,y:h.y+this.dy}})}return}if(this._dragNode.nodeType&&"freeNode"==this._dragNode.nodeType){for(var l=!1,d=a;d;){if(d==this._dragNode){l=!0;break}d=d.parent}if(l)return void(this._indicateDom.style.display="none");if(a.nodeType&&"induce"==a.nodeType){var c=a.belongInduce.direct||a.direct;if(!a.layout){for(var u=[],p=0;p<50;p++)u.push(a.belongInduce.node.stroke);a.layout="right"==c||"left"==c?new Se.mindmap1(a,c,u):new Se.tree(a,c,u)}}return void this.execute("changeFreeRootToNode",{node:this._dragNode,parent:a})}this._dragNode.isRoot||this.moveNode(this._dragNode,a,this._dragType)}else{var m=this._dragNode;if(m){h=m.getPosition();if(m.isRoot||m.nodeType&&"richText"!=m.nodeType)("freeNode"==m.nodeType||m.isRoot)&&this.execute("movePosition",{node:m,oldPos:h,newPos:{x:h.x+this.dx,y:h.y+this.dy}});else{if("basic"==this._mode)return;m.setPosition(h.x+this.dx,h.y+this.dy),this.execute("changeNodeToFreeRoot",{node:this._dragNode})}}if(!this.isMobile){if("basic"==this._mode)return;var f=i.dataTransfer.files;if(f.length){var g=f[0];if(g.name.toLowerCase().endsWith(".opml")){var v=this;return(y=new FileReader).readAsText(g),void(y.onload=function(){var e=Ri(y.result);e.length&&(e.forEach((e=>{v.build_with_xml(v.root,e)})),v.refresh(),setTimeout((()=>{var e;null===(e=v.view)||void 0===e||e.mindMapChange()}),200))})}if(g.name.toLowerCase().endsWith(".xmind"))try{v=this;(y=new FileReader).onload=()=>{ki.loadAsync(y.result).then((e=>{var i=e.files,n=[],s=[],r=[],o={};for(var a in i)if(a.startsWith("resources")&&!i[a].dir){var h="data:image/png;base64,";a.endsWith("jpg")&&(h="data:image/jpeg;base64,"),a.endsWith("gif")&&(h="data:image/gif;base64,"),a.endsWith("svg")&&(h="data:image/svg+xml;base64,"),s.push(h),r.push(a),n.push(i[a].async("base64"))}if(n.length){var l=this.view.file.path.replace(this.view.file.name,"");function d(e){for(var t=window.atob(e),i=t.length,n=new Uint8Array(i),s=0;s<i;s++)n[s]=t.charCodeAt(s);return n.buffer}function c(e){for(var t in i)"content.json"==t&&i[t].async("text").then((t=>{var i=JSON.parse(t),n=Di(i[0],e);v.clearNode(),v.initRich(n,{}),v.root.expand(),v.root.layout.refresh(),setTimeout((()=>{v.center(),v.mindMapChange()}),100)}))}Promise.all(n).then((e=>{e.forEach(((i,n)=>t(this,void 0,void 0,(function*(){o[r[n]]={base64:s[n]+i,path:""};var t=r[n].replace("resources/",""),a="";this.xmindImageTarget?(a=this.xmindImageTarget+"/"+t,o[r[n]].path=a):(a=l+t,o[r[n]].path=a),o[r[n]].path=a;r[n].endsWith("jpg"),r[n].endsWith("gif"),r[n].endsWith("svg");var h=d(i);a&&(yield this.view.app.vault.adapter.writeBinary(a,h)),n==e.length-1&&c(o)}))))}))}else for(var a in i)"content.json"==a&&i[a].async("text").then((e=>{var t=JSON.parse(e),i=Di(t[0]);v.clearNode(),v.initRich(i,{}),v.root.expand(),v.root.layout.refresh(),setTimeout((()=>{v.center(),v.mindMapChange()}),100)}))}))},y.readAsArrayBuffer(g)}catch(t){new e.Notice("Parse xmind error")}else if(g.name.toLowerCase().endsWith(".emmx")){var y=new FileReader;v=this;y.readAsArrayBuffer(g),y.onload=()=>{ki.loadAsync(y.result).then((e=>{e.files["page/page.xml"].async("text").then((e=>{var t=function(e){Bi={},Mi=null,Ti=[],Li={},Si={theme:"blue",mindData:[],induceData:[],wireFrameData:[],relateLink:[],background:"",relateLinkData:[],calloutData:[],marks:[]};for(var t=e.children[0].children,i=0,n=t.length;i<n;i++){var s=t[i],r=wi(s);if(r.attr("Type")&&("MainIdea"==r.attr("Type")||"MainTopic"==r.attr("Type")||"SubTopic"==r.attr("Type")||"SummaryTopic"==r.attr("Type"))){var o={id:"",pid:"",text:"",remark:"",marks:[],isExpand:!0,image:"",imageName:"",x:0,y:0,eleType:"node",children:[]};o.id=r.attr("ID"),r.children().each((function(e,t){if("Text"==t.tagName){var i=wi(t).text().trim().split("\n").filter((e=>e.trim().length)).join("<br>");o.text=i}"Note"==t.tagName&&(i=wi(t).text().trim().split("\n").filter((e=>e.trim().length)).join("<br>"),o.remark=i),"HyperLinks"==t.tagName&&(o.link=wi(t).find("Address").attr("V")),"SummaryTopic"==r.attr("Type")?"LevelData"==t.tagName&&(o.superids=wi(t).find("Super").attr("V"),wi(t).find("SubLevel")&&(o.childrenIds=wi(t).find("SubLevel").attr("V"))):"LevelData"==t.tagName&&(o.childrenIds=wi(t).find("SubLevel").attr("V"))})),"MainIdea"==r.attr("Type")&&(o.main=1,o.isRoot=1,o.x=4e3,o.y=4e3,Mi=o),"SummaryTopic"==r.attr("Type")&&(o.eleType="SummaryTopic",o.nodeType="induce",Ti.push(o)),Bi[r.attr("ID")]=o}if(r.attr("Type")&&"Summary"==r.attr("Type")){var a={id:r.attr("ID"),nodes:""};r.children().each((function(e,t){"BoundaryData"==t.tagName&&(a.nodes=wi(t).find("Shapes").attr("V"))})),Li[r.attr("ID")]=a}}!function(e){for(var t in e)if(e[t].childrenIds){var i=e[t].childrenIds.split(";");i.length&&i.forEach((i=>{e[i]&&(e[t].children.push(e[i]),e[i].pid=e[t].id)}))}}(Bi);var h=[];return Pi(Mi,null,h,!0),Si.mindData.push(h),Ti&&Ti.length&&Ti.forEach((e=>{var t={induceData:{range:"",id:e.id}};if(e.superids&&Li[e.superids]){var i=Li[e.superids].nodes.split(";");t.induceData.nodeId=i[0],t.induceData.endNodeId=i[0];var n=[],s=Bi[e.id];s&&Pi(s,null,n),t.mindData=n,Si.induceData.push(t)}})),Si}(wi.parseXML(e));v.clearNode(),v.initRich(t,{}),v.root.expand(),v.root.layout.refresh(),setTimeout((()=>{v.center(),v.mindMapChange()}),100)}))})).catch((e=>{console.log(e)}))}}else if(g.name.toLowerCase().endsWith(".png")||g.name.toLowerCase().endsWith(".jpg")||g.name.toLowerCase().endsWith(".gif")||g.name.toLowerCase().endsWith(".svg")){(y=new FileReader).readAsArrayBuffer(g),y.onload=()=>{var e=this.view,t=+new Date+"-"+g.name,n=e.plugin.settings.imageFolder?e.plugin.settings.imageFolder+"/"+t:t;e.app.vault.adapter.writeBinary(n,y.result).then((e=>{var n=i.offsetX,s=i.offsetY,r=new xe({id:bs(),text:`![[${t}]]`},this);r.nodeType="freeNode",r.setPosition(n,s),this.execute("addFreeNode",{node:r})}))}}}}}}}appMouseLeaveFn(e){this.isRead=!0}appMouseOverFn(e){const t=e.target;if(this.isRead=!1,t.hasClass("mm-file-name")||t.closest(".mm-file-name")){if(t.hasClass("mm-file-name"))var i=t;else i=t.closest(".mm-file-name");var n=this._linkboard.querySelector(".mm-file-name.active");if(n&&n.classList.remove("active"),i){i.classList.add("active");var s=i.getAttribute("data-path");s&&this._completeBlock(s)}}"A"===t.tagName&&t.hasClass("internal-link")&&this.view.app.workspace.trigger("hover-link",{event:e,source:a,hoverParent:this.view,targetEl:t,linktext:t.getAttr("href"),sourcePath:this.view.file.path})}_delay(t){t.findAll(".internal-embed").forEach((t=>{var i;const n=t.getAttribute("src"),s="string"==typeof n&&(null===(i=this.view)||void 0===i?void 0:i.app.metadataCache.getFirstLinkpathDest(n,this.path));if(s instanceof e.TFile&&"md"!==s.extension){t.innerText="";var r=this.view.app.vault.getResourcePath(s);t.createEl("img",{attr:{src:r}},(e=>{t.hasAttribute("width")&&e.setAttribute("width",t.getAttribute("width")),t.hasAttribute("alt")&&e.setAttribute("alt",t.getAttribute("alt"))})),t.addClasses(["image-embed","is-loaded"])}}))}_calcSelectNodes(){this.timeOut&&clearTimeout(this.timeOut);var e=this._selectDom.getBoundingClientRect();this.timeOut=setTimeout((()=>{this.traverseDF((t=>{var i,n;!function(e,t){if(!e||!t)return!1;var i=e.x+e.width/2,n=e.y+e.height/2,s=t.x+t.width/2,r=t.y+t.height/2,o=Math.abs(i-s),a=Math.abs(n-r);return o<(e.width+t.width)/2&&a<(e.height+t.height)/2}(t.tNode?null===(i=t.tNode.containEl)||void 0===i?void 0:i.getBoundingClientRect():null===(n=t.containEl)||void 0===n?void 0:n.getBoundingClientRect(),e)?t.unSelect():t.select()}))}),50)}appMouseMove(e){const t=e.target;if(this._isDragFrame){if(e.stopPropagation(),e.preventDefault(),this.isMobile)var i=e.touches[0].pageX,n=e.touches[0].pageY;else i=e.pageX,n=e.pageY;var s=i-this.startX,r=n-this.startY;"up"==this._moveDirect?(this._dragFrame.style.top=this._dragFrameY+r+"px",this._dragFrame.style.height=this._frameHeight-r+"px"):"down"==this._moveDirect?this._dragFrame.style.height=this._frameHeight+r+"px":"left"==this._moveDirect?(this._dragFrame.style.left=this._dragFrameX+s+"px",this._dragFrame.style.width=this._frameWidth-s+"px"):this._dragFrame.style.width=this._frameWidth+s+"px"}else if(this.isMobile||this.isScaleing||(this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout((()=>{this.scalePointer=[],this.scalePointer.push(e.pageX+this.containerEL.scrollLeft,e.pageY+this.containerEL.scrollTop)}),10)),!t.closest(".mm-note")){if(this.drag&&(this.isMobile||(this.containerEL.scrollLeft=this._left-(e.pageX-this.startX),this.containerEL.scrollTop=this._top-(e.pageY-this.startY))),this._isSelectNode){var o=e.pageX,a=e.pageY;s=Math.abs(o-this.startX),r=Math.abs(a-this.startY);this._selectDom.style.width=s+"px",this._selectDom.style.height=r+"px",o>this.startX&&a>this.startY||(o>this.startX&&a<this.startY?this._selectDom.style.top=this._selectDom._sy-r+4+"px":o<this.startX&&a>this.startY?this._selectDom.style.left=this._selectDom._sx-s+4+"px":o<this.startX&&a<this.startY&&(this._selectDom.style.top=this._selectDom._sy-r+4+"px",this._selectDom.style.left=this._selectDom._sx-s+4+"px")),this._calcSelectNodes()}if(e.touches&&2==e.touches.length&&this.isMobile&&this.drag){e.preventDefault();var h={x:e.touches[0].pageX,y:e.touches[0].pageY},l={x:e.touches[1].pageX,y:e.touches[1].pageY};this.getDistance(h,l)/this.touches>1?this.setScale("up"):this.setScale("down")}}}getDistance(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}containerMousdown(e){if(e.ctrlKey||e.metaKey){e.stopPropagation(),e.preventDefault(),this._isSelectNode=!0,this.startX=e.pageX,this.startY=e.pageY,this._selectDom=document.createElement("div"),this._selectDom.classList.add("mm-mindmap-select"),this._selectDom.style.position="absolute",this._selectDom.style.zIndex="8000",this._selectDom.style.background="rgba(255,255,255,0.3)",this._offsetX=e.offsetX,this._offsetY=e.offsetY,this._clientX=this.startX,this._clientY=this.startY;var t=this.containerEL.parentElement.getBoundingClientRect();this._selectDom.style.left=this.startX-t.x-2+"px",this._selectDom.style.top=this.startY-t.y-2+"px",this._selectDom._sx=this.startX-t.x-2,this._selectDom._sy=this.startY-t.y-2,this.containerEL.parentElement.appendChild(this._selectDom),this.clearSelectNode(!0),document.onmousemove=e=>{var t=e.pageX,i=e.pageY,n=Math.abs(t-this.startX),s=Math.abs(i-this.startY);this._selectDom.style.width=n+"px",this._selectDom.style.height=s+"px",t>this.startX&&i>this.startY||(t>this.startX&&i<this.startY?this._selectDom.style.top=this._selectDom._sy-s+4+"px":t<this.startX&&i>this.startY?this._selectDom.style.left=this._selectDom._sx-n+4+"px":t<this.startX&&i<this.startY&&(this._selectDom.style.top=this._selectDom._sy-s+4+"px",this._selectDom.style.left=this._selectDom._sx-n+4+"px")),this._calcSelectNodes()},document.onmouseup=e=>{this._isSelectNode&&(this._isSelectNode=!1,setTimeout((()=>{if("basic"!=this._mode){var e=this.getSelectNodesBox();e&&(this._nodeBoard.style.left=e.x+e.width+20+"px",this._nodeBoard.style.top=e.y+"px",this._nodeBoard.style.display="block",this._setupAssistBoard.style.display="none",this._menuDom.style.display="none")}}),130),this._selectDom&&(this.containerEL.parentElement.removeChild(this._selectDom),this._selectDom=null)),document.onmousemove=null,document.onmouseup=null}}}appMouseDown(e){const t=e.target;if(!(t.hasClass("relate-ctrl")||t.closest(".relate-ctrl")||t.hasClass("mm-search")||t.closest(".mm-search"))){if(!t.closest(".mm-node"))if(this._left=this.containerEL.scrollLeft,this._top=this.containerEL.scrollTop,this.isMobile)this.drag=!0,this.startX=e.touches[0].pageX,this.startY=e.touches[0].pageY;else e.ctrlKey||e.metaKey||(this.drag=!0,this.startX=e.pageX,this.startY=e.pageY);if(e.touches&&2==e.touches.length&&this.isMobile){this.drag=!0,e.preventDefault();var i={x:e.touches[0].pageX,y:e.touches[0].pageY},n={x:e.touches[1].pageX,y:e.touches[1].pageY};this.touches=this.getDistance(i,n),this.scalePointer=[],this.scalePointer.push((i.x+n.x)/2+this._left,(i.y+n.y)/2+this._top)}if(t.hasClass("drag-top")||t.closest(".drag-top")||t.hasClass("drag-bottom")||t.closest(".drag-bottom")){this.drag=!1,this._isDragFrame=!0,this.isMobile?(this.startX=e.touches[0].pageX,this.startY=e.touches[0].pageY):(this.startX=e.pageX,this.startY=e.pageY);var s=t.closest(".mm-drag");this._frameWidth=s.clientWidth,this._frameHeight=s.clientHeight,this._setupAssistBoard.style.display="none",(t.hasClass("drag-top")||t.closest(".drag-top"))&&(this._dragFrame.hasClass("model-right")?(this._moveDirect="left",this._dragFrameX=parseInt(s.style.left)):this._dragFrame.hasClass("model-top")&&(this._dragFrameY=parseInt(s.style.top),this._moveDirect="up")),(t.hasClass("drag-bottom")||t.closest(".drag-bottom"))&&(this._dragFrame.hasClass("model-top")?(this._moveDirect="down",this._dragFrameY=parseInt(s.style.top)):this._dragFrame.hasClass("model-right")&&(this._dragFrameX=parseInt(s.style.left),this._moveDirect="right"))}}}getSelectNodesBox(){return 0==this.getSelectNodes().length?null:this.getBoundingRect(this.getSelectNodes())}showNodeBoard(){if("basic"!=this._mode&&"table"!=this._mode){var e=parseInt(this._menuDom.style.left),t=parseInt(this._menuDom.style.top),i=(this._menuDom.clientWidth,this._menuDom.clientHeight);this._nodeBoard.style.left=e+"px",this._nodeBoard.style.top=t+i+20+"px",this._nodeBoard.style.display="block"}}appMouseUp(e){if(this.drag=!1,this.touches=0,this._isDragFrame){this._isDragFrame=!1;var t=this._changeAssistItem,i=t.node.parent,n=t.rangeNode.slice(),s=null,r=null,o=[],a=[],h={x:parseInt(this._dragFrame.style.left),y:parseInt(this._dragFrame.style.top),width:this._dragFrame.clientWidth,height:this._dragFrame.clientHeight};if(this._dragFrame.style.display="none",i.children.forEach(((e,t)=>{var i=e.getDomBox();this.collideCheck(i,h)&&a.push(t)})),i.children.forEach(((e,t)=>{t==a[0]&&(s=e),t==a[a.length-1]&&(r=e),t>=a[0]&&t<=a[a.length-1]&&o.push(e)})),n[0]==s&&n[n.length-1]==r)return;if(!o.length)return;this.execute("changeRangeNode",{item:t,oldRangeNode:n,newRangeNode:o})}}collideCheck(e,t){var i=e.x+e.width/2,n=e.y+e.height/2,s=t.x+t.width/2,r=t.y+t.height/2,o=Math.abs(i-s),a=Math.abs(n-r);return o<=e.width/2+t.width/2&&a<e.height/2+t.height/2}appDblclickFn(e){var t,i=e.target;if(e.target.hasClass("mm-node-bar"))return e.preventDefault(),void e.stopPropagation();if(i.hasClass(".hover-editor")||i.closest(".hover-editor"))e.stopPropagation();else{if(i.closest(".mm-node")){var n=i.closest(".mm-node").getAttribute("data-id");return this.selectNode=this.getNodeById(n),void((!this.editNode||this.editNode&&this.editNode!=this.selectNode)&&(null===(t=this.selectNode)||void 0===t||t.edit(),this.editNode=this.selectNode,this._menuDom.style.display="none",this._nodeBoard.style.display="none"))}if(i.tagName&&"svg"==i.tagName.toLowerCase()){if("basic"==this._mode||"table"==this._mode)return;this._addFreeNode(e)}}}_addFreeNode(e,t){if(e.target.parentElement||e.target.parentElement.hasClass("mm-mindmap-content")){var i=e.offsetX,n=e.offsetY,s=new xe({id:bs(),text:"freeNode",main:!1},this);s.nodeType="freeNode",s.setPosition(i,n),this.execute("addFreeNode",{node:s})}t&&t(s)}appMousewheel(e){if(!this.isRead){var t,i=e.ctrlKey||e.metaKey;e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t&&(t<0?i&&(e.preventDefault(),e.stopPropagation(),this.setScale("down")):i&&(e.preventDefault(),e.stopPropagation(),this.setScale("up")))}}clearNode(){var e,t;"basic"==this._mode?(this.traverseBF((e=>{this.removeNode(e)})),this.mmLayout&&(null===(e=this.mmLayout.svgDom)||void 0===e||e.clear(),null===(t=this.mmLayout.svgDom)||void 0===t||t.remove())):"rich"==this._mode?(this.relateLinks.forEach((e=>{this.removeRelateLink(e)})),this.callouts.forEach((e=>{this.removeCallout(e)})),this.wireFrames.forEach((e=>{this.removeWireFrame(e)})),this.induces.forEach((e=>{this.removeInduce(e)})),this.traverseDF((e=>{this.removeNode(e)})),this.edgeGroup.clear(),this.induceGroup.clear(),this.relateGroup.clear(),this.calloutGroup.clear(),this.root=null):this.tableDom&&(this.tableDom.innerHTML="")}clear(){var e;if(this._scaleDom){var t=this.containerEL.querySelector(".mm-scale .mm-scale-down-btn"),i=this.containerEL.querySelector(".mm-scale .mm-scale-up-btn");t&&(t.onclick=null),i&&(i.onclick=null),this.containerEL.contains(this._scaleDom)&&this.containerEL.removeChild(this._scaleDom),this._scaleDom=null}this.linkMenu&&this.contentEL.contains(this.linkMenu)&&(this.contentEL.removeChild(this.linkMenu),this.linkMenu.onclick=null),this.clearNode(),this.removeEvent(),null===(e=this.draw)||void 0===e||e.clear(),this._noteTabArr.length&&(this._noteTabArr.forEach((e=>{var t=e.querySelector("mm-node-note-close");t&&(t.onclick=null);try{this.contentEL.removeChild(e)}catch(e){}e=null})),this._noteTabArr=[])}getBoundingRect(e){var t={x:0,y:0,width:0,height:0,right:0,bottom:0,topNode:null,bottomNode:null,leftNode:null,rightNode:null};return e.forEach(((e,i)=>{if(e){if("wireFrame"==e.name)var n=e.getBBox();else if(e.layout&&"table"==e.layout.layoutName){n=e.layout.getBox();t.topNode=e.layout.root,t.leftNode=e.layout.root,t.rightNode=e.layout.root,t.bottomNode=e.layout.lastNode}else n=e.getBox();0==i?(t.x=n.x,t.y=n.y,t.right=n.x+n.width,t.bottom=n.y+n.height,"node"==e.name&&(t.topNode=e,t.bottomNode=e,t.leftNode=e,t.rightNode=e)):(n.x<t.x&&(t.x=n.x,"node"==e.name&&(t.leftNode=e)),n.y<t.y&&(t.y=n.y,"node"==e.name&&(t.topNode=e)),n.x+n.width>t.right&&(t.right=n.x+n.width,"node"==e.name&&(t.rightNode=e)),n.y+n.height>t.bottom&&(t.bottom=n.y+n.height,"node"==e.name&&(t.bottomNode=e)))}})),t.width=t.right-t.x,t.height=t.bottom-t.y,t}moveNode(e,t,i){if(e==t||e.isRoot)this._indicateDom.style.display="none";else if(this.allowDragNode){for(var n=!1,s=t.parent;s;){if(s==e){n=!0;break}s=s.belongInduce?s.belongInduce.node:s.parent}if(n)this._indicateDom.style.display="none";else{t.clearCacheData(),e.clearCacheData(),t.isExpand||t.expand();var r=this.getSelectNodes();if(t.nodeType&&"induce"==t.nodeType){var o=t.belongInduce.direct||t.direct;if(i="child-"+o,!t.layout){for(var a=[],h=0;h<50;h++)a.push(t.belongInduce.node.stroke);t.layout="right"==o||"left"==o?new Se.mindmap1(t,o,a):new Se.tree(t,o,a)}}if(r&&r.length>=2){var l=e.parent,d=[];if(l)if(l.children.forEach((e=>{r.indexOf(e)>-1&&d.push(e)})),"top"==i||"left"==i||"down"==i||"right"==i)this.execute("moveNodes",{type:"siblings",nodes:d,oldParent:e.parent,dropNode:t,direct:i});else if(i.indexOf("child")>-1){(c=i.split("-"))[1]?this.execute("moveNodes",{type:"child",nodes:d,oldParent:e.parent,parent:t,direct:c[1]}):this.execute("moveNodes",{type:"child",nodes:d,oldParent:e.parent,parent:t})}}else if("top"==i||"left"==i||"down"==i||"right"==i)this.execute("moveNode",{type:"siblings",node:e,oldParent:e.parent,dropNode:t,direct:i});else if(i.indexOf("child")>-1){var c;(c=i.split("-"))[1]?this.execute("moveNode",{type:"child",node:e,oldParent:e.parent,parent:t,direct:c[1]}):this.execute("moveNode",{type:"child",node:e,oldParent:e.parent,parent:t})}}}else this.allowDragNode=!0}execute(e,t){this.exec.execute(e,t)}undo(){this.exec.undo()}redo(){this.exec.redo()}addNode(e,t,i=-1){t&&(t.addChild(e,i),t.direct&&(e.direct=t.direct),e.clearCacheData()),e.iNode||e.layout&&"table"==e.layout.layoutName||e.mindmap&&"table"!=e.mindmap._mode&&this._addNodeDom(e)}_addNodeDom(e){e.containEl&&!this.contentEL.contains(e.containEl)&&(this.contentEL.appendChild(e.containEl),e.refreshBox()),e.callout&&(this.addCallout(e.callout),this.contentEL.appendChild(e.callout.root.containEl),e.callout.init()),e._wireFrames&&e._wireFrames.length&&(e.wireFrames=e._wireFrames.slice(),e._wireFrames=[]),e.wireFrames.length&&e.wireFrames.forEach((e=>{this.addWireFrame(e),e.init()})),e._summaries&&e._summaries.length&&(e._summaries.forEach((e=>{this.addInduce(e),e.init(),this.traverseDF((e=>{this._addNodeDom(e),e.layout&&"table"==e.layout.layoutName&&e.layout.tableDom&&!e.mindmap.contentEL.contains(e.layout.tableDom)&&e.mindmap.contentEL.appendChild(e.layout.tableDom)}),e.root)})),e.summaries=e._summaries.slice(),e._summaries=[])}removeNode(e,t=!0){if(e.parent){var i=e.parent,n=e.parent.removeChild(e);if("table"!=i.mindmap._mode){if(e.layout&&"table"==e.layout.layoutName)return n;this._removeChildDom(e,t),i.clearCacheData()}return n}if("table"!=e.mindmap._mode){if(e.layout&&"table"==e.layout.layoutName)return-1;this._removeChildDom(e,t)}return-1}_removeChildDom(e,t=!0){var i=this,n=[],s=[];this.traverseBF((e=>{e.layout&&s.push(e.layout),e.callout&&(i.removeCallout(e.callout),i.contentEL.contains(e.callout.root.containEl)&&i.contentEL.removeChild(e.callout.root.containEl),e.callout.remove(),e.callout.off()),e._wireFrames=e.wireFrames.slice(),e.wireFrames.length&&e.wireFrames.forEach((e=>{i.removeWireFrame(e)})),e._summaries=e.summaries.slice(),e.summaries.length&&(e.summaries.forEach((e=>{i._removeChildDom(e.root),e.remove(),e.root.iNode&&e.root.layout&&e.root.layout.tableDom&&i.contentEL.removeChild(e.root.layout.tableDom)})),e.summaries.forEach((e=>{i.removeInduce(e)})));for(let t=0;t<i.relateLinks.length;t++)i.relateLinks[t].startNode!=e&&i.relateLinks[t].endNode!=e||n.push(i.relateLinks[t]);t&&n.forEach((e=>{i.removeRelateLink(e)})),e.containEl&&this.contentEL.contains(e.containEl)&&i.contentEL.removeChild(e.containEl),e.shapeSvg&&(e.shapeSvg.remove(),e.shapeSvg._delete=!0)}),e),e._removeLink=n,setTimeout((()=>{s.forEach((e=>{"table"!=e.layoutName?(e.group&&(e.group.clear(),e.group.remove(),e.group=null),e.svgDom&&(e.svgDom.clear(),e.svgDom.remove(),e.svgDom=null)):this.contentEL.removeChild(e.tableDom)}))}),0)}layout(){if("basic"==this._mode){if(!this.mmLayout){var e=this.basicLayoutInfo?this.basicLayoutInfo.layout:"mindmap",t=this.basicLayoutInfo?this.basicLayoutInfo.layoutDirect:this.setting.layoutDirect||"right",i=Se[e]||Se.mindmap;return void(i&&(this.mmLayout=new i(this.root,t||this.setting.layoutDirect||"mindmap",this.colors)))}t=this.basicLayoutInfo?this.basicLayoutInfo.layoutDirect:"";this.mmLayout.layout(this.root,t||this.setting.layoutDirect||this.mmLayout.direct||"mind map")}else"rich"==this._mode&&(this.mmLayout||(this.mmLayout=this.root.layout),this.mmLayout.layout(this.mmLayout.root,this.mmLayout.direct))}refresh(){this.layout(),this.freeNodes.forEach((e=>{e.layout&&e.layout.refresh()})),this.induces.forEach((e=>{e.root.layout&&e.root.layout.createLink()})),this.updateRelateLink()}emit(e,t){var i=new CustomEvent(e,{detail:t||{}});this.appEl.dispatchEvent(i)}on(e,t){this.appEl.addEventListener(e,t)}off(e,t){e&&t&&this.appEl.removeEventListener(e,t)}center(){this.root&&(this.showNode(this.root),setTimeout((()=>{this.root&&this.root.select()}),100))}_setMindScalePointer(){this.scalePointer=[];var e=this.root;if(e){var t=e.getBox();this.scalePointer.push(t.x+t.width/2,t.y+t.height/2)}}getMarkdown(e,t,i){if("basic"==this._mode||"table"==this._mode||t){var n="";i=i||this.setting.headLevel;return this.traverseDF((e=>{var t=e.getLevel()+1,s="",r="";if(t>1&&(s="\n"),this.addCollapseNodeMark)var o=e.isExpand?"":` ^${e.getId()}`;else o="";if(e.getLevel()<i){for(let e=0;e<t;e++)s+="#";n+=s+" ",n+=e.getData().text.trim()+o+"\n"}else{for(var a=0;a<e.getLevel()-i;a++)r+="    ";var h=e.getData().text.trim();if(h){var l=h.split("\n"),d=l.length;1==d?n+=`${r}- ${h}${o}\n`:d>1&&(h.startsWith("```")?(n+="\n",n+=`${r}-\n`,l.forEach(((e,t)=>{n+=`${r}  ${e}${t===l.length-1?o:""}\n`})),n+="\n"):(n+=`${r}- `,l.forEach(((e,t)=>{n+=t>0?`${r}   ${e}${t===l.length-1?o:""}\n`:`${e.trim()}\n`}))))}else n+=`${r}-\n`}}),e||this.root,!0),n.trim()}var s=this.getData();return JSON.stringify(s)}scale(e){e<10&&(e=10),e>300&&(e=300),this.mindScale=e,this.scalePointer.length?(this.appEl.style.transformOrigin=`${this.scalePointer[0]}px ${this.scalePointer[1]}px`,this.appEl.style.transform="scale("+this.mindScale/100+")"):this.appEl.style.transform="scale("+this.mindScale/100+")"}setScale(e){var t;if(this.isMobile)var i=(null===(t=this.view)||void 0===t?void 0:t.plugin.settings.scaleSpeed)||5;else i=10;if("up"==e)var n=this.mindScale+i;else n=this.mindScale-i;this.isScaleing=!0,this.timeScale&&clearTimeout(this.timeScale),this.timeScale=setTimeout((()=>{this.scale(n),this._scaleDom&&(n<20&&(n=20),n>300&&(n=300),this._scaleDom.querySelector(".mm-scale .mm-scale-number").innerText=`${n}%`),this.isScaleing=!1}),16.67)}getBBox(e){var t=[];return function e(i){i.isShow()&&(t.push(i),i.callout&&i.callout.isShow&&t.push(i.callout),i.wireFrames.length&&i.wireFrames.forEach((e=>{e.isHide||t.push(e)})),i.summaries.length&&i.summaries.forEach((e=>{e.isShow()&&(t=t.concat(e.getAllItem()))}))),i.isExpand&&i.children.forEach((t=>{e(t)}))}(e),this.getBoundingRect(t)}addInduce(e){if(-1==this.induces.indexOf(e)){this.induces.push(e),this.contentEL.contains(e.root.containEl)||this.contentEL.appendChild(e.root.containEl),e.root.mind=this,e.init();var t=e.node,i=t.parent;-1==i.summaries.indexOf(e)&&(i.summaries.push(e),t.induces.push(e))}}removeInduce(e){var t=this.induces.indexOf(e);if(t>-1){var i=e.node,n=i.parent,s=n.summaries.indexOf(e);n.summaries.splice(s,1);var r=i.induces.indexOf(e);i.induces.splice(r,1),this.induces.splice(t,1)}e&&e.remove()}getRootByNode(e){for(var t=null,i=e;i;){if(i.layout){t=i;break}i=i.parent}return t}addFreeNode(e){if(-1==this.freeNodes.indexOf(e)){if(this.freeNodes.push(e),e.nodeType="freeNode",e.refreshBox(),e.parent=null,e.iNode)return;this.contentEL.contains(e.containEl)||this.contentEL.appendChild(e.containEl),e.containEl.classList.contains("mm-root")||e.containEl.classList.add("mm-root"),e.containEl.classList.contains("mm-freeNode")||e.containEl.classList.add("mm-freeNode"),e.layout||(e.layout=new Se.mindmap2(e,e.direct||"",this.colors.slice()),e.layout.layout(e,e.direct))}}removeFreeNode(e){var t=this.freeNodes.indexOf(e);t>-1&&(this.freeNodes.splice(t,1),e.nodeType="",e.layout&&"table"!=e.layout.layoutName&&(e.layout.svgDom&&e.layout.svgDom.clear()&&e.layout.svgDom.remove()&&(e.layout.svgDom=null),e.layout.group&&e.layout.group.clear()&&e.layout.group.remove()&&(e.layout.group=null)),e.layout&&"table"==e.layout.layoutName&&this.contentEL.contains(e.layout.tableDom)&&this.contentEL.removeChild(e.layout.tableDom))}addRelateLink(e){-1==this.relateLinks.indexOf(e)&&(this.relateLinks.push(e),e.isAdd||(this.draw.add(e.group),e.isAdd=!0,this.contentEL.appendChild(e.corl1),this.contentEL.appendChild(e.corl2),this.contentEL.appendChild(e.textNode.containEl),e.addEvent()))}removeRelateLink(e,t){var i=this.relateLinks.indexOf(e);if(i>-1&&(this.relateLinks.splice(i,1),e.remove(),e.offEvent(),e.isAdd=!1),!t)return i}addWireFrame(e){if(-1==this.wireFrames.indexOf(e)){this.wireFrames.push(e);var t=e.node,i=t.parent;i&&-1==i.wireFrames.indexOf(e)&&(i.wireFrames.push(e),i.wireFrames.sort((function(e,t){return e.rangeNode.length-t.rangeNode.length}))),-1==t.wfs.indexOf(e)&&t.wfs.push(e)}}removeWireFrame(e){var t=this.wireFrames.indexOf(e),i=e.node,n=i.wfs.indexOf(e);if(i.wfs.splice(n,1),t>-1){this.wireFrames.splice(t,1);var s=i.parent;if(s){var r=s.wireFrames.indexOf(e);r>-1&&s.wireFrames.splice(r,1)}e.remove()}}addCallout(e){-1==this.callouts.indexOf(e)&&this.callouts.push(e)}removeCallout(e){var t=this.callouts.indexOf(e);t>-1&&(e.remove(),this.callouts.splice(t,1))}updateRelateLink(){this.relateLinks.forEach((e=>{e.refresh(!0)}))}updateAssist(){this.callouts.forEach((e=>{e.isShow&&e.refresh()})),this.wireFrames.forEach((e=>{e.isHide||(e.refreshItems(),e.refresh())})),this.induces.forEach((e=>{e.isShow()&&(e.refreshItems(),e.refresh(),e.root&&e.root.layout&&e.root.layout.createLink())}))}updateSummary(){this.induces.forEach((e=>{e.isShow()&&(e.refreshItems(),e.refresh(),e.root&&e.root.layout&&e.root.layout.createLink())}))}updateAllAssist(){this.updateAssist(),this.updateRelateLink()}showNode(e){e||(e=this.root);var t=this.containerEL,i=t.clientHeight,n=t.clientWidth;if("table"==this._mode){var s={x:parseInt(this.tableDom.style.left),y:parseInt(this.tableDom.style.top),width:this.tableDom.clientWidth,height:this.tableDom.clientHeight},r=s.x+s.width/2,o=s.y+s.height/2,a=Math.abs(n/2-r),h=Math.abs(i/2-o);return t.scrollLeft=a,void(t.scrollTop=h)}this.clearSelectNode(!0);var l=!1;if(!e.isShow()){var d=e;for(l=!0;d;)d.isExpand||(d.clearCacheData(),d.expand(),this.emit("renderEditNode",{node:d})),d=d.parent}l?setTimeout((()=>{this._centerCanvas(e)}),180):this._centerCanvas(e)}_centerCanvas(e){var t=this.containerEL,i=t.clientHeight,n=t.clientWidth;e.select();var s=e.getDomBox(),r=s.x-10,o=s.y-10,a=r+(s.width+20)/2,h=o+(s.height+20)/2,l=this.mindScale;this.appEl.style.visibility="hidden",this.scale(100);var d=Math.abs(n/2-1*a),c=Math.abs(i/2-1*h);this.appEl.style.visibility="visible",this.setting.useAnimate?(this.scalePointer=[s.x+s.width/2,s.y+s.height/2],this.scale(l),wi(t).animate({scrollLeft:d+"px",scrollTop:c+"px"},500,"linear",(()=>{}))):(t.scrollLeft=d,t.scrollTop=c,this.scalePointer=[s.x+s.width/2,s.y+s.height/2],this.scale(l))}getData(){var e=this,t=[],i=[];this.traverseBF((function(e){var t=e.getData();i.push(t)}),this.root),t.push(i),this.freeNodes.forEach((i=>{var n=[];e.traverseBF((function(e){var t=e.getData();n.push(t)}),i),t.push(n)}));var n=[],s=this.getInducesByNode(this.root);this.freeNodes.forEach((e=>{s=s.concat(this.getInducesByNode(e))})),(s=Qi(s)).forEach((t=>{var i=t.getData();if(i){var s={induceData:i},r=[];e.traverseBF((e=>{var t=e.getData();r.push(t)}),t.root),s.mindData=r,n.push(s)}}));var r=[];this.wireFrames.forEach((e=>{r.push(e.getData())}));var o=[];this.relateLinks.forEach((e=>{o.push(e.getData())}));var a=[];return this.callouts.forEach((e=>{a.push(e.getData())})),{theme:this.themeConfig?this.themeConfig.name:"",mindData:t,induceData:n,wireFrameData:r,relateLinkData:o,calloutData:a}}getInducesByNode(e){if(!e)return[];var t=[];return e.induces.length&&(t=t.concat(e.induces),e.induces.forEach((e=>{t=t.concat(this.getInducesByNode(e.root))}))),e.children.forEach((e=>{t=t.concat(this.getInducesByNode(e))})),t}toPNG(){html2canvas(this.contentEL).then((e=>{document.body.appendChild(e)}))}toDiv(e){if("table"==this._mode){this.tableDom.style.left="100px",this.tableDom.style.top="100px";var t=this.tableDom.clientWidth+200,i=this.tableDom.clientHeight+200}else{var n=[];this.traverseDF((e=>{e.isShow()&&n.push(e)})),this.freeNodes.forEach((e=>{this.traverseDF((e=>{e.isShow()&&n.push(e)}),e)})),this.induces.forEach((e=>{this.traverseDF((e=>{e.isShow()&&n.push(e)}),e.root)})),this.relateLinks.forEach((e=>{e.textNode&&e.textNode.isShow()&&n.push(e.textNode)}));var s=this.getBoundingRect(n),r=this.root.getPosition(),o=0,a=0;s.x>100&&(o=s.x-100),s.y>60&&(a=s.y-100),this.root.setPosition(r.x-o,r.y-a),this.freeNodes.forEach((e=>{var t=e.getPosition();e.setPosition(t.x-o,t.y-a),e.layout.refresh()})),this.refresh(),this.updateAssist(),this.refresh(),this.updateRelateLink();t=s.width+200,i=s.height+200}this.contentEL.style.width=t+"px",this.contentEL.style.height=i+"px",e&&(this.appEl.style.width=t+100+"px",this.appEl.style.height=i+100+"px",this.containerEL.style.maxHeight="500px",this.containerEL.style.maxWidth="100%")}initTable(e){this.clearNode(),e?(this.data=e,this.initTableNode(this.data)):this.initTableDom()}initTableNode(e){this._mode="table",this.themeConfig&&this.appEl.classList.add(`mm-theme-${this.themeConfig.name}`);var t=this;t._nodeNum=0,function e(i,n,s){t._nodeNum++;var r=new be(i,t);n?(t.root=r,r.isRoot=!0,r.data.main=!0):(s.children.push(r),r.parent=s),i.children&&i.children.length&&i.children.forEach((t=>{e(t,!1,r)}))}(e,!0),this.initTableDom()}search(e){var t=[];return e&&this.traverseBF((i=>{var n=i.getData();n.text&&n.text.toLowerCase().indexOf(e)>-1&&t.push({id:n.id,text:n.text})})),t}createSearchDom(e){var t=document.createElement("div");t.classList.add("mm-search");var i=document.createElement("div");t.appendChild(i),i.classList.add("mm-search-head");var n=document.createElement("input");i.appendChild(n),n.classList.add("mm-search-input");var s=document.createElement("div");i.appendChild(s),s.classList.add("mm-search-result"),t.appendChild(i);var o=document.createElement("ul");o.classList.add("mm-search-list"),t.appendChild(o),this._searchDom=t;var a=()=>{var e=n.value.trim();if(wi(o).off("click"),e){var t=this.search(e.toLowerCase());s.innerHTML=r("searchResult").replace("{{nodeNumber}}",t.length),this.createSearchListDom(t,o)}else o.innerHTML="",s.innerHTML=""};if(n.onblur=a,this.containerEL.appendChild(t),e){n.value=e,a();var h=o.querySelector(".mm-search-item");if(o.querySelectorAll(".mm-search-item").length<=1&&this.closeSearch(),h){var l=wi(h).attr("id"),d=this.getNodeById(l);d&&this.showNode(d)}}}createSearchListDom(e,t){var i=this;if(e.length&&t){var n="";t.innerHTML="",e.forEach(((e,t)=>{var{id:i,text:s}=e;n+=`<li class="mm-search-item" id="${i}">${s}</li>`})),t.innerHTML=n,wi(t).on("click",".mm-search-item",(function(e){e.preventDefault();var t=wi(this).attr("id"),n=i.getNodeById(t);n&&i.showNode(n)}))}}closeSearch(){if(this._searchDom){this._searchDom.querySelector(".mm-search-list").innerHTML="",this._searchDom.querySelector(".mm-search-result").innerHTML="",this._searchDom.querySelector(".mm-search-input").value="",this._searchDom.querySelector(".mm-search-input").onblur=null;var e=this._searchDom.querySelector(".mm-search-list");wi(e).off("click"),this.containerEL.removeChild(this._searchDom),this._searchDom=null}}initTableDom(){var e=this.setting.canvasSize/2-60,t=this.setting.canvasSize/2-200;if(!this.tableDom){var i=document.createElement("div");i.classList.add("mm-table-content"),i.style.position="absolute",i.style.left=e+"px",i.style.top=t+"px",this.tableDom=i,this.contentEL.appendChild(i)}var n=document.createElement("table");n.classList.add("mm-table"),n.classList.add("mm-table-bordered"),this.tableDom.appendChild(n);var s=this.getMaxlevel(),r=document.createElement("thead"),o=document.createElement("tr");n.appendChild(r),this.root.init(s),this.root.tdDom.setAttribute("colspan",s),o.appendChild(this.root.tdDom),r.appendChild(o);var a=[];this.root.children.forEach((e=>{this.traverseDF((e=>{if(e.init(),e.isLeaf()&&1!=e.getLevel()){var t=document.createElement("tr");e.trDom=t,n.appendChild(t),t.appendChild(e.tdDom),a.push(e),e.tdDom.setAttribute("colspan",s-e.getLevel()+1),e.tdDom.setAttribute("rowspan",1)}}),e)})),a.forEach((e=>{for(var t=e.parent;t&&t!=this.root&&!n.querySelector(`[data-id='${t.data.id}']`);){t.tdDom.setAttribute("colspan",1);var i=t.children[0].trDom;i.insertBefore(t.tdDom,i.firstChild),t.trDom=i;var s=this.getRowspan(t);t.tdDom.setAttribute("rowspan",s),t=t.parent}})),this.root.children.forEach(((e,t)=>{if(!n.querySelector(`[data-id='${e.data.id}']`)){var i=document.createElement("tr");if(i.appendChild(e.tdDom),e.tdDom.setAttribute("colspan",s),e.tdDom.setAttribute("rowspan",1),e.trDom=i,0==t)Hi(i,r);else{var o=this.getLastNode(this.root.children[t-1]);o&&Hi(i,o.trDom)}}}))}getLastNode(e){return function e(t){var i=t.children.length;return i?e(t.children[i-1]):t}(e)}getMaxlevel(e){var t=0;return this.traverseDF((e=>{var i=e.getLevel();t<i&&(t=i)}),e||this.root),t}getRowspan(e){return function e(t){var i=t.children.length,n=t.children.filter((e=>e.children&&e.children.length));if(n.length){var s=[i];n.forEach((t=>{var i=e(t);s.push(i)}));var r=0;return s.forEach((e=>{r+=e})),r-n.length}return i}(e)}getTableHtml(e,t){var i=this,n=null;i._nodeNum=0,function e(t,s,r){i._nodeNum++;var o=new be(t,i);s?(n=o,o.isRoot=!0,o.data.main=!0):(r.children.push(o),o.parent=r),t.children&&t.children.length&&t.children.forEach((t=>{e(t,!1,o)}))}(e,!0);var s=this.setting.canvasSize/2-60,r=this.setting.canvasSize/2-200,o=document.createElement("div");o.classList.add("mm-table-content"),o.style.position="absolute",o.style.left=s+"px",o.style.top=r+"px";var a=document.createElement("table");a.classList.add("mm-table"),a.classList.add("mm-table-bordered"),o.appendChild(a);var h=this.getMaxlevel(),l=document.createElement("thead"),d=document.createElement("tr");if(a.appendChild(l),n._initTdDom(h),n.tdDom.setAttribute("colspan",h),d.appendChild(n.tdDom),t){var c=h-1;if(c>0){for(var u=0;u<c;u++)d.appendChild(document.createElement("th"));n.tdDom.setAttribute("colspan",1)}}l.appendChild(d);var p=[];return n.children.forEach((e=>{this.traverseDF((e=>{if(e._initTdDom(),e.isLeaf()&&1!=e.getLevel()){var t=document.createElement("tr");e.trDom=t,a.appendChild(t),t.appendChild(e.tdDom),p.push(e),e.tdDom.setAttribute("colspan",h-e.getLevel()+1),e.tdDom.setAttribute("rowspan",1)}}),e)})),p.forEach((e=>{for(var t=e.parent;t&&t!=n&&!a.querySelector(`[data-id='${t.data.id}']`);){t.tdDom.setAttribute("colspan",1);var i=t.children[0].trDom;i.insertBefore(t.tdDom,i.firstChild),t.trDom=i;var s=this.getRowspan(t);t.tdDom.setAttribute("rowspan",s),t=t.parent}})),n.children.forEach(((e,t)=>{if(!a.querySelector(`[data-id='${e.data.id}']`)){var i=document.createElement("tr");if(i.appendChild(e.tdDom),e.tdDom.setAttribute("colspan",h),e.tdDom.setAttribute("rowspan",1),e.trDom=i,0==t)Hi(i,l);else{var s=this.getLastNode(n.children[t-1]);s&&Hi(i,s.trDom)}}})),this.traverseDF((e=>{e.tdDom&&e.tdDom.removeAttribute("data-id")}),n),o.innerHTML||""}getMarkdownOfTable(e){var t="";if("table"==this._mode){var i=this,n=null;function g(e,t,s){i._nodeNum++;var r=new be(e,i);t?(n=r,r.isRoot=!0,r.data.main=!0):(s.children.push(r),r.parent=s),e.children&&e.children.length&&e.children.forEach((e=>{g(e,!1,r)}))}i._nodeNum=0,g(e,!0);var s=this.setting.canvasSize/2-60,r=this.setting.canvasSize/2-200,o=document.createElement("div");o.classList.add("mm-table-content"),o.style.position="absolute",o.style.left=s+"px",o.style.top=r+"px";var a=document.createElement("table");a.classList.add("mm-table"),a.classList.add("mm-table-bordered"),o.appendChild(a);var h=this.getMaxlevel(),l=document.createElement("thead"),d=document.createElement("tr");a.appendChild(l),n._initTdDom(h),n.tdDom.setAttribute("colspan",h),d.appendChild(n.tdDom);var c=h-1;if(c>0){for(var u=0;u<c;u++){var p=document.createElement("th");d.appendChild(p)}n.tdDom.setAttribute("colspan",1)}l.appendChild(d);var m=[];n.children.forEach((e=>{this.traverseDF((e=>{if(e._initTdDom(),e.isLeaf()&&1!=e.getLevel()){var t=document.createElement("tr");e.trDom=t,a.appendChild(t),t.appendChild(e.tdDom),m.push(e),e.tdDom.setAttribute("r-colspan",h-e.getLevel()+1);var i=h-e.getLevel()+1;if(i>1)for(var n=0;n<i-1;n++){Hi(document.createElement("td"),e.tdDom)}e.tdDom.setAttribute("rowspan",1)}}),e)})),m.forEach((e=>{for(var t=e.parent;t&&t!=n&&!a.querySelector(`[data-id='${t.data.id}']`);){t.tdDom.setAttribute("colspan",1);var i=t.children[0].trDom;i.insertBefore(t.tdDom,i.firstChild),t.trDom=i,t=t.parent}})),m.forEach((e=>{for(var t=e.trDom,i=t.childNodes.length,n=h-i,s=0;s<n;s++){var r=document.createElement("td");r.textContent="^^",t.insertBefore(r,t.firstChild)}})),n.children.forEach(((e,t)=>{if(!a.querySelector(`[data-id='${e.data.id}']`)){var i=document.createElement("tr");if(i.appendChild(e.tdDom),h>1)for(var s=0;s<h-1;s++){var r=document.createElement("td");i.appendChild(r)}if(e.tdDom.setAttribute("rowspan",1),e.trDom=i,0==t)Hi(i,l);else{var o=this.getLastNode(n.children[t-1]);o&&Hi(i,o.trDom)}}})),this.traverseDF((e=>{e.tdDom&&e.tdDom.removeAttribute("data-id")}),n)}t+="|";var f=0;l.childNodes.forEach((e=>{f=e.childNodes.length,e.childNodes.forEach((e=>{t+=e.textContent+"|"}))})),t+="<br>",t+="|";for(u=0;u<f;u++)t+=":--- | ";return a.childNodes.forEach((e=>{"tr"!=e.tagName&&"TR"!=e.tagName||(t+="<br>",t+="|",e.childNodes.forEach((e=>{t+=e.textContent+"|"})))})),t}_createThemeSelectDom(){if(!this._themeDom){var e=document.createElement("div");e.classList.add("mm-theme-select");var t=document.createElement("select");["","black","white","cold","warm","relax","normal"].forEach((e=>{var i=document.createElement("option");i.innerHTML=`${e}`,i.value=`${e}`,t.appendChild(i)})),e.appendChild(t),t.onchange=()=>{var e=t.value;e&&this.changeTheme(e)},this._themeDom=e,this.containerEL.appendChild(this._themeDom)}}_closeThemeSelectDom(){this._themeDom&&(this.containerEL.removeChild(this._themeDom),this._themeDom=null)}exportXmind(){this._exportImages=[];var e={class:"sheet",extensions:[{provider:"org.xmind.ui.skeleton.structure.style",content:{centralTopic:"org.xmind.ui.map.clockwise"}}],id:bs(),title:"Map 1",rootTopic:{id:this.root.getId(),structureClass:"org.xmind.ui.map.clockwise",title:this.root.getData().text||"",class:"topic",titleUnedited:!0},theme:{map:{id:"893b0bd7-3bd9-4d1b-8cd0-1485c9516205",properties:{"svg:fill":"#ffffff","multi-line-colors":"#F9423A #F6A04D #F3D321 #00BC7B #486AFF #4D49BE","color-list":"#000229 #1F2766 #52CC83 #4D86DB #99142F #245570","line-tapered":"none"}},centralTopic:{id:"7dd68597-392c-4699-ae6d-940557605299",properties:{"fo:font-family":"NeverMind","fo:font-size":"30pt","fo:font-weight":"500","fo:font-style":"normal","fo:color":"inherited","fo:text-transform":"manual","fo:text-decoration":"none","fo:text-align":"center","svg:fill":"#000229","fill-pattern":"solid","line-width":"3pt","line-color":"#000229","line-pattern":"solid","border-line-color":"inherited","border-line-width":"0pt","border-line-pattern":"inherited","shape-class":"org.xmind.topicShape.roundedRect","line-class":"org.xmind.branchConnection.curve","arrow-end-class":"org.xmind.arrowShape.none","alignment-by-level":"inactived"}},mainTopic:{id:"0741e463-a95f-4575-b5d4-7bef4e6a76ca",properties:{"fo:font-family":"NeverMind","fo:font-size":"18pt","fo:font-weight":"500","fo:font-style":"normal","fo:color":"inherited","fo:text-transform":"manual","fo:text-decoration":"none","fo:text-align":"left","svg:fill":"inherited","fill-pattern":"solid","line-width":"2pt","line-color":"inherited","line-pattern":"inherited","border-line-color":"inherited","border-line-width":"0pt","border-line-pattern":"inherited","shape-class":"org.xmind.topicShape.roundedRect","line-class":"org.xmind.branchConnection.roundedElbow","arrow-end-class":"inherited"}},subTopic:{id:"934976ba-66d1-4845-9b07-d16d62dd0067",properties:{"fo:font-family":"NeverMind","fo:font-size":"14pt","fo:font-weight":"400","fo:font-style":"normal","fo:color":"inherited","fo:text-transform":"manual","fo:text-decoration":"none","fo:text-align":"left","svg:fill":"inherited","fill-pattern":"solid","line-width":"2pt","line-color":"inherited","line-pattern":"inherited","border-line-color":"inherited","border-line-width":"0pt","border-line-pattern":"inherited","shape-class":"org.xmind.topicShape.roundedRect","line-class":"org.xmind.branchConnection.roundedElbow","arrow-end-class":"inherited"}},floatingTopic:{id:"1b272300-e867-4588-a1d2-df3a231059e1",properties:{"fo:font-family":"NeverMind","fo:font-size":"14pt","fo:font-weight":"500","fo:font-style":"normal","fo:color":"inherited","fo:text-transform":"manual","fo:text-decoration":"none","fo:text-align":"left","svg:fill":"#EEEBEE","fill-pattern":"solid","line-width":"2pt","line-color":"inherited","line-pattern":"solid","border-line-color":"#EEEBEE","border-line-width":"0pt","border-line-pattern":"inherited","shape-class":"org.xmind.topicShape.roundedRect","line-class":"org.xmind.branchConnection.roundedElbow","arrow-end-class":"org.xmind.arrowShape.none"}},summaryTopic:{id:"efe2f321-295c-4306-856e-82bc40d8cfad",properties:{"fo:font-family":"NeverMind","fo:font-size":"14pt","fo:font-weight":"400","fo:font-style":"normal","fo:color":"inherited","fo:text-transform":"manual","fo:text-decoration":"none","fo:text-align":"left","svg:fill":"#000229","fill-pattern":"none","line-width":"inherited","line-color":"inherited","line-pattern":"inherited","border-line-color":"#000229","border-line-width":"inherited","border-line-pattern":"inherited","shape-class":"org.xmind.topicShape.roundedRect","line-class":"org.xmind.branchConnection.roundedElbow","arrow-end-class":"inherited"}},calloutTopic:{id:"01055857-b413-4de7-a87c-101505b69e6c",properties:{"fo:font-family":"NeverMind","fo:font-size":"14pt","fo:font-weight":"400","fo:font-style":"normal","fo:color":"inherited","fo:text-transform":"manual","fo:text-decoration":"none","fo:text-align":"left","svg:fill":"#000229","fill-pattern":"solid","line-width":"inherited","line-color":"inherited","line-pattern":"inherited","border-line-color":"#000229","border-line-width":"inherited","border-line-pattern":"inherited","shape-class":"org.xmind.topicShape.roundedRect","arrow-end-class":"inherited"}},importantTopic:{id:"5db83b0d-36e1-47b5-a067-42cad57a5970",properties:{"svg:fill":"#460400","fill-pattern":"solid","border-line-color":"#460400"}},minorTopic:{id:"abc20bb1-61d6-4433-bf1f-278577cfcea7",properties:{"svg:fill":"#703D00","fill-pattern":"solid","border-line-color":"#703D00"}},expiredTopic:{id:"b87ad476-9a72-4776-8900-0c2f19799e01",properties:{"fo:text-decoration":"line-through","fill-pattern":"none"}},boundary:{id:"b1d01c49-dadd-43ef-bb3c-224dd0b3dd87",properties:{"fo:font-family":"'NeverMind','Microsoft YaHei','PingFang SC','Microsoft JhengHei','sans-serif',sans-serif","fo:font-size":"14pt","fo:font-weight":"400","fo:font-style":"normal","fo:color":"inherited","fo:text-transform":"manual","fo:text-decoration":"none","fo:text-align":"center","svg:fill":"#000229","fill-pattern":"solid","line-width":"2","line-color":"#000229","line-pattern":"dash","shape-class":"org.xmind.boundaryShape.roundedRect"}},summary:{id:"ca980331-cf67-4cc5-9e0a-48f64a44b4d6",properties:{"line-width":"2pt","line-color":"#000229","line-pattern":"solid","shape-class":"org.xmind.summaryShape.round"}},relationship:{id:"31e93f48-1752-47a2-836c-3166932e1a27",properties:{"fo:font-family":"'NeverMind','Microsoft YaHei','PingFang SC','Microsoft JhengHei','sans-serif',sans-serif","fo:font-size":"13pt","fo:font-weight":"400","fo:font-style":"normal","fo:color":"inherited","fo:text-transform":"manual","fo:text-decoration":"none","fo:text-align":"center","line-width":"2","line-color":"#000229","line-pattern":"dash","shape-class":"org.xmind.relationshipShape.curved","arrow-begin-class":"org.xmind.arrowShape.none","arrow-end-class":"org.xmind.arrowShape.triangle"}},skeletonThemeId:"db4a5df4db39a8cd1310ea55ea",colorThemeId:"Rainbow-#000229-MULTI_LINE_COLORS"}},t=this._exportXmindData(this.root);return t.notes&&(e.rootTopic.notes=t.notes),t.href&&(e.rootTopic.href=t.href),t.image&&(e.rootTopic.image=t.image),t.children&&(e.rootTopic.children={},e.rootTopic.children=t.children),t.summaries&&(e.rootTopic.summaries=t.summaries),t.boundaries&&(e.rootTopic.boundaries=t.boundaries),this.freeNodes&&this.freeNodes.length&&this.freeNodes.forEach((t=>{var i=this._exportXmindData(t);e.rootTopic.children||(e.rootTopic.children={}),e.rootTopic.children.attached||(e.rootTopic.children.attached=[]),e.rootTopic.children.attached.push(i)})),[e]}_exportXmindData(e){var t,i=e.getData(),n={id:e.getId(),title:i.text};i.note&&(n.notes={plain:{content:i.note}});var s,r,o=(null===(t=this.view)||void 0===t?void 0:t.app.vault.getName())||"obsidian",a=e.getLink();a&&a.isMd?n.href=`obsidian://open?vault=${encodeURIComponent(o)}&file=${encodeURIComponent(a.link)}`:a&&!a.isMd&&a.link&&(n.href=a.link);try{var h=e.getImage();if(h){var l=bs().replace(/-/gi,""),d=(s=h,(r=document.createElement("canvas")).width=s.width,r.height=s.height,r.getContext("2d").drawImage(s,0,0,s.width,s.height),r.toDataURL("image/png",1));n.image={src:`xap:resources/${l}.png`,width:h.width,height:h.height,align:"top"},this._exportImages.push({name:l,link:`resources/${l}.png`,image:d})}}catch(e){}var c=[];e.summaries&&e.summaries.forEach((e=>{var t=e.getData(),i={id:bs(),range:`(${t.range})`,topicId:e.root.getId()};c.push(i)})),c.length&&(n.summaries=c);var u=[];e.summaries&&e.summaries.length&&(n.children={},e.summaries.forEach((e=>{var t=this._exportXmindData(e.root);u.push(t)})),n.children.summary=u);var p=[];return e.wireFrames&&e.wireFrames.forEach((e=>{var t,i,n=e.getData(),s={id:bs(),range:`(${n.range})`};(null===(t=e.data)||void 0===t?void 0:t.text)&&(s.title=null===(i=e.data)||void 0===i?void 0:i.text),p.push(s)})),p.length&&(n.boundaries=p),e.children&&e.children.length&&(n.children||(n.children={}),n.children.attached=[],e.children.forEach((e=>{n.children.attached.push(this._exportXmindData(e))}))),n}build_with_xml(e,t){if(e&&t){var i=new xe({id:t.id,text:t.text},this);this.addNode(i,e),t.children&&t.children.forEach((e=>{this.build_with_xml(i,e)}))}}build_with_json(e,t){if(e&&t){if("table"==e.mindmap._mode||e.iNode)var i=new be({id:t.id,text:t.text},this);else i=new xe({id:t.id,text:t.text},this);if(e!=this.root){var n=e.getLayout();n&&n!=this.root.layout&&n.refresh()}this.execute("addChildNode",{parent:e,node:i,data:{text:t.text}}),t.children&&t.children.forEach((e=>{this.build_with_json(i,e)}))}}build_with_indent(e,t){if(!e||!t)return;const i=t.toString().split("\n"),n=[];n.push(0),e.parent;for(let t=0;t<i.length;t++){const s=i[t],r=s.search(/\S/);if(-1!==r){for(;n.length>1&&r<=n[n.length-1];)n.pop(),e=e.parent;r>=n[n.length-1]&&(this.execute("addChildNode",{parent:e,data:{text:s.trim()}}),e.children.forEach((function(t){t.data.text===s.trim()&&(e=t)})),n.push(r))}}}}var Ui=ke((function(e,t){var i;"undefined"!=typeof self&&self,i=function(){return function(){var e={d:function(t,i){for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return Kn}});var i=function e(t,i){this.position=void 0;var n,s="KaTeX parse error: "+t,r=i&&i.loc;if(r&&r.start<=r.end){var o=r.lexer.input;n=r.start;var a=r.end;n===o.length?s+=" at end of input: ":s+=" at position "+(n+1)+": ";var h=o.slice(n,a).replace(/[^]/g,"$&̲");s+=(n>15?"…"+o.slice(n-15,n):o.slice(0,n))+h+(a+15<o.length?o.slice(a,a+15)+"…":o.slice(a))}var l=new Error(s);return l.name="ParseError",l.__proto__=e.prototype,l.position=n,l};i.prototype.__proto__=Error.prototype;var n=i,s=/([A-Z])/g,r={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g,a=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},h={contains:function(e,t){return-1!==e.indexOf(t)},deflt:function(e,t){return void 0===e?t:e},escape:function(e){return String(e).replace(o,(function(e){return r[e]}))},hyphenate:function(e){return e.replace(s,"-$1").toLowerCase()},getBaseElem:a,isCharacterBox:function(e){var t=a(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},protocolFromUrl:function(e){var t=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return null!=t?t[1]:"_relative"}},l=function(){function e(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{},this.displayMode=h.deflt(e.displayMode,!1),this.output=h.deflt(e.output,"htmlAndMathml"),this.leqno=h.deflt(e.leqno,!1),this.fleqn=h.deflt(e.fleqn,!1),this.throwOnError=h.deflt(e.throwOnError,!0),this.errorColor=h.deflt(e.errorColor,"#cc0000"),this.macros=e.macros||{},this.minRuleThickness=Math.max(0,h.deflt(e.minRuleThickness,0)),this.colorIsTextColor=h.deflt(e.colorIsTextColor,!1),this.strict=h.deflt(e.strict,"warn"),this.trust=h.deflt(e.trust,!1),this.maxSize=Math.max(0,h.deflt(e.maxSize,1/0)),this.maxExpand=Math.max(0,h.deflt(e.maxExpand,1e3)),this.globalGroup=h.deflt(e.globalGroup,!1)}var t=e.prototype;return t.reportNonstrict=function(e,t,i){var s=this.strict;if("function"==typeof s&&(s=s(e,t,i)),s&&"ignore"!==s){if(!0===s||"error"===s)throw new n("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",i);"warn"===s?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+s+"': "+t+" ["+e+"]")}},t.useStrictBehavior=function(e,t,i){var n=this.strict;if("function"==typeof n)try{n=n(e,t,i)}catch(e){n="error"}return!(!n||"ignore"===n||!0!==n&&"error"!==n&&("warn"===n?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"),1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+n+"': "+t+" ["+e+"]"),1)))},t.isTrusted=function(e){e.url&&!e.protocol&&(e.protocol=h.protocolFromUrl(e.url));var t="function"==typeof this.trust?this.trust(e):this.trust;return Boolean(t)},e}(),d=function(){function e(e,t,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=i}var t=e.prototype;return t.sup=function(){return c[u[this.id]]},t.sub=function(){return c[p[this.id]]},t.fracNum=function(){return c[m[this.id]]},t.fracDen=function(){return c[f[this.id]]},t.cramp=function(){return c[g[this.id]]},t.text=function(){return c[v[this.id]]},t.isTight=function(){return this.size>=2},e}(),c=[new d(0,0,!1),new d(1,0,!0),new d(2,1,!1),new d(3,1,!0),new d(4,2,!1),new d(5,2,!0),new d(6,3,!1),new d(7,3,!0)],u=[4,5,4,5,6,7,6,7],p=[5,5,5,5,7,7,7,7],m=[2,3,4,5,6,7,6,7],f=[3,3,5,5,7,7,7,7],g=[1,1,3,3,5,5,7,7],v=[0,1,2,3,2,3,2,3],y={DISPLAY:c[0],TEXT:c[2],SCRIPT:c[4],SCRIPTSCRIPT:c[6]},A=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],x=[];function b(e){for(var t=0;t<x.length;t+=2)if(e>=x[t]&&e<=x[t+1])return!0;return!1}A.forEach((function(e){return e.blocks.forEach((function(e){return x.push.apply(x,e)}))}));var w=80,k={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"},C=function(){function e(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var t=e.prototype;return t.hasClass=function(e){return h.contains(this.classes,e)},t.toNode=function(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e},t.toMarkup=function(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e},t.toText=function(){var e=function(e){return e.toText()};return this.children.map(e).join("")},e}(),E={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},D={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},N={"Å":"A","Ð":"D","Þ":"o","å":"a","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"};function I(e,t,i){if(!E[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),s=E[t][n];if(!s&&e[0]in N&&(n=N[e[0]].charCodeAt(0),s=E[t][n]),s||"text"!==i||b(n)&&(s=E[t][77]),s)return{depth:s[0],height:s[1],italic:s[2],skew:s[3],width:s[4]}}var S={},B=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],M=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],T=function(e,t){return t.size<2?e:B[e-1][t.size-1]},L=function(){function e(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||e.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=M[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}var t=e.prototype;return t.extend=function(t){var i={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return new e(i)},t.havingStyle=function(e){return this.style===e?this:this.extend({style:e,size:T(this.textSize,e)})},t.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},t.havingSize=function(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:M[e-1]})},t.havingBaseStyle=function(t){t=t||this.style.text();var i=T(e.BASESIZE,t);return this.size===i&&this.textSize===e.BASESIZE&&this.style===t?this:this.extend({style:t,size:i})},t.havingBaseSizing=function(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})},t.withColor=function(e){return this.extend({color:e})},t.withPhantom=function(){return this.extend({phantom:!0})},t.withFont=function(e){return this.extend({font:e})},t.withTextFontFamily=function(e){return this.extend({fontFamily:e,font:""})},t.withTextFontWeight=function(e){return this.extend({fontWeight:e,font:""})},t.withTextFontShape=function(e){return this.extend({fontShape:e,font:""})},t.sizingClasses=function(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]},t.baseSizingClasses=function(){return this.size!==e.BASESIZE?["sizing","reset-size"+this.size,"size"+e.BASESIZE]:[]},t.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!S[t=e>=5?0:e>=3?1:2]){var i=S[t]={cssEmPerMu:D.quad[t]/18};for(var n in D)D.hasOwnProperty(n)&&(i[n]=D[n][t])}return S[t]}(this.size)),this._fontMetrics},t.getColor=function(){return this.phantom?"transparent":this.color},e}();L.BASESIZE=6;var P=L,O={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},R={ex:!0,em:!0,mu:!0},_=function(e){return"string"!=typeof e&&(e=e.unit),e in O||e in R||"ex"===e},F=function(e,t){var i;if(e.unit in O)i=O[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)i=t.fontMetrics().cssEmPerMu;else{var s;if(s=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)i=s.fontMetrics().xHeight;else{if("em"!==e.unit)throw new n("Invalid unit: '"+e.unit+"'");i=s.fontMetrics().quad}s!==t&&(i*=s.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*i,t.maxSize)},z=function(e){return+e.toFixed(4)+"em"},Q=function(e){return e.filter((function(e){return e})).join(" ")},H=function(e,t,i){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},t){t.style.isTight()&&this.classes.push("mtight");var n=t.getColor();n&&(this.style.color=n)}},j=function(e){var t=document.createElement(e);for(var i in t.className=Q(this.classes),this.style)this.style.hasOwnProperty(i)&&(t.style[i]=this.style[i]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&t.setAttribute(n,this.attributes[n]);for(var s=0;s<this.children.length;s++)t.appendChild(this.children[s].toNode());return t},q=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+h.escape(Q(this.classes))+'"');var i="";for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=h.hyphenate(n)+":"+this.style[n]+";");for(var s in i&&(t+=' style="'+h.escape(i)+'"'),this.attributes)this.attributes.hasOwnProperty(s)&&(t+=" "+s+'="'+h.escape(this.attributes[s])+'"');t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+e+">"},W=function(){function e(e,t,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,H.call(this,e,i,n),this.children=t||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return h.contains(this.classes,e)},t.toNode=function(){return j.call(this,"span")},t.toMarkup=function(){return q.call(this,"span")},e}(),V=function(){function e(e,t,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,H.call(this,t,n),this.children=i||[],this.setAttribute("href",e)}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return h.contains(this.classes,e)},t.toNode=function(){return j.call(this,"a")},t.toMarkup=function(){return q.call(this,"a")},e}(),U=function(){function e(e,t,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=i}var t=e.prototype;return t.hasClass=function(e){return h.contains(this.classes,e)},t.toNode=function(){var e=document.createElement("img");for(var t in e.src=this.src,e.alt=this.alt,e.className="mord",this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e},t.toMarkup=function(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",t="";for(var i in this.style)this.style.hasOwnProperty(i)&&(t+=h.hyphenate(i)+":"+this.style[i]+";");return t&&(e+=' style="'+h.escape(t)+'"'),e+="'/>"},e}(),X={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"},G=function(){function e(e,t,i,n,s,r,o,a){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=i||0,this.italic=n||0,this.skew=s||0,this.width=r||0,this.classes=o||[],this.style=a||{},this.maxFontSize=0;var h=function(e){for(var t=0;t<A.length;t++)for(var i=A[t],n=0;n<i.blocks.length;n++){var s=i.blocks[n];if(e>=s[0]&&e<=s[1])return i.name}return null}(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=X[this.text])}var t=e.prototype;return t.hasClass=function(e){return h.contains(this.classes,e)},t.toNode=function(){var e=document.createTextNode(this.text),t=null;for(var i in this.italic>0&&((t=document.createElement("span")).style.marginRight=z(this.italic)),this.classes.length>0&&((t=t||document.createElement("span")).className=Q(this.classes)),this.style)this.style.hasOwnProperty(i)&&((t=t||document.createElement("span")).style[i]=this.style[i]);return t?(t.appendChild(e),t):e},t.toMarkup=function(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=h.escape(Q(this.classes)),t+='"');var i="";for(var n in this.italic>0&&(i+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(n)&&(i+=h.hyphenate(n)+":"+this.style[n]+";");i&&(e=!0,t+=' style="'+h.escape(i)+'"');var s=h.escape(this.text);return e?(t+=">",t+=s,t+="</span>"):s},e}(),Y=function(){function e(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var i=0;i<this.children.length;i++)e.appendChild(this.children[i].toNode());return e},t.toMarkup=function(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</svg>"},e}(),K=function(){function e(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",k[this.pathName]),e},t.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+k[this.pathName]+"'/>"},e}(),J=function(){function e(e){this.attributes=void 0,this.attributes=e||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e},t.toMarkup=function(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>"},e}();function Z(e){if(e instanceof G)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}var $={bin:1,close:1,inner:1,open:1,punct:1,rel:1},ee={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},te={math:{},text:{}},ie=te;function ne(e,t,i,n,s,r){te[e][s]={font:t,group:i,replace:n},r&&n&&(te[e][n]=te[e][s])}var se="math",re="text",oe="main",ae="ams",he="accent-token",le="bin",de="close",ce="inner",ue="mathord",pe="op-token",me="open",fe="punct",ge="rel",ve="spacing",ye="textord";ne(se,oe,ge,"≡","\\equiv",!0),ne(se,oe,ge,"≺","\\prec",!0),ne(se,oe,ge,"≻","\\succ",!0),ne(se,oe,ge,"∼","\\sim",!0),ne(se,oe,ge,"⊥","\\perp"),ne(se,oe,ge,"⪯","\\preceq",!0),ne(se,oe,ge,"⪰","\\succeq",!0),ne(se,oe,ge,"≃","\\simeq",!0),ne(se,oe,ge,"∣","\\mid",!0),ne(se,oe,ge,"≪","\\ll",!0),ne(se,oe,ge,"≫","\\gg",!0),ne(se,oe,ge,"≍","\\asymp",!0),ne(se,oe,ge,"∥","\\parallel"),ne(se,oe,ge,"⋈","\\bowtie",!0),ne(se,oe,ge,"⌣","\\smile",!0),ne(se,oe,ge,"⊑","\\sqsubseteq",!0),ne(se,oe,ge,"⊒","\\sqsupseteq",!0),ne(se,oe,ge,"≐","\\doteq",!0),ne(se,oe,ge,"⌢","\\frown",!0),ne(se,oe,ge,"∋","\\ni",!0),ne(se,oe,ge,"∝","\\propto",!0),ne(se,oe,ge,"⊢","\\vdash",!0),ne(se,oe,ge,"⊣","\\dashv",!0),ne(se,oe,ge,"∋","\\owns"),ne(se,oe,fe,".","\\ldotp"),ne(se,oe,fe,"⋅","\\cdotp"),ne(se,oe,ye,"#","\\#"),ne(re,oe,ye,"#","\\#"),ne(se,oe,ye,"&","\\&"),ne(re,oe,ye,"&","\\&"),ne(se,oe,ye,"ℵ","\\aleph",!0),ne(se,oe,ye,"∀","\\forall",!0),ne(se,oe,ye,"ℏ","\\hbar",!0),ne(se,oe,ye,"∃","\\exists",!0),ne(se,oe,ye,"∇","\\nabla",!0),ne(se,oe,ye,"♭","\\flat",!0),ne(se,oe,ye,"ℓ","\\ell",!0),ne(se,oe,ye,"♮","\\natural",!0),ne(se,oe,ye,"♣","\\clubsuit",!0),ne(se,oe,ye,"℘","\\wp",!0),ne(se,oe,ye,"♯","\\sharp",!0),ne(se,oe,ye,"♢","\\diamondsuit",!0),ne(se,oe,ye,"ℜ","\\Re",!0),ne(se,oe,ye,"♡","\\heartsuit",!0),ne(se,oe,ye,"ℑ","\\Im",!0),ne(se,oe,ye,"♠","\\spadesuit",!0),ne(se,oe,ye,"§","\\S",!0),ne(re,oe,ye,"§","\\S"),ne(se,oe,ye,"¶","\\P",!0),ne(re,oe,ye,"¶","\\P"),ne(se,oe,ye,"†","\\dag"),ne(re,oe,ye,"†","\\dag"),ne(re,oe,ye,"†","\\textdagger"),ne(se,oe,ye,"‡","\\ddag"),ne(re,oe,ye,"‡","\\ddag"),ne(re,oe,ye,"‡","\\textdaggerdbl"),ne(se,oe,de,"⎱","\\rmoustache",!0),ne(se,oe,me,"⎰","\\lmoustache",!0),ne(se,oe,de,"⟯","\\rgroup",!0),ne(se,oe,me,"⟮","\\lgroup",!0),ne(se,oe,le,"∓","\\mp",!0),ne(se,oe,le,"⊖","\\ominus",!0),ne(se,oe,le,"⊎","\\uplus",!0),ne(se,oe,le,"⊓","\\sqcap",!0),ne(se,oe,le,"∗","\\ast"),ne(se,oe,le,"⊔","\\sqcup",!0),ne(se,oe,le,"◯","\\bigcirc",!0),ne(se,oe,le,"∙","\\bullet"),ne(se,oe,le,"‡","\\ddagger"),ne(se,oe,le,"≀","\\wr",!0),ne(se,oe,le,"⨿","\\amalg"),ne(se,oe,le,"&","\\And"),ne(se,oe,ge,"⟵","\\longleftarrow",!0),ne(se,oe,ge,"⇐","\\Leftarrow",!0),ne(se,oe,ge,"⟸","\\Longleftarrow",!0),ne(se,oe,ge,"⟶","\\longrightarrow",!0),ne(se,oe,ge,"⇒","\\Rightarrow",!0),ne(se,oe,ge,"⟹","\\Longrightarrow",!0),ne(se,oe,ge,"↔","\\leftrightarrow",!0),ne(se,oe,ge,"⟷","\\longleftrightarrow",!0),ne(se,oe,ge,"⇔","\\Leftrightarrow",!0),ne(se,oe,ge,"⟺","\\Longleftrightarrow",!0),ne(se,oe,ge,"↦","\\mapsto",!0),ne(se,oe,ge,"⟼","\\longmapsto",!0),ne(se,oe,ge,"↗","\\nearrow",!0),ne(se,oe,ge,"↩","\\hookleftarrow",!0),ne(se,oe,ge,"↪","\\hookrightarrow",!0),ne(se,oe,ge,"↘","\\searrow",!0),ne(se,oe,ge,"↼","\\leftharpoonup",!0),ne(se,oe,ge,"⇀","\\rightharpoonup",!0),ne(se,oe,ge,"↙","\\swarrow",!0),ne(se,oe,ge,"↽","\\leftharpoondown",!0),ne(se,oe,ge,"⇁","\\rightharpoondown",!0),ne(se,oe,ge,"↖","\\nwarrow",!0),ne(se,oe,ge,"⇌","\\rightleftharpoons",!0),ne(se,ae,ge,"≮","\\nless",!0),ne(se,ae,ge,"","\\@nleqslant"),ne(se,ae,ge,"","\\@nleqq"),ne(se,ae,ge,"⪇","\\lneq",!0),ne(se,ae,ge,"≨","\\lneqq",!0),ne(se,ae,ge,"","\\@lvertneqq"),ne(se,ae,ge,"⋦","\\lnsim",!0),ne(se,ae,ge,"⪉","\\lnapprox",!0),ne(se,ae,ge,"⊀","\\nprec",!0),ne(se,ae,ge,"⋠","\\npreceq",!0),ne(se,ae,ge,"⋨","\\precnsim",!0),ne(se,ae,ge,"⪹","\\precnapprox",!0),ne(se,ae,ge,"≁","\\nsim",!0),ne(se,ae,ge,"","\\@nshortmid"),ne(se,ae,ge,"∤","\\nmid",!0),ne(se,ae,ge,"⊬","\\nvdash",!0),ne(se,ae,ge,"⊭","\\nvDash",!0),ne(se,ae,ge,"⋪","\\ntriangleleft"),ne(se,ae,ge,"⋬","\\ntrianglelefteq",!0),ne(se,ae,ge,"⊊","\\subsetneq",!0),ne(se,ae,ge,"","\\@varsubsetneq"),ne(se,ae,ge,"⫋","\\subsetneqq",!0),ne(se,ae,ge,"","\\@varsubsetneqq"),ne(se,ae,ge,"≯","\\ngtr",!0),ne(se,ae,ge,"","\\@ngeqslant"),ne(se,ae,ge,"","\\@ngeqq"),ne(se,ae,ge,"⪈","\\gneq",!0),ne(se,ae,ge,"≩","\\gneqq",!0),ne(se,ae,ge,"","\\@gvertneqq"),ne(se,ae,ge,"⋧","\\gnsim",!0),ne(se,ae,ge,"⪊","\\gnapprox",!0),ne(se,ae,ge,"⊁","\\nsucc",!0),ne(se,ae,ge,"⋡","\\nsucceq",!0),ne(se,ae,ge,"⋩","\\succnsim",!0),ne(se,ae,ge,"⪺","\\succnapprox",!0),ne(se,ae,ge,"≆","\\ncong",!0),ne(se,ae,ge,"","\\@nshortparallel"),ne(se,ae,ge,"∦","\\nparallel",!0),ne(se,ae,ge,"⊯","\\nVDash",!0),ne(se,ae,ge,"⋫","\\ntriangleright"),ne(se,ae,ge,"⋭","\\ntrianglerighteq",!0),ne(se,ae,ge,"","\\@nsupseteqq"),ne(se,ae,ge,"⊋","\\supsetneq",!0),ne(se,ae,ge,"","\\@varsupsetneq"),ne(se,ae,ge,"⫌","\\supsetneqq",!0),ne(se,ae,ge,"","\\@varsupsetneqq"),ne(se,ae,ge,"⊮","\\nVdash",!0),ne(se,ae,ge,"⪵","\\precneqq",!0),ne(se,ae,ge,"⪶","\\succneqq",!0),ne(se,ae,ge,"","\\@nsubseteqq"),ne(se,ae,le,"⊴","\\unlhd"),ne(se,ae,le,"⊵","\\unrhd"),ne(se,ae,ge,"↚","\\nleftarrow",!0),ne(se,ae,ge,"↛","\\nrightarrow",!0),ne(se,ae,ge,"⇍","\\nLeftarrow",!0),ne(se,ae,ge,"⇏","\\nRightarrow",!0),ne(se,ae,ge,"↮","\\nleftrightarrow",!0),ne(se,ae,ge,"⇎","\\nLeftrightarrow",!0),ne(se,ae,ge,"△","\\vartriangle"),ne(se,ae,ye,"ℏ","\\hslash"),ne(se,ae,ye,"▽","\\triangledown"),ne(se,ae,ye,"◊","\\lozenge"),ne(se,ae,ye,"Ⓢ","\\circledS"),ne(se,ae,ye,"®","\\circledR"),ne(re,ae,ye,"®","\\circledR"),ne(se,ae,ye,"∡","\\measuredangle",!0),ne(se,ae,ye,"∄","\\nexists"),ne(se,ae,ye,"℧","\\mho"),ne(se,ae,ye,"Ⅎ","\\Finv",!0),ne(se,ae,ye,"⅁","\\Game",!0),ne(se,ae,ye,"‵","\\backprime"),ne(se,ae,ye,"▲","\\blacktriangle"),ne(se,ae,ye,"▼","\\blacktriangledown"),ne(se,ae,ye,"■","\\blacksquare"),ne(se,ae,ye,"⧫","\\blacklozenge"),ne(se,ae,ye,"★","\\bigstar"),ne(se,ae,ye,"∢","\\sphericalangle",!0),ne(se,ae,ye,"∁","\\complement",!0),ne(se,ae,ye,"ð","\\eth",!0),ne(re,oe,ye,"ð","ð"),ne(se,ae,ye,"╱","\\diagup"),ne(se,ae,ye,"╲","\\diagdown"),ne(se,ae,ye,"□","\\square"),ne(se,ae,ye,"□","\\Box"),ne(se,ae,ye,"◊","\\Diamond"),ne(se,ae,ye,"¥","\\yen",!0),ne(re,ae,ye,"¥","\\yen",!0),ne(se,ae,ye,"✓","\\checkmark",!0),ne(re,ae,ye,"✓","\\checkmark"),ne(se,ae,ye,"ℶ","\\beth",!0),ne(se,ae,ye,"ℸ","\\daleth",!0),ne(se,ae,ye,"ℷ","\\gimel",!0),ne(se,ae,ye,"ϝ","\\digamma",!0),ne(se,ae,ye,"ϰ","\\varkappa"),ne(se,ae,me,"┌","\\@ulcorner",!0),ne(se,ae,de,"┐","\\@urcorner",!0),ne(se,ae,me,"└","\\@llcorner",!0),ne(se,ae,de,"┘","\\@lrcorner",!0),ne(se,ae,ge,"≦","\\leqq",!0),ne(se,ae,ge,"⩽","\\leqslant",!0),ne(se,ae,ge,"⪕","\\eqslantless",!0),ne(se,ae,ge,"≲","\\lesssim",!0),ne(se,ae,ge,"⪅","\\lessapprox",!0),ne(se,ae,ge,"≊","\\approxeq",!0),ne(se,ae,le,"⋖","\\lessdot"),ne(se,ae,ge,"⋘","\\lll",!0),ne(se,ae,ge,"≶","\\lessgtr",!0),ne(se,ae,ge,"⋚","\\lesseqgtr",!0),ne(se,ae,ge,"⪋","\\lesseqqgtr",!0),ne(se,ae,ge,"≑","\\doteqdot"),ne(se,ae,ge,"≓","\\risingdotseq",!0),ne(se,ae,ge,"≒","\\fallingdotseq",!0),ne(se,ae,ge,"∽","\\backsim",!0),ne(se,ae,ge,"⋍","\\backsimeq",!0),ne(se,ae,ge,"⫅","\\subseteqq",!0),ne(se,ae,ge,"⋐","\\Subset",!0),ne(se,ae,ge,"⊏","\\sqsubset",!0),ne(se,ae,ge,"≼","\\preccurlyeq",!0),ne(se,ae,ge,"⋞","\\curlyeqprec",!0),ne(se,ae,ge,"≾","\\precsim",!0),ne(se,ae,ge,"⪷","\\precapprox",!0),ne(se,ae,ge,"⊲","\\vartriangleleft"),ne(se,ae,ge,"⊴","\\trianglelefteq"),ne(se,ae,ge,"⊨","\\vDash",!0),ne(se,ae,ge,"⊪","\\Vvdash",!0),ne(se,ae,ge,"⌣","\\smallsmile"),ne(se,ae,ge,"⌢","\\smallfrown"),ne(se,ae,ge,"≏","\\bumpeq",!0),ne(se,ae,ge,"≎","\\Bumpeq",!0),ne(se,ae,ge,"≧","\\geqq",!0),ne(se,ae,ge,"⩾","\\geqslant",!0),ne(se,ae,ge,"⪖","\\eqslantgtr",!0),ne(se,ae,ge,"≳","\\gtrsim",!0),ne(se,ae,ge,"⪆","\\gtrapprox",!0),ne(se,ae,le,"⋗","\\gtrdot"),ne(se,ae,ge,"⋙","\\ggg",!0),ne(se,ae,ge,"≷","\\gtrless",!0),ne(se,ae,ge,"⋛","\\gtreqless",!0),ne(se,ae,ge,"⪌","\\gtreqqless",!0),ne(se,ae,ge,"≖","\\eqcirc",!0),ne(se,ae,ge,"≗","\\circeq",!0),ne(se,ae,ge,"≜","\\triangleq",!0),ne(se,ae,ge,"∼","\\thicksim"),ne(se,ae,ge,"≈","\\thickapprox"),ne(se,ae,ge,"⫆","\\supseteqq",!0),ne(se,ae,ge,"⋑","\\Supset",!0),ne(se,ae,ge,"⊐","\\sqsupset",!0),ne(se,ae,ge,"≽","\\succcurlyeq",!0),ne(se,ae,ge,"⋟","\\curlyeqsucc",!0),ne(se,ae,ge,"≿","\\succsim",!0),ne(se,ae,ge,"⪸","\\succapprox",!0),ne(se,ae,ge,"⊳","\\vartriangleright"),ne(se,ae,ge,"⊵","\\trianglerighteq"),ne(se,ae,ge,"⊩","\\Vdash",!0),ne(se,ae,ge,"∣","\\shortmid"),ne(se,ae,ge,"∥","\\shortparallel"),ne(se,ae,ge,"≬","\\between",!0),ne(se,ae,ge,"⋔","\\pitchfork",!0),ne(se,ae,ge,"∝","\\varpropto"),ne(se,ae,ge,"◀","\\blacktriangleleft"),ne(se,ae,ge,"∴","\\therefore",!0),ne(se,ae,ge,"∍","\\backepsilon"),ne(se,ae,ge,"▶","\\blacktriangleright"),ne(se,ae,ge,"∵","\\because",!0),ne(se,ae,ge,"⋘","\\llless"),ne(se,ae,ge,"⋙","\\gggtr"),ne(se,ae,le,"⊲","\\lhd"),ne(se,ae,le,"⊳","\\rhd"),ne(se,ae,ge,"≂","\\eqsim",!0),ne(se,oe,ge,"⋈","\\Join"),ne(se,ae,ge,"≑","\\Doteq",!0),ne(se,ae,le,"∔","\\dotplus",!0),ne(se,ae,le,"∖","\\smallsetminus"),ne(se,ae,le,"⋒","\\Cap",!0),ne(se,ae,le,"⋓","\\Cup",!0),ne(se,ae,le,"⩞","\\doublebarwedge",!0),ne(se,ae,le,"⊟","\\boxminus",!0),ne(se,ae,le,"⊞","\\boxplus",!0),ne(se,ae,le,"⋇","\\divideontimes",!0),ne(se,ae,le,"⋉","\\ltimes",!0),ne(se,ae,le,"⋊","\\rtimes",!0),ne(se,ae,le,"⋋","\\leftthreetimes",!0),ne(se,ae,le,"⋌","\\rightthreetimes",!0),ne(se,ae,le,"⋏","\\curlywedge",!0),ne(se,ae,le,"⋎","\\curlyvee",!0),ne(se,ae,le,"⊝","\\circleddash",!0),ne(se,ae,le,"⊛","\\circledast",!0),ne(se,ae,le,"⋅","\\centerdot"),ne(se,ae,le,"⊺","\\intercal",!0),ne(se,ae,le,"⋒","\\doublecap"),ne(se,ae,le,"⋓","\\doublecup"),ne(se,ae,le,"⊠","\\boxtimes",!0),ne(se,ae,ge,"⇢","\\dashrightarrow",!0),ne(se,ae,ge,"⇠","\\dashleftarrow",!0),ne(se,ae,ge,"⇇","\\leftleftarrows",!0),ne(se,ae,ge,"⇆","\\leftrightarrows",!0),ne(se,ae,ge,"⇚","\\Lleftarrow",!0),ne(se,ae,ge,"↞","\\twoheadleftarrow",!0),ne(se,ae,ge,"↢","\\leftarrowtail",!0),ne(se,ae,ge,"↫","\\looparrowleft",!0),ne(se,ae,ge,"⇋","\\leftrightharpoons",!0),ne(se,ae,ge,"↶","\\curvearrowleft",!0),ne(se,ae,ge,"↺","\\circlearrowleft",!0),ne(se,ae,ge,"↰","\\Lsh",!0),ne(se,ae,ge,"⇈","\\upuparrows",!0),ne(se,ae,ge,"↿","\\upharpoonleft",!0),ne(se,ae,ge,"⇃","\\downharpoonleft",!0),ne(se,oe,ge,"⊶","\\origof",!0),ne(se,oe,ge,"⊷","\\imageof",!0),ne(se,ae,ge,"⊸","\\multimap",!0),ne(se,ae,ge,"↭","\\leftrightsquigarrow",!0),ne(se,ae,ge,"⇉","\\rightrightarrows",!0),ne(se,ae,ge,"⇄","\\rightleftarrows",!0),ne(se,ae,ge,"↠","\\twoheadrightarrow",!0),ne(se,ae,ge,"↣","\\rightarrowtail",!0),ne(se,ae,ge,"↬","\\looparrowright",!0),ne(se,ae,ge,"↷","\\curvearrowright",!0),ne(se,ae,ge,"↻","\\circlearrowright",!0),ne(se,ae,ge,"↱","\\Rsh",!0),ne(se,ae,ge,"⇊","\\downdownarrows",!0),ne(se,ae,ge,"↾","\\upharpoonright",!0),ne(se,ae,ge,"⇂","\\downharpoonright",!0),ne(se,ae,ge,"⇝","\\rightsquigarrow",!0),ne(se,ae,ge,"⇝","\\leadsto"),ne(se,ae,ge,"⇛","\\Rrightarrow",!0),ne(se,ae,ge,"↾","\\restriction"),ne(se,oe,ye,"‘","`"),ne(se,oe,ye,"$","\\$"),ne(re,oe,ye,"$","\\$"),ne(re,oe,ye,"$","\\textdollar"),ne(se,oe,ye,"%","\\%"),ne(re,oe,ye,"%","\\%"),ne(se,oe,ye,"_","\\_"),ne(re,oe,ye,"_","\\_"),ne(re,oe,ye,"_","\\textunderscore"),ne(se,oe,ye,"∠","\\angle",!0),ne(se,oe,ye,"∞","\\infty",!0),ne(se,oe,ye,"′","\\prime"),ne(se,oe,ye,"△","\\triangle"),ne(se,oe,ye,"Γ","\\Gamma",!0),ne(se,oe,ye,"Δ","\\Delta",!0),ne(se,oe,ye,"Θ","\\Theta",!0),ne(se,oe,ye,"Λ","\\Lambda",!0),ne(se,oe,ye,"Ξ","\\Xi",!0),ne(se,oe,ye,"Π","\\Pi",!0),ne(se,oe,ye,"Σ","\\Sigma",!0),ne(se,oe,ye,"Υ","\\Upsilon",!0),ne(se,oe,ye,"Φ","\\Phi",!0),ne(se,oe,ye,"Ψ","\\Psi",!0),ne(se,oe,ye,"Ω","\\Omega",!0),ne(se,oe,ye,"A","Α"),ne(se,oe,ye,"B","Β"),ne(se,oe,ye,"E","Ε"),ne(se,oe,ye,"Z","Ζ"),ne(se,oe,ye,"H","Η"),ne(se,oe,ye,"I","Ι"),ne(se,oe,ye,"K","Κ"),ne(se,oe,ye,"M","Μ"),ne(se,oe,ye,"N","Ν"),ne(se,oe,ye,"O","Ο"),ne(se,oe,ye,"P","Ρ"),ne(se,oe,ye,"T","Τ"),ne(se,oe,ye,"X","Χ"),ne(se,oe,ye,"¬","\\neg",!0),ne(se,oe,ye,"¬","\\lnot"),ne(se,oe,ye,"⊤","\\top"),ne(se,oe,ye,"⊥","\\bot"),ne(se,oe,ye,"∅","\\emptyset"),ne(se,ae,ye,"∅","\\varnothing"),ne(se,oe,ue,"α","\\alpha",!0),ne(se,oe,ue,"β","\\beta",!0),ne(se,oe,ue,"γ","\\gamma",!0),ne(se,oe,ue,"δ","\\delta",!0),ne(se,oe,ue,"ϵ","\\epsilon",!0),ne(se,oe,ue,"ζ","\\zeta",!0),ne(se,oe,ue,"η","\\eta",!0),ne(se,oe,ue,"θ","\\theta",!0),ne(se,oe,ue,"ι","\\iota",!0),ne(se,oe,ue,"κ","\\kappa",!0),ne(se,oe,ue,"λ","\\lambda",!0),ne(se,oe,ue,"μ","\\mu",!0),ne(se,oe,ue,"ν","\\nu",!0),ne(se,oe,ue,"ξ","\\xi",!0),ne(se,oe,ue,"ο","\\omicron",!0),ne(se,oe,ue,"π","\\pi",!0),ne(se,oe,ue,"ρ","\\rho",!0),ne(se,oe,ue,"σ","\\sigma",!0),ne(se,oe,ue,"τ","\\tau",!0),ne(se,oe,ue,"υ","\\upsilon",!0),ne(se,oe,ue,"ϕ","\\phi",!0),ne(se,oe,ue,"χ","\\chi",!0),ne(se,oe,ue,"ψ","\\psi",!0),ne(se,oe,ue,"ω","\\omega",!0),ne(se,oe,ue,"ε","\\varepsilon",!0),ne(se,oe,ue,"ϑ","\\vartheta",!0),ne(se,oe,ue,"ϖ","\\varpi",!0),ne(se,oe,ue,"ϱ","\\varrho",!0),ne(se,oe,ue,"ς","\\varsigma",!0),ne(se,oe,ue,"φ","\\varphi",!0),ne(se,oe,le,"∗","*",!0),ne(se,oe,le,"+","+"),ne(se,oe,le,"−","-",!0),ne(se,oe,le,"⋅","\\cdot",!0),ne(se,oe,le,"∘","\\circ"),ne(se,oe,le,"÷","\\div",!0),ne(se,oe,le,"±","\\pm",!0),ne(se,oe,le,"×","\\times",!0),ne(se,oe,le,"∩","\\cap",!0),ne(se,oe,le,"∪","\\cup",!0),ne(se,oe,le,"∖","\\setminus"),ne(se,oe,le,"∧","\\land"),ne(se,oe,le,"∨","\\lor"),ne(se,oe,le,"∧","\\wedge",!0),ne(se,oe,le,"∨","\\vee",!0),ne(se,oe,ye,"√","\\surd"),ne(se,oe,me,"⟨","\\langle",!0),ne(se,oe,me,"∣","\\lvert"),ne(se,oe,me,"∥","\\lVert"),ne(se,oe,de,"?","?"),ne(se,oe,de,"!","!"),ne(se,oe,de,"⟩","\\rangle",!0),ne(se,oe,de,"∣","\\rvert"),ne(se,oe,de,"∥","\\rVert"),ne(se,oe,ge,"=","="),ne(se,oe,ge,":",":"),ne(se,oe,ge,"≈","\\approx",!0),ne(se,oe,ge,"≅","\\cong",!0),ne(se,oe,ge,"≥","\\ge"),ne(se,oe,ge,"≥","\\geq",!0),ne(se,oe,ge,"←","\\gets"),ne(se,oe,ge,">","\\gt",!0),ne(se,oe,ge,"∈","\\in",!0),ne(se,oe,ge,"","\\@not"),ne(se,oe,ge,"⊂","\\subset",!0),ne(se,oe,ge,"⊃","\\supset",!0),ne(se,oe,ge,"⊆","\\subseteq",!0),ne(se,oe,ge,"⊇","\\supseteq",!0),ne(se,ae,ge,"⊈","\\nsubseteq",!0),ne(se,ae,ge,"⊉","\\nsupseteq",!0),ne(se,oe,ge,"⊨","\\models"),ne(se,oe,ge,"←","\\leftarrow",!0),ne(se,oe,ge,"≤","\\le"),ne(se,oe,ge,"≤","\\leq",!0),ne(se,oe,ge,"<","\\lt",!0),ne(se,oe,ge,"→","\\rightarrow",!0),ne(se,oe,ge,"→","\\to"),ne(se,ae,ge,"≱","\\ngeq",!0),ne(se,ae,ge,"≰","\\nleq",!0),ne(se,oe,ve," ","\\ "),ne(se,oe,ve," ","\\space"),ne(se,oe,ve," ","\\nobreakspace"),ne(re,oe,ve," ","\\ "),ne(re,oe,ve," "," "),ne(re,oe,ve," ","\\space"),ne(re,oe,ve," ","\\nobreakspace"),ne(se,oe,ve,null,"\\nobreak"),ne(se,oe,ve,null,"\\allowbreak"),ne(se,oe,fe,",",","),ne(se,oe,fe,";",";"),ne(se,ae,le,"⊼","\\barwedge",!0),ne(se,ae,le,"⊻","\\veebar",!0),ne(se,oe,le,"⊙","\\odot",!0),ne(se,oe,le,"⊕","\\oplus",!0),ne(se,oe,le,"⊗","\\otimes",!0),ne(se,oe,ye,"∂","\\partial",!0),ne(se,oe,le,"⊘","\\oslash",!0),ne(se,ae,le,"⊚","\\circledcirc",!0),ne(se,ae,le,"⊡","\\boxdot",!0),ne(se,oe,le,"△","\\bigtriangleup"),ne(se,oe,le,"▽","\\bigtriangledown"),ne(se,oe,le,"†","\\dagger"),ne(se,oe,le,"⋄","\\diamond"),ne(se,oe,le,"⋆","\\star"),ne(se,oe,le,"◃","\\triangleleft"),ne(se,oe,le,"▹","\\triangleright"),ne(se,oe,me,"{","\\{"),ne(re,oe,ye,"{","\\{"),ne(re,oe,ye,"{","\\textbraceleft"),ne(se,oe,de,"}","\\}"),ne(re,oe,ye,"}","\\}"),ne(re,oe,ye,"}","\\textbraceright"),ne(se,oe,me,"{","\\lbrace"),ne(se,oe,de,"}","\\rbrace"),ne(se,oe,me,"[","\\lbrack",!0),ne(re,oe,ye,"[","\\lbrack",!0),ne(se,oe,de,"]","\\rbrack",!0),ne(re,oe,ye,"]","\\rbrack",!0),ne(se,oe,me,"(","\\lparen",!0),ne(se,oe,de,")","\\rparen",!0),ne(re,oe,ye,"<","\\textless",!0),ne(re,oe,ye,">","\\textgreater",!0),ne(se,oe,me,"⌊","\\lfloor",!0),ne(se,oe,de,"⌋","\\rfloor",!0),ne(se,oe,me,"⌈","\\lceil",!0),ne(se,oe,de,"⌉","\\rceil",!0),ne(se,oe,ye,"\\","\\backslash"),ne(se,oe,ye,"∣","|"),ne(se,oe,ye,"∣","\\vert"),ne(re,oe,ye,"|","\\textbar",!0),ne(se,oe,ye,"∥","\\|"),ne(se,oe,ye,"∥","\\Vert"),ne(re,oe,ye,"∥","\\textbardbl"),ne(re,oe,ye,"~","\\textasciitilde"),ne(re,oe,ye,"\\","\\textbackslash"),ne(re,oe,ye,"^","\\textasciicircum"),ne(se,oe,ge,"↑","\\uparrow",!0),ne(se,oe,ge,"⇑","\\Uparrow",!0),ne(se,oe,ge,"↓","\\downarrow",!0),ne(se,oe,ge,"⇓","\\Downarrow",!0),ne(se,oe,ge,"↕","\\updownarrow",!0),ne(se,oe,ge,"⇕","\\Updownarrow",!0),ne(se,oe,pe,"∐","\\coprod"),ne(se,oe,pe,"⋁","\\bigvee"),ne(se,oe,pe,"⋀","\\bigwedge"),ne(se,oe,pe,"⨄","\\biguplus"),ne(se,oe,pe,"⋂","\\bigcap"),ne(se,oe,pe,"⋃","\\bigcup"),ne(se,oe,pe,"∫","\\int"),ne(se,oe,pe,"∫","\\intop"),ne(se,oe,pe,"∬","\\iint"),ne(se,oe,pe,"∭","\\iiint"),ne(se,oe,pe,"∏","\\prod"),ne(se,oe,pe,"∑","\\sum"),ne(se,oe,pe,"⨂","\\bigotimes"),ne(se,oe,pe,"⨁","\\bigoplus"),ne(se,oe,pe,"⨀","\\bigodot"),ne(se,oe,pe,"∮","\\oint"),ne(se,oe,pe,"∯","\\oiint"),ne(se,oe,pe,"∰","\\oiiint"),ne(se,oe,pe,"⨆","\\bigsqcup"),ne(se,oe,pe,"∫","\\smallint"),ne(re,oe,ce,"…","\\textellipsis"),ne(se,oe,ce,"…","\\mathellipsis"),ne(re,oe,ce,"…","\\ldots",!0),ne(se,oe,ce,"…","\\ldots",!0),ne(se,oe,ce,"⋯","\\@cdots",!0),ne(se,oe,ce,"⋱","\\ddots",!0),ne(se,oe,ye,"⋮","\\varvdots"),ne(se,oe,he,"ˊ","\\acute"),ne(se,oe,he,"ˋ","\\grave"),ne(se,oe,he,"¨","\\ddot"),ne(se,oe,he,"~","\\tilde"),ne(se,oe,he,"ˉ","\\bar"),ne(se,oe,he,"˘","\\breve"),ne(se,oe,he,"ˇ","\\check"),ne(se,oe,he,"^","\\hat"),ne(se,oe,he,"⃗","\\vec"),ne(se,oe,he,"˙","\\dot"),ne(se,oe,he,"˚","\\mathring"),ne(se,oe,ue,"","\\@imath"),ne(se,oe,ue,"","\\@jmath"),ne(se,oe,ye,"ı","ı"),ne(se,oe,ye,"ȷ","ȷ"),ne(re,oe,ye,"ı","\\i",!0),ne(re,oe,ye,"ȷ","\\j",!0),ne(re,oe,ye,"ß","\\ss",!0),ne(re,oe,ye,"æ","\\ae",!0),ne(re,oe,ye,"œ","\\oe",!0),ne(re,oe,ye,"ø","\\o",!0),ne(re,oe,ye,"Æ","\\AE",!0),ne(re,oe,ye,"Œ","\\OE",!0),ne(re,oe,ye,"Ø","\\O",!0),ne(re,oe,he,"ˊ","\\'"),ne(re,oe,he,"ˋ","\\`"),ne(re,oe,he,"ˆ","\\^"),ne(re,oe,he,"˜","\\~"),ne(re,oe,he,"ˉ","\\="),ne(re,oe,he,"˘","\\u"),ne(re,oe,he,"˙","\\."),ne(re,oe,he,"¸","\\c"),ne(re,oe,he,"˚","\\r"),ne(re,oe,he,"ˇ","\\v"),ne(re,oe,he,"¨",'\\"'),ne(re,oe,he,"˝","\\H"),ne(re,oe,he,"◯","\\textcircled");var Ae={"--":!0,"---":!0,"``":!0,"''":!0};ne(re,oe,ye,"–","--",!0),ne(re,oe,ye,"–","\\textendash"),ne(re,oe,ye,"—","---",!0),ne(re,oe,ye,"—","\\textemdash"),ne(re,oe,ye,"‘","`",!0),ne(re,oe,ye,"‘","\\textquoteleft"),ne(re,oe,ye,"’","'",!0),ne(re,oe,ye,"’","\\textquoteright"),ne(re,oe,ye,"“","``",!0),ne(re,oe,ye,"“","\\textquotedblleft"),ne(re,oe,ye,"”","''",!0),ne(re,oe,ye,"”","\\textquotedblright"),ne(se,oe,ye,"°","\\degree",!0),ne(re,oe,ye,"°","\\degree"),ne(re,oe,ye,"°","\\textdegree",!0),ne(se,oe,ye,"£","\\pounds"),ne(se,oe,ye,"£","\\mathsterling",!0),ne(re,oe,ye,"£","\\pounds"),ne(re,oe,ye,"£","\\textsterling",!0),ne(se,ae,ye,"✠","\\maltese"),ne(re,ae,ye,"✠","\\maltese");for(var xe='0123456789/@."',be=0;be<14;be++){var we=xe.charAt(be);ne(se,oe,ye,we,we)}for(var ke='0123456789!@*()-=+";:?/.,',Ce=0;Ce<25;Ce++){var Ee=ke.charAt(Ce);ne(re,oe,ye,Ee,Ee)}for(var De="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Ne=0;Ne<52;Ne++){var Ie=De.charAt(Ne);ne(se,oe,ue,Ie,Ie),ne(re,oe,ye,Ie,Ie)}ne(se,ae,ye,"C","ℂ"),ne(re,ae,ye,"C","ℂ"),ne(se,ae,ye,"H","ℍ"),ne(re,ae,ye,"H","ℍ"),ne(se,ae,ye,"N","ℕ"),ne(re,ae,ye,"N","ℕ"),ne(se,ae,ye,"P","ℙ"),ne(re,ae,ye,"P","ℙ"),ne(se,ae,ye,"Q","ℚ"),ne(re,ae,ye,"Q","ℚ"),ne(se,ae,ye,"R","ℝ"),ne(re,ae,ye,"R","ℝ"),ne(se,ae,ye,"Z","ℤ"),ne(re,ae,ye,"Z","ℤ"),ne(se,oe,ue,"h","ℎ"),ne(re,oe,ue,"h","ℎ");for(var Se="",Be=0;Be<52;Be++){var Me=De.charAt(Be);ne(se,oe,ue,Me,Se=String.fromCharCode(55349,56320+Be)),ne(re,oe,ye,Me,Se),ne(se,oe,ue,Me,Se=String.fromCharCode(55349,56372+Be)),ne(re,oe,ye,Me,Se),ne(se,oe,ue,Me,Se=String.fromCharCode(55349,56424+Be)),ne(re,oe,ye,Me,Se),ne(se,oe,ue,Me,Se=String.fromCharCode(55349,56580+Be)),ne(re,oe,ye,Me,Se),ne(se,oe,ue,Me,Se=String.fromCharCode(55349,56736+Be)),ne(re,oe,ye,Me,Se),ne(se,oe,ue,Me,Se=String.fromCharCode(55349,56788+Be)),ne(re,oe,ye,Me,Se),ne(se,oe,ue,Me,Se=String.fromCharCode(55349,56840+Be)),ne(re,oe,ye,Me,Se),ne(se,oe,ue,Me,Se=String.fromCharCode(55349,56944+Be)),ne(re,oe,ye,Me,Se),Be<26&&(ne(se,oe,ue,Me,Se=String.fromCharCode(55349,56632+Be)),ne(re,oe,ye,Me,Se),ne(se,oe,ue,Me,Se=String.fromCharCode(55349,56476+Be)),ne(re,oe,ye,Me,Se))}ne(se,oe,ue,"k",Se=String.fromCharCode(55349,56668)),ne(re,oe,ye,"k",Se);for(var Te=0;Te<10;Te++){var Le=Te.toString();ne(se,oe,ue,Le,Se=String.fromCharCode(55349,57294+Te)),ne(re,oe,ye,Le,Se),ne(se,oe,ue,Le,Se=String.fromCharCode(55349,57314+Te)),ne(re,oe,ye,Le,Se),ne(se,oe,ue,Le,Se=String.fromCharCode(55349,57324+Te)),ne(re,oe,ye,Le,Se),ne(se,oe,ue,Le,Se=String.fromCharCode(55349,57334+Te)),ne(re,oe,ye,Le,Se)}for(var Pe="ÐÞþ",Oe=0;Oe<3;Oe++){var Re=Pe.charAt(Oe);ne(se,oe,ue,Re,Re),ne(re,oe,ye,Re,Re)}var _e=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Fe=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],ze=function(e,t,i){return ie[i][e]&&ie[i][e].replace&&(e=ie[i][e].replace),{value:e,metrics:I(e,t,i)}},Qe=function(e,t,i,n,s){var r,o=ze(e,t,i),a=o.metrics;if(e=o.value,a){var h=a.italic;("text"===i||n&&"mathit"===n.font)&&(h=0),r=new G(e,a.height,a.depth,h,a.skew,a.width,s)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"' and mode '"+i+"'"),r=new G(e,0,0,0,0,0,s);if(n){r.maxFontSize=n.sizeMultiplier,n.style.isTight()&&r.classes.push("mtight");var l=n.getColor();l&&(r.style.color=l)}return r},He=function(e,t){if(Q(e.classes)!==Q(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(1===e.classes.length){var i=e.classes[0];if("mbin"===i||"mord"===i)return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var s in t.style)if(t.style.hasOwnProperty(s)&&e.style[s]!==t.style[s])return!1;return!0},je=function(e){for(var t=0,i=0,n=0,s=0;s<e.children.length;s++){var r=e.children[s];r.height>t&&(t=r.height),r.depth>i&&(i=r.depth),r.maxFontSize>n&&(n=r.maxFontSize)}e.height=t,e.depth=i,e.maxFontSize=n},qe=function(e,t,i,n){var s=new W(e,t,i,n);return je(s),s},We=function(e,t,i,n){return new W(e,t,i,n)},Ve=function(e){var t=new C(e);return je(t),t},Ue=function(e,t,i){var n="";switch(e){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=e}return n+"-"+("textbf"===t&&"textit"===i?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},Xe={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Ge={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Ye={fontMap:Xe,makeSymbol:Qe,mathsym:function(e,t,i,n){return void 0===n&&(n=[]),"boldsymbol"===i.font&&ze(e,"Main-Bold",t).metrics?Qe(e,"Main-Bold",t,i,n.concat(["mathbf"])):"\\"===e||"main"===ie[t][e].font?Qe(e,"Main-Regular",t,i,n):Qe(e,"AMS-Regular",t,i,n.concat(["amsrm"]))},makeSpan:qe,makeSvgSpan:We,makeLineSpan:function(e,t,i){var n=qe([e],[],t);return n.height=Math.max(i||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),n.style.borderBottomWidth=z(n.height),n.maxFontSize=1,n},makeAnchor:function(e,t,i,n){var s=new V(e,t,i,n);return je(s),s},makeFragment:Ve,wrapFragment:function(e,t){return e instanceof C?qe([],[e],t):e},makeVList:function(e,t){for(var i=function(e){if("individualShift"===e.positionType){for(var t=e.children,i=[t[0]],n=-t[0].shift-t[0].elem.depth,s=n,r=1;r<t.length;r++){var o=-t[r].shift-s-t[r].elem.depth,a=o-(t[r-1].elem.height+t[r-1].elem.depth);s+=o,i.push({type:"kern",size:a}),i.push(t[r])}return{children:i,depth:n}}var h;if("top"===e.positionType){for(var l=e.positionData,d=0;d<e.children.length;d++){var c=e.children[d];l-="kern"===c.type?c.size:c.elem.height+c.elem.depth}h=l}else if("bottom"===e.positionType)h=-e.positionData;else{var u=e.children[0];if("elem"!==u.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)h=-u.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");h=-u.elem.depth}}return{children:e.children,depth:h}}(e),n=i.children,s=i.depth,r=0,o=0;o<n.length;o++){var a=n[o];if("elem"===a.type){var h=a.elem;r=Math.max(r,h.maxFontSize,h.height)}}r+=2;var l=qe(["pstrut"],[]);l.style.height=z(r);for(var d=[],c=s,u=s,p=s,m=0;m<n.length;m++){var f=n[m];if("kern"===f.type)p+=f.size;else{var g=f.elem,v=f.wrapperClasses||[],y=f.wrapperStyle||{},A=qe(v,[l,g],void 0,y);A.style.top=z(-r-p-g.depth),f.marginLeft&&(A.style.marginLeft=f.marginLeft),f.marginRight&&(A.style.marginRight=f.marginRight),d.push(A),p+=g.height+g.depth}c=Math.min(c,p),u=Math.max(u,p)}var x,b=qe(["vlist"],d);if(b.style.height=z(u),c<0){var w=qe([],[]),k=qe(["vlist"],[w]);k.style.height=z(-c);var C=qe(["vlist-s"],[new G("​")]);x=[qe(["vlist-r"],[b,C]),qe(["vlist-r"],[k])]}else x=[qe(["vlist-r"],[b])];var E=qe(["vlist-t"],x);return 2===x.length&&E.classes.push("vlist-t2"),E.height=u,E.depth=-c,E},makeOrd:function(e,t,i){var s=e.mode,r=e.text,o=["mord"],a="math"===s||"text"===s&&t.font,h=a?t.font:t.fontFamily;if(55349===r.charCodeAt(0)){var l=function(e,t){var i=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,s="math"===t?0:1;if(119808<=i&&i<120484){var r=Math.floor((i-119808)/26);return[_e[r][2],_e[r][s]]}if(120782<=i&&i<=120831){var o=Math.floor((i-120782)/10);return[Fe[o][2],Fe[o][s]]}if(120485===i||120486===i)return[_e[0][2],_e[0][s]];if(120486<i&&i<120782)return["",""];throw new n("Unsupported character: "+e)}(r,s),d=l[0],c=l[1];return Qe(r,d,s,t,o.concat(c))}if(h){var u,p;if("boldsymbol"===h){var m=function(e,t,i,n,s){return"textord"!==s&&ze(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(r,s,0,0,i);u=m.fontName,p=[m.fontClass]}else a?(u=Xe[h].fontName,p=[h]):(u=Ue(h,t.fontWeight,t.fontShape),p=[h,t.fontWeight,t.fontShape]);if(ze(r,u,s).metrics)return Qe(r,u,s,t,o.concat(p));if(Ae.hasOwnProperty(r)&&"Typewriter"===u.substr(0,10)){for(var f=[],g=0;g<r.length;g++)f.push(Qe(r[g],u,s,t,o.concat(p)));return Ve(f)}}if("mathord"===i)return Qe(r,"Math-Italic",s,t,o.concat(["mathnormal"]));if("textord"===i){var v=ie[s][r]&&ie[s][r].font;if("ams"===v){var y=Ue("amsrm",t.fontWeight,t.fontShape);return Qe(r,y,s,t,o.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==v&&v){var A=Ue(v,t.fontWeight,t.fontShape);return Qe(r,A,s,t,o.concat(A,t.fontWeight,t.fontShape))}var x=Ue("textrm",t.fontWeight,t.fontShape);return Qe(r,x,s,t,o.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+i+" in makeOrd")},makeGlue:function(e,t){var i=qe(["mspace"],[],t),n=F(e,t);return i.style.marginRight=z(n),i},staticSvg:function(e,t){var i=Ge[e],n=i[0],s=i[1],r=i[2],o=new K(n),a=new Y([o],{width:z(s),height:z(r),style:"width:"+z(s),viewBox:"0 0 "+1e3*s+" "+1e3*r,preserveAspectRatio:"xMinYMin"}),h=We(["overlay"],[a],t);return h.height=r,h.style.height=z(r),h.style.width=z(s),h},svgData:Ge,tryCombineChars:function(e){for(var t=0;t<e.length-1;t++){var i=e[t],n=e[t+1];i instanceof G&&n instanceof G&&He(i,n)&&(i.text+=n.text,i.height=Math.max(i.height,n.height),i.depth=Math.max(i.depth,n.depth),i.italic=n.italic,e.splice(t+1,1),t--)}return e}},Ke={number:3,unit:"mu"},Je={number:4,unit:"mu"},Ze={number:5,unit:"mu"},$e={mord:{mop:Ke,mbin:Je,mrel:Ze,minner:Ke},mop:{mord:Ke,mop:Ke,mrel:Ze,minner:Ke},mbin:{mord:Je,mop:Je,mopen:Je,minner:Je},mrel:{mord:Ze,mop:Ze,mopen:Ze,minner:Ze},mopen:{},mclose:{mop:Ke,mbin:Je,mrel:Ze,minner:Ke},mpunct:{mord:Ke,mop:Ke,mrel:Ze,mopen:Ke,mclose:Ke,mpunct:Ke,minner:Ke},minner:{mord:Ke,mop:Ke,mbin:Je,mrel:Ze,mopen:Ke,mpunct:Ke,minner:Ke}},et={mord:{mop:Ke},mop:{mord:Ke,mop:Ke},mbin:{},mrel:{},mopen:{},mclose:{mop:Ke},mpunct:{},minner:{mop:Ke}},tt={},it={},nt={};function st(e){for(var t=e.type,i=e.names,n=e.props,s=e.handler,r=e.htmlBuilder,o=e.mathmlBuilder,a={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:void 0===n.allowedInMath||n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:s},h=0;h<i.length;++h)tt[i[h]]=a;t&&(r&&(it[t]=r),o&&(nt[t]=o))}function rt(e){st({type:e.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:e.htmlBuilder,mathmlBuilder:e.mathmlBuilder})}var ot=function(e){return"ordgroup"===e.type&&1===e.body.length?e.body[0]:e},at=function(e){return"ordgroup"===e.type?e.body:[e]},ht=Ye.makeSpan,lt=["leftmost","mbin","mopen","mrel","mop","mpunct"],dt=["rightmost","mrel","mclose","mpunct"],ct={display:y.DISPLAY,text:y.TEXT,script:y.SCRIPT,scriptscript:y.SCRIPTSCRIPT},ut={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},pt=function(e,t,i,n){void 0===n&&(n=[null,null]);for(var s=[],r=0;r<e.length;r++){var o=At(e[r],t);if(o instanceof C){var a=o.children;s.push.apply(s,a)}else s.push(o)}if(Ye.tryCombineChars(s),!i)return s;var l=t;if(1===e.length){var d=e[0];"sizing"===d.type?l=t.havingSize(d.size):"styling"===d.type&&(l=t.havingStyle(ct[d.style]))}var c=ht([n[0]||"leftmost"],[],t),u=ht([n[1]||"rightmost"],[],t),p="root"===i;return mt(s,(function(e,t){var i=t.classes[0],n=e.classes[0];"mbin"===i&&h.contains(dt,n)?t.classes[0]="mord":"mbin"===n&&h.contains(lt,i)&&(e.classes[0]="mord")}),{node:c},u,p),mt(s,(function(e,t){var i=vt(t),n=vt(e),s=i&&n?e.hasClass("mtight")?et[i][n]:$e[i][n]:null;if(s)return Ye.makeGlue(s,l)}),{node:c},u,p),s},mt=function e(t,i,n,s,r){s&&t.push(s);for(var o=0;o<t.length;o++){var a=t[o],h=ft(a);if(h)e(h.children,i,n,null,r);else{var l=!a.hasClass("mspace");if(l){var d=i(a,n.node);d&&(n.insertAfter?n.insertAfter(d):(t.unshift(d),o++))}l?n.node=a:r&&a.hasClass("newline")&&(n.node=ht(["leftmost"])),n.insertAfter=function(e){return function(i){t.splice(e+1,0,i),o++}}(o)}}s&&t.pop()},ft=function(e){return e instanceof C||e instanceof V||e instanceof W&&e.hasClass("enclosing")?e:null},gt=function e(t,i){var n=ft(t);if(n){var s=n.children;if(s.length){if("right"===i)return e(s[s.length-1],"right");if("left"===i)return e(s[0],"left")}}return t},vt=function(e,t){return e?(t&&(e=gt(e,t)),ut[e.classes[0]]||null):null},yt=function(e,t){var i=["nulldelimiter"].concat(e.baseSizingClasses());return ht(t.concat(i))},At=function(e,t,i){if(!e)return ht();if(it[e.type]){var s=it[e.type](e,t);if(i&&t.size!==i.size){s=ht(t.sizingClasses(i),[s],t);var r=t.sizeMultiplier/i.sizeMultiplier;s.height*=r,s.depth*=r}return s}throw new n("Got group of unknown type: '"+e.type+"'")};function xt(e,t){var i=ht(["base"],e,t),n=ht(["strut"]);return n.style.height=z(i.height+i.depth),i.depth&&(n.style.verticalAlign=z(-i.depth)),i.children.unshift(n),i}function bt(e,t){var i=null;1===e.length&&"tag"===e[0].type&&(i=e[0].tag,e=e[0].body);var n,s=pt(e,t,"root");2===s.length&&s[1].hasClass("tag")&&(n=s.pop());for(var r,o=[],a=[],h=0;h<s.length;h++)if(a.push(s[h]),s[h].hasClass("mbin")||s[h].hasClass("mrel")||s[h].hasClass("allowbreak")){for(var l=!1;h<s.length-1&&s[h+1].hasClass("mspace")&&!s[h+1].hasClass("newline");)h++,a.push(s[h]),s[h].hasClass("nobreak")&&(l=!0);l||(o.push(xt(a,t)),a=[])}else s[h].hasClass("newline")&&(a.pop(),a.length>0&&(o.push(xt(a,t)),a=[]),o.push(s[h]));a.length>0&&o.push(xt(a,t)),i?((r=xt(pt(i,t,!0))).classes=["tag"],o.push(r)):n&&o.push(n);var d=ht(["katex-html"],o);if(d.setAttribute("aria-hidden","true"),r){var c=r.children[0];c.style.height=z(d.height+d.depth),d.depth&&(c.style.verticalAlign=z(-d.depth))}return d}function wt(e){return new C(e)}var kt=function(){function e(e,t,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=i||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.getAttribute=function(e){return this.attributes[e]},t.toNode=function(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=Q(this.classes));for(var i=0;i<this.children.length;i++)e.appendChild(this.children[i].toNode());return e},t.toMarkup=function(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=h.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+h.escape(Q(this.classes))+'"'),e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</"+this.type+">"},t.toText=function(){return this.children.map((function(e){return e.toText()})).join("")},e}(),Ct=function(){function e(e){this.text=void 0,this.text=e}var t=e.prototype;return t.toNode=function(){return document.createTextNode(this.text)},t.toMarkup=function(){return h.escape(this.toText())},t.toText=function(){return this.text},e}(),Et={MathNode:kt,TextNode:Ct,SpaceNode:function(){function e(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?" ":e>=.1666&&e<=.1667?" ":e>=.2222&&e<=.2223?" ":e>=.2777&&e<=.2778?"  ":e>=-.05556&&e<=-.05555?" ⁣":e>=-.1667&&e<=-.1666?" ⁣":e>=-.2223&&e<=-.2222?" ⁣":e>=-.2778&&e<=-.2777?" ⁣":null}var t=e.prototype;return t.toNode=function(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",z(this.width)),e},t.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+z(this.width)+'"/>'},t.toText=function(){return this.character?this.character:" "},e}(),newDocumentFragment:wt},Dt=function(e,t,i){return!ie[t][e]||!ie[t][e].replace||55349===e.charCodeAt(0)||Ae.hasOwnProperty(e)&&i&&(i.fontFamily&&"tt"===i.fontFamily.substr(4,2)||i.font&&"tt"===i.font.substr(4,2))||(e=ie[t][e].replace),new Et.TextNode(e)},Nt=function(e){return 1===e.length?e[0]:new Et.MathNode("mrow",e)},It=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var i=t.font;if(!i||"mathnormal"===i)return null;var n=e.mode;if("mathit"===i)return"italic";if("boldsymbol"===i)return"textord"===e.type?"bold":"bold-italic";if("mathbf"===i)return"bold";if("mathbb"===i)return"double-struck";if("mathfrak"===i)return"fraktur";if("mathscr"===i||"mathcal"===i)return"script";if("mathsf"===i)return"sans-serif";if("mathtt"===i)return"monospace";var s=e.text;return h.contains(["\\imath","\\jmath"],s)?null:(ie[n][s]&&ie[n][s].replace&&(s=ie[n][s].replace),I(s,Ye.fontMap[i].fontName,n)?Ye.fontMap[i].variant:null)},St=function(e,t,i){if(1===e.length){var n=Mt(e[0],t);return i&&n instanceof kt&&"mo"===n.type&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var s,r=[],o=0;o<e.length;o++){var a=Mt(e[o],t);if(a instanceof kt&&s instanceof kt){if("mtext"===a.type&&"mtext"===s.type&&a.getAttribute("mathvariant")===s.getAttribute("mathvariant")){var h;(h=s.children).push.apply(h,a.children);continue}if("mn"===a.type&&"mn"===s.type){var l;(l=s.children).push.apply(l,a.children);continue}if("mi"===a.type&&1===a.children.length&&"mn"===s.type){var d=a.children[0];if(d instanceof Ct&&"."===d.text){var c;(c=s.children).push.apply(c,a.children);continue}}else if("mi"===s.type&&1===s.children.length){var u=s.children[0];if(u instanceof Ct&&"̸"===u.text&&("mo"===a.type||"mi"===a.type||"mn"===a.type)){var p=a.children[0];p instanceof Ct&&p.text.length>0&&(p.text=p.text.slice(0,1)+"̸"+p.text.slice(1),r.pop())}}}r.push(a),s=a}return r},Bt=function(e,t,i){return Nt(St(e,t,i))},Mt=function(e,t){if(!e)return new Et.MathNode("mrow");if(nt[e.type])return nt[e.type](e,t);throw new n("Got group of unknown type: '"+e.type+"'")};function Tt(e,t,i,n,s){var r,o=St(e,i);r=1===o.length&&o[0]instanceof kt&&h.contains(["mrow","mtable"],o[0].type)?o[0]:new Et.MathNode("mrow",o);var a=new Et.MathNode("annotation",[new Et.TextNode(t)]);a.setAttribute("encoding","application/x-tex");var l=new Et.MathNode("semantics",[r,a]),d=new Et.MathNode("math",[l]);d.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&d.setAttribute("display","block");var c=s?"katex":"katex-mathml";return Ye.makeSpan([c],[d])}var Lt=function(e){return new P({style:e.displayMode?y.DISPLAY:y.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Pt=function(e,t){if(t.displayMode){var i=["katex-display"];t.leqno&&i.push("leqno"),t.fleqn&&i.push("fleqn"),e=Ye.makeSpan(i,[e])}return e},Ot={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Rt={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},_t=function(e,t,i,n,s){var r,o=e.height+e.depth+i+n;if(/fbox|color|angl/.test(t)){if(r=Ye.makeSpan(["stretchy",t],[],s),"fbox"===t){var a=s.color&&s.getColor();a&&(r.style.borderColor=a)}}else{var h=[];/^[bx]cancel$/.test(t)&&h.push(new J({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&h.push(new J({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var l=new Y(h,{width:"100%",height:z(o)});r=Ye.makeSvgSpan([],[l],s)}return r.height=o,r.style.height=z(o),r},Ft=function(e){var t=new Et.MathNode("mo",[new Et.TextNode(Ot[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},zt=function(e,t){var i=function(){var i=4e5,n=e.label.substr(1);if(h.contains(["widehat","widecheck","widetilde","utilde"],n)){var s,r,o,a="ordgroup"===(m=e.base).type?m.body.length:1;if(a>5)"widehat"===n||"widecheck"===n?(s=420,i=2364,o=.42,r=n+"4"):(s=312,i=2340,o=.34,r="tilde4");else{var l=[1,1,2,2,3,3][a];"widehat"===n||"widecheck"===n?(i=[0,1062,2364,2364,2364][l],s=[0,239,300,360,420][l],o=[0,.24,.3,.3,.36,.42][l],r=n+l):(i=[0,600,1033,2339,2340][l],s=[0,260,286,306,312][l],o=[0,.26,.286,.3,.306,.34][l],r="tilde"+l)}var d=new K(r),c=new Y([d],{width:"100%",height:z(o),viewBox:"0 0 "+i+" "+s,preserveAspectRatio:"none"});return{span:Ye.makeSvgSpan([],[c],t),minWidth:0,height:o}}var u,p,m,f=[],g=Rt[n],v=g[0],y=g[1],A=g[2],x=A/1e3,b=v.length;if(1===b)u=["hide-tail"],p=[g[3]];else if(2===b)u=["halfarrow-left","halfarrow-right"],p=["xMinYMin","xMaxYMin"];else{if(3!==b)throw new Error("Correct katexImagesData or update code here to support\n                    "+b+" children.");u=["brace-left","brace-center","brace-right"],p=["xMinYMin","xMidYMin","xMaxYMin"]}for(var w=0;w<b;w++){var k=new K(v[w]),C=new Y([k],{width:"400em",height:z(x),viewBox:"0 0 "+i+" "+A,preserveAspectRatio:p[w]+" slice"}),E=Ye.makeSvgSpan([u[w]],[C],t);if(1===b)return{span:E,minWidth:y,height:x};E.style.height=z(x),f.push(E)}return{span:Ye.makeSpan(["stretchy"],f,t),minWidth:y,height:x}}(),n=i.span,s=i.minWidth,r=i.height;return n.height=r,n.style.height=z(r),s>0&&(n.style.minWidth=z(s)),n};function Qt(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Ht(e){var t=jt(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function jt(e){return e&&("atom"===e.type||ee.hasOwnProperty(e.type))?e:null}var qt=function(e,t){var i,n,s;e&&"supsub"===e.type?(i=(n=Qt(e.base,"accent")).base,e.base=i,s=function(e){if(e instanceof W)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(At(e,t)),e.base=n):i=(n=Qt(e,"accent")).base;var r=At(i,t.havingCrampedStyle()),o=0;if(n.isShifty&&h.isCharacterBox(i)){var a=h.getBaseElem(i);o=Z(At(a,t.havingCrampedStyle())).skew}var l,d="\\c"===n.label,c=d?r.height+r.depth:Math.min(r.height,t.fontMetrics().xHeight);if(n.isStretchy)l=zt(n,t),l=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"elem",elem:l,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+z(2*o)+")",marginLeft:z(2*o)}:void 0}]},t);else{var u,p;"\\vec"===n.label?(u=Ye.staticSvg("vec",t),p=Ye.svgData.vec[1]):((u=Z(u=Ye.makeOrd({mode:n.mode,text:n.label},t,"textord"))).italic=0,p=u.width,d&&(c+=u.depth)),l=Ye.makeSpan(["accent-body"],[u]);var m="\\textcircled"===n.label;m&&(l.classes.push("accent-full"),c=r.height);var f=o;m||(f-=p/2),l.style.left=z(f),"\\textcircled"===n.label&&(l.style.top=".2em"),l=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:-c},{type:"elem",elem:l}]},t)}var g=Ye.makeSpan(["mord","accent"],[l],t);return s?(s.children[0]=g,s.height=Math.max(g.height,s.height),s.classes[0]="mord",s):g},Wt=function(e,t){var i=e.isStretchy?Ft(e.label):new Et.MathNode("mo",[Dt(e.label,e.mode)]),n=new Et.MathNode("mover",[Mt(e.base,t),i]);return n.setAttribute("accent","true"),n},Vt=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map((function(e){return"\\"+e})).join("|"));st({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(e,t){var i=ot(t[0]),n=!Vt.test(e.funcName),s=!n||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:s,base:i}},htmlBuilder:qt,mathmlBuilder:Wt}),st({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:function(e,t){var i=t[0],n=e.parser.mode;return"math"===n&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:i}},htmlBuilder:qt,mathmlBuilder:Wt}),st({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(e,t){var i=e.parser,n=e.funcName,s=t[0];return{type:"accentUnder",mode:i.mode,label:n,base:s}},htmlBuilder:function(e,t){var i=At(e.base,t),n=zt(e,t),s="\\utilde"===e.label?.12:0,r=Ye.makeVList({positionType:"top",positionData:i.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:s},{type:"elem",elem:i}]},t);return Ye.makeSpan(["mord","accentunder"],[r],t)},mathmlBuilder:function(e,t){var i=Ft(e.label),n=new Et.MathNode("munder",[Mt(e.base,t),i]);return n.setAttribute("accentunder","true"),n}});var Ut=function(e){var t=new Et.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};st({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,i){var n=e.parser,s=e.funcName;return{type:"xArrow",mode:n.mode,label:s,body:t[0],below:i[0]}},htmlBuilder:function(e,t){var i,n=t.style,s=t.havingStyle(n.sup()),r=Ye.wrapFragment(At(e.body,s,t),t),o="\\x"===e.label.slice(0,2)?"x":"cd";r.classes.push(o+"-arrow-pad"),e.below&&(s=t.havingStyle(n.sub()),(i=Ye.wrapFragment(At(e.below,s,t),t)).classes.push(o+"-arrow-pad"));var a,h=zt(e,t),l=-t.fontMetrics().axisHeight+.5*h.height,d=-t.fontMetrics().axisHeight-.5*h.height-.111;if((r.depth>.25||"\\xleftequilibrium"===e.label)&&(d-=r.depth),i){var c=-t.fontMetrics().axisHeight+i.height+.5*h.height+.111;a=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:d},{type:"elem",elem:h,shift:l},{type:"elem",elem:i,shift:c}]},t)}else a=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:d},{type:"elem",elem:h,shift:l}]},t);return a.children[0].children[0].children[1].classes.push("svg-align"),Ye.makeSpan(["mrel","x-arrow"],[a],t)},mathmlBuilder:function(e,t){var i,n=Ft(e.label);if(n.setAttribute("minsize","x"===e.label.charAt(0)?"1.75em":"3.0em"),e.body){var s=Ut(Mt(e.body,t));if(e.below){var r=Ut(Mt(e.below,t));i=new Et.MathNode("munderover",[n,r,s])}else i=new Et.MathNode("mover",[n,s])}else if(e.below){var o=Ut(Mt(e.below,t));i=new Et.MathNode("munder",[n,o])}else i=Ut(),i=new Et.MathNode("mover",[n,i]);return i}});var Xt={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Gt=function(e){return"textord"===e.type&&"@"===e.text};function Yt(e,t,i){var n=Xt[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return i.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var s={type:"atom",text:n,mode:"math",family:"rel"},r={type:"ordgroup",mode:"math",body:[i.callFunction("\\\\cdleft",[t[0]],[]),i.callFunction("\\Big",[s],[]),i.callFunction("\\\\cdright",[t[1]],[])]};return i.callFunction("\\\\cdparent",[r],[]);case"\\\\cdlongequal":return i.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return i.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}st({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler:function(e,t){var i=e.parser,n=e.funcName;return{type:"cdlabel",mode:i.mode,side:n.slice(4),label:t[0]}},htmlBuilder:function(e,t){var i=t.havingStyle(t.style.sup()),n=Ye.wrapFragment(At(e.label,i,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=z(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder:function(e,t){var i=new Et.MathNode("mrow",[Mt(e.label,t)]);return(i=new Et.MathNode("mpadded",[i])).setAttribute("width","0"),"left"===e.side&&i.setAttribute("lspace","-1width"),i.setAttribute("voffset","0.7em"),(i=new Et.MathNode("mstyle",[i])).setAttribute("displaystyle","false"),i.setAttribute("scriptlevel","1"),i}}),st({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler:function(e,t){return{type:"cdlabelparent",mode:e.parser.mode,fragment:t[0]}},htmlBuilder:function(e,t){var i=Ye.wrapFragment(At(e.fragment,t),t);return i.classes.push("cd-vert-arrow"),i},mathmlBuilder:function(e,t){return new Et.MathNode("mrow",[Mt(e.fragment,t)])}}),st({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){for(var i=e.parser,s=Qt(t[0],"ordgroup").body,r="",o=0;o<s.length;o++)r+=Qt(s[o],"textord").text;var a,h=parseInt(r);if(isNaN(h))throw new n("\\@char has non-numeric argument "+r);if(h<0||h>=1114111)throw new n("\\@char with invalid code point "+r);return h<=65535?a=String.fromCharCode(h):(h-=65536,a=String.fromCharCode(55296+(h>>10),56320+(1023&h))),{type:"textord",mode:i.mode,text:a}}});var Kt=function(e,t){var i=pt(e.body,t.withColor(e.color),!1);return Ye.makeFragment(i)},Jt=function(e,t){var i=St(e.body,t.withColor(e.color)),n=new Et.MathNode("mstyle",i);return n.setAttribute("mathcolor",e.color),n};st({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler:function(e,t){var i=e.parser,n=Qt(t[0],"color-token").color,s=t[1];return{type:"color",mode:i.mode,color:n,body:at(s)}},htmlBuilder:Kt,mathmlBuilder:Jt}),st({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler:function(e,t){var i=e.parser,n=e.breakOnTokenText,s=Qt(t[0],"color-token").color;i.gullet.macros.set("\\current@color",s);var r=i.parseExpression(!0,n);return{type:"color",mode:i.mode,color:s,body:r}},htmlBuilder:Kt,mathmlBuilder:Jt}),st({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t,i){var n=e.parser,s=i[0],r=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:r,size:s&&Qt(s,"size").value}},htmlBuilder:function(e,t){var i=Ye.makeSpan(["mspace"],[],t);return e.newLine&&(i.classes.push("newline"),e.size&&(i.style.marginTop=z(F(e.size,t)))),i},mathmlBuilder:function(e,t){var i=new Et.MathNode("mspace");return e.newLine&&(i.setAttribute("linebreak","newline"),e.size&&i.setAttribute("height",z(F(e.size,t)))),i}});var Zt={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},$t=function(e){var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new n("Expected a control sequence",e);return t},ei=function(e,t,i,n){var s=e.gullet.macros.get(i.text);null==s&&(i.noexpand=!0,s={tokens:[i],numArgs:0,unexpandable:!e.gullet.isExpandable(i.text)}),e.gullet.macros.set(t,s,n)};st({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler:function(e){var t=e.parser,i=e.funcName;t.consumeSpaces();var s=t.fetch();if(Zt[s.text])return"\\global"!==i&&"\\\\globallong"!==i||(s.text=Zt[s.text]),Qt(t.parseFunction(),"internal");throw new n("Invalid token after macro prefix",s)}}),st({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e){var t=e.parser,i=e.funcName,s=t.gullet.popToken(),r=s.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new n("Expected a control sequence",s);for(var o,a=0,h=[[]];"{"!==t.gullet.future().text;)if("#"===(s=t.gullet.popToken()).text){if("{"===t.gullet.future().text){o=t.gullet.future(),h[a].push("{");break}if(s=t.gullet.popToken(),!/^[1-9]$/.test(s.text))throw new n('Invalid argument number "'+s.text+'"');if(parseInt(s.text)!==a+1)throw new n('Argument number "'+s.text+'" out of order');a++,h.push([])}else{if("EOF"===s.text)throw new n("Expected a macro definition");h[a].push(s.text)}var l=t.gullet.consumeArg().tokens;return o&&l.unshift(o),"\\edef"!==i&&"\\xdef"!==i||(l=t.gullet.expandTokens(l)).reverse(),t.gullet.macros.set(r,{tokens:l,numArgs:a,delimiters:h},i===Zt[i]),{type:"internal",mode:t.mode}}}),st({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e){var t=e.parser,i=e.funcName,n=$t(t.gullet.popToken());t.gullet.consumeSpaces();var s=function(e){var t=e.gullet.popToken();return"="===t.text&&" "===(t=e.gullet.popToken()).text&&(t=e.gullet.popToken()),t}(t);return ei(t,n,s,"\\\\globallet"===i),{type:"internal",mode:t.mode}}}),st({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e){var t=e.parser,i=e.funcName,n=$t(t.gullet.popToken()),s=t.gullet.popToken(),r=t.gullet.popToken();return ei(t,n,r,"\\\\globalfuture"===i),t.gullet.pushToken(r),t.gullet.pushToken(s),{type:"internal",mode:t.mode}}});var ti=function(e,t,i){var n=I(ie.math[e]&&ie.math[e].replace||e,t,i);if(!n)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return n},ii=function(e,t,i,n){var s=i.havingBaseStyle(t),r=Ye.makeSpan(n.concat(s.sizingClasses(i)),[e],i),o=s.sizeMultiplier/i.sizeMultiplier;return r.height*=o,r.depth*=o,r.maxFontSize=s.sizeMultiplier,r},ni=function(e,t,i){var n=t.havingBaseStyle(i),s=(1-t.sizeMultiplier/n.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=z(s),e.height-=s,e.depth+=s},si=function(e,t,i,n,s,r){var o=function(e,t,i,n){return Ye.makeSymbol(e,"Size"+t+"-Regular",i,n)}(e,t,s,n),a=ii(Ye.makeSpan(["delimsizing","size"+t],[o],n),y.TEXT,n,r);return i&&ni(a,n,y.TEXT),a},ri=function(e,t,i){var n;return n="Size1-Regular"===t?"delim-size1":"delim-size4",{type:"elem",elem:Ye.makeSpan(["delimsizinginner",n],[Ye.makeSpan([],[Ye.makeSymbol(e,t,i)])])}},oi=function(e,t,i){var n=E["Size4-Regular"][e.charCodeAt(0)]?E["Size4-Regular"][e.charCodeAt(0)][4]:E["Size1-Regular"][e.charCodeAt(0)][4],s=new K("inner",function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}}(e,Math.round(1e3*t))),r=new Y([s],{width:z(n),height:z(t),style:"width:"+z(n),viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),o=Ye.makeSvgSpan([],[r],i);return o.height=t,o.style.height=z(t),o.style.width=z(n),{type:"elem",elem:o}},ai={type:"kern",size:-.008},hi=["|","\\lvert","\\rvert","\\vert"],li=["\\|","\\lVert","\\rVert","\\Vert"],di=function(e,t,i,n,s,r){var o,a,l,d;o=l=d=e,a=null;var c="Size1-Regular";"\\uparrow"===e?l=d="⏐":"\\Uparrow"===e?l=d="‖":"\\downarrow"===e?o=l="⏐":"\\Downarrow"===e?o=l="‖":"\\updownarrow"===e?(o="\\uparrow",l="⏐",d="\\downarrow"):"\\Updownarrow"===e?(o="\\Uparrow",l="‖",d="\\Downarrow"):h.contains(hi,e)?l="∣":h.contains(li,e)?l="∥":"["===e||"\\lbrack"===e?(o="⎡",l="⎢",d="⎣",c="Size4-Regular"):"]"===e||"\\rbrack"===e?(o="⎤",l="⎥",d="⎦",c="Size4-Regular"):"\\lfloor"===e||"⌊"===e?(l=o="⎢",d="⎣",c="Size4-Regular"):"\\lceil"===e||"⌈"===e?(o="⎡",l=d="⎢",c="Size4-Regular"):"\\rfloor"===e||"⌋"===e?(l=o="⎥",d="⎦",c="Size4-Regular"):"\\rceil"===e||"⌉"===e?(o="⎤",l=d="⎥",c="Size4-Regular"):"("===e||"\\lparen"===e?(o="⎛",l="⎜",d="⎝",c="Size4-Regular"):")"===e||"\\rparen"===e?(o="⎞",l="⎟",d="⎠",c="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(o="⎧",a="⎨",d="⎩",l="⎪",c="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(o="⎫",a="⎬",d="⎭",l="⎪",c="Size4-Regular"):"\\lgroup"===e||"⟮"===e?(o="⎧",d="⎩",l="⎪",c="Size4-Regular"):"\\rgroup"===e||"⟯"===e?(o="⎫",d="⎭",l="⎪",c="Size4-Regular"):"\\lmoustache"===e||"⎰"===e?(o="⎧",d="⎭",l="⎪",c="Size4-Regular"):"\\rmoustache"!==e&&"⎱"!==e||(o="⎫",d="⎩",l="⎪",c="Size4-Regular");var u=ti(o,c,s),p=u.height+u.depth,m=ti(l,c,s),f=m.height+m.depth,g=ti(d,c,s),v=g.height+g.depth,A=0,x=1;if(null!==a){var b=ti(a,c,s);A=b.height+b.depth,x=2}var w=p+v+A,k=w+Math.max(0,Math.ceil((t-w)/(x*f)))*x*f,C=n.fontMetrics().axisHeight;i&&(C*=n.sizeMultiplier);var E=k/2-C,D=[];if(D.push(ri(d,c,s)),D.push(ai),null===a){var N=k-p-v+.016;D.push(oi(l,N,n))}else{var I=(k-p-v-A)/2+.016;D.push(oi(l,I,n)),D.push(ai),D.push(ri(a,c,s)),D.push(ai),D.push(oi(l,I,n))}D.push(ai),D.push(ri(o,c,s));var S=n.havingBaseStyle(y.TEXT),B=Ye.makeVList({positionType:"bottom",positionData:E,children:D},S);return ii(Ye.makeSpan(["delimsizing","mult"],[B],S),y.TEXT,n,r)},ci=.08,ui=function(e,t,i,n,s){var r=function(e,t,i){t*=1e3;var n="";switch(e){case"sqrtMain":n=function(e,t){return"M95,"+(622+e+t)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+e/2.075+" -"+e+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+e)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,w);break;case"sqrtSize1":n=function(e,t){return"M263,"+(601+e+t)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+e/2.084+" -"+e+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+e)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,w);break;case"sqrtSize2":n=function(e,t){return"M983 "+(10+e+t)+"\nl"+e/3.13+" -"+e+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+e)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,w);break;case"sqrtSize3":n=function(e,t){return"M424,"+(2398+e+t)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+e/4.223+" -"+e+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+e)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+e)+" "+t+"\nh400000v"+(40+e)+"h-400000z"}(t,w);break;case"sqrtSize4":n=function(e,t){return"M473,"+(2713+e+t)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+e/5.298+" -"+e+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+e)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"}(t,w);break;case"sqrtTall":n=function(e,t,i){return"M702 "+(e+t)+"H400000"+(40+e)+"\nH742v"+(i-54-t-e)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+t+"H400000v"+(40+e)+"H742z"}(t,w,i)}return n}(e,n,i),o=new K(e,r),a=new Y([o],{width:"400em",height:z(t),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return Ye.makeSvgSpan(["hide-tail"],[a],s)},pi=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],mi=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],fi=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],gi=[0,1.2,1.8,2.4,3],vi=[{type:"small",style:y.SCRIPTSCRIPT},{type:"small",style:y.SCRIPT},{type:"small",style:y.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],yi=[{type:"small",style:y.SCRIPTSCRIPT},{type:"small",style:y.SCRIPT},{type:"small",style:y.TEXT},{type:"stack"}],Ai=[{type:"small",style:y.SCRIPTSCRIPT},{type:"small",style:y.SCRIPT},{type:"small",style:y.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],xi=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},bi=function(e,t,i,n){for(var s=Math.min(2,3-n.style.size);s<i.length&&"stack"!==i[s].type;s++){var r=ti(e,xi(i[s]),"math"),o=r.height+r.depth;if("small"===i[s].type&&(o*=n.havingBaseStyle(i[s].style).sizeMultiplier),o>t)return i[s]}return i[i.length-1]},wi=function(e,t,i,n,s,r){var o;"<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),o=h.contains(fi,e)?vi:h.contains(pi,e)?Ai:yi;var a=bi(e,t,o,n);return"small"===a.type?function(e,t,i,n,s,r){var o=Ye.makeSymbol(e,"Main-Regular",s,n),a=ii(o,t,n,r);return i&&ni(a,n,t),a}(e,a.style,i,n,s,r):"large"===a.type?si(e,a.size,i,n,s,r):di(e,t,i,n,s,r)},ki={sqrtImage:function(e,t){var i,n,s=t.havingBaseSizing(),r=bi("\\surd",e*s.sizeMultiplier,Ai,s),o=s.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),h=0,l=0,d=0;return"small"===r.type?(e<1?o=1:e<1.4&&(o=.7),l=(1+a)/o,(i=ui("sqrtMain",h=(1+a+ci)/o,d=1e3+1e3*a+80,a,t)).style.minWidth="0.853em",n=.833/o):"large"===r.type?(d=1080*gi[r.size],l=(gi[r.size]+a)/o,h=(gi[r.size]+a+ci)/o,(i=ui("sqrtSize"+r.size,h,d,a,t)).style.minWidth="1.02em",n=1/o):(h=e+a+ci,l=e+a,d=Math.floor(1e3*e+a)+80,(i=ui("sqrtTall",h,d,a,t)).style.minWidth="0.742em",n=1.056),i.height=l,i.style.height=z(h),{span:i,advanceWidth:n,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*o}},sizedDelim:function(e,t,i,s,r){if("<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),h.contains(pi,e)||h.contains(fi,e))return si(e,t,!1,i,s,r);if(h.contains(mi,e))return di(e,gi[t],!1,i,s,r);throw new n("Illegal delimiter: '"+e+"'")},sizeToMaxHeight:gi,customSizedDelim:wi,leftRightDelim:function(e,t,i,n,s,r){var o=n.fontMetrics().axisHeight*n.sizeMultiplier,a=5/n.fontMetrics().ptPerEm,h=Math.max(t-o,i+o),l=Math.max(h/500*901,2*h-a);return wi(e,l,!0,n,s,r)}},Ci={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Ei=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Di(e,t){var i=jt(e);if(i&&h.contains(Ei,i.text))return i;throw new n(i?"Invalid delimiter '"+i.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function Ni(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}st({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:function(e,t){var i=Di(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:Ci[e.funcName].size,mclass:Ci[e.funcName].mclass,delim:i.text}},htmlBuilder:function(e,t){return"."===e.delim?Ye.makeSpan([e.mclass]):ki.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass])},mathmlBuilder:function(e){var t=[];"."!==e.delim&&t.push(Dt(e.delim,e.mode));var i=new Et.MathNode("mo",t);"mopen"===e.mclass||"mclose"===e.mclass?i.setAttribute("fence","true"):i.setAttribute("fence","false"),i.setAttribute("stretchy","true");var n=z(ki.sizeToMaxHeight[e.size]);return i.setAttribute("minsize",n),i.setAttribute("maxsize",n),i}}),st({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:function(e,t){var i=e.parser.gullet.macros.get("\\current@color");if(i&&"string"!=typeof i)throw new n("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Di(t[0],e).text,color:i}}}),st({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:function(e,t){var i=Di(t[0],e),n=e.parser;++n.leftrightDepth;var s=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var r=Qt(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:s,left:i.text,right:r.delim,rightColor:r.color}},htmlBuilder:function(e,t){Ni(e);for(var i,n,s=pt(e.body,t,!0,["mopen","mclose"]),r=0,o=0,a=!1,h=0;h<s.length;h++)s[h].isMiddle?a=!0:(r=Math.max(s[h].height,r),o=Math.max(s[h].depth,o));if(r*=t.sizeMultiplier,o*=t.sizeMultiplier,i="."===e.left?yt(t,["mopen"]):ki.leftRightDelim(e.left,r,o,t,e.mode,["mopen"]),s.unshift(i),a)for(var l=1;l<s.length;l++){var d=s[l].isMiddle;d&&(s[l]=ki.leftRightDelim(d.delim,r,o,d.options,e.mode,[]))}if("."===e.right)n=yt(t,["mclose"]);else{var c=e.rightColor?t.withColor(e.rightColor):t;n=ki.leftRightDelim(e.right,r,o,c,e.mode,["mclose"])}return s.push(n),Ye.makeSpan(["minner"],s,t)},mathmlBuilder:function(e,t){Ni(e);var i=St(e.body,t);if("."!==e.left){var n=new Et.MathNode("mo",[Dt(e.left,e.mode)]);n.setAttribute("fence","true"),i.unshift(n)}if("."!==e.right){var s=new Et.MathNode("mo",[Dt(e.right,e.mode)]);s.setAttribute("fence","true"),e.rightColor&&s.setAttribute("mathcolor",e.rightColor),i.push(s)}return Nt(i)}}),st({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:function(e,t){var i=Di(t[0],e);if(!e.parser.leftrightDepth)throw new n("\\middle without preceding \\left",i);return{type:"middle",mode:e.parser.mode,delim:i.text}},htmlBuilder:function(e,t){var i;if("."===e.delim)i=yt(t,[]);else{i=ki.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};i.isMiddle=n}return i},mathmlBuilder:function(e,t){var i="\\vert"===e.delim||"|"===e.delim?Dt("|","text"):Dt(e.delim,e.mode),n=new Et.MathNode("mo",[i]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var Ii=function(e,t){var i,n,s,r=Ye.wrapFragment(At(e.body,t),t),o=e.label.substr(1),a=t.sizeMultiplier,l=0,d=h.isCharacterBox(e.body);if("sout"===o)(i=Ye.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/a,l=-.5*t.fontMetrics().xHeight;else if("phase"===o){var c=F({number:.6,unit:"pt"},t),u=F({number:.35,unit:"ex"},t);a/=t.havingBaseSizing().sizeMultiplier;var p=r.height+r.depth+c+u;r.style.paddingLeft=z(p/2+c);var m=Math.floor(1e3*p*a),f="M400000 "+(n=m)+" H0 L"+n/2+" 0 l65 45 L145 "+(n-80)+" H400000z",g=new Y([new K("phase",f)],{width:"400em",height:z(m/1e3),viewBox:"0 0 400000 "+m,preserveAspectRatio:"xMinYMin slice"});(i=Ye.makeSvgSpan(["hide-tail"],[g],t)).style.height=z(p),l=r.depth+c+u}else{/cancel/.test(o)?d||r.classes.push("cancel-pad"):"angl"===o?r.classes.push("anglpad"):r.classes.push("boxpad");var v=0,y=0,A=0;/box/.test(o)?(A=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),y=v=t.fontMetrics().fboxsep+("colorbox"===o?0:A)):"angl"===o?(v=4*(A=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness)),y=Math.max(0,.25-r.depth)):y=v=d?.2:0,i=_t(r,o,v,y,t),/fbox|boxed|fcolorbox/.test(o)?(i.style.borderStyle="solid",i.style.borderWidth=z(A)):"angl"===o&&.049!==A&&(i.style.borderTopWidth=z(A),i.style.borderRightWidth=z(A)),l=r.depth+y,e.backgroundColor&&(i.style.backgroundColor=e.backgroundColor,e.borderColor&&(i.style.borderColor=e.borderColor))}if(e.backgroundColor)s=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:l},{type:"elem",elem:r,shift:0}]},t);else{var x=/cancel|phase/.test(o)?["svg-align"]:[];s=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:i,shift:l,wrapperClasses:x}]},t)}return/cancel/.test(o)&&(s.height=r.height,s.depth=r.depth),/cancel/.test(o)&&!d?Ye.makeSpan(["mord","cancel-lap"],[s],t):Ye.makeSpan(["mord"],[s],t)},Si=function(e,t){var i=0,n=new Et.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Mt(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(i=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*i+"pt"),n.setAttribute("height","+"+2*i+"pt"),n.setAttribute("lspace",i+"pt"),n.setAttribute("voffset",i+"pt"),"\\fcolorbox"===e.label){var s=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+s+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};st({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler:function(e,t,i){var n=e.parser,s=e.funcName,r=Qt(t[0],"color-token").color,o=t[1];return{type:"enclose",mode:n.mode,label:s,backgroundColor:r,body:o}},htmlBuilder:Ii,mathmlBuilder:Si}),st({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler:function(e,t,i){var n=e.parser,s=e.funcName,r=Qt(t[0],"color-token").color,o=Qt(t[1],"color-token").color,a=t[2];return{type:"enclose",mode:n.mode,label:s,backgroundColor:o,borderColor:r,body:a}},htmlBuilder:Ii,mathmlBuilder:Si}),st({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\fbox",body:t[0]}}}),st({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler:function(e,t){var i=e.parser,n=e.funcName,s=t[0];return{type:"enclose",mode:i.mode,label:n,body:s}},htmlBuilder:Ii,mathmlBuilder:Si}),st({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\angl",body:t[0]}}});var Bi={};function Mi(e){for(var t=e.type,i=e.names,n=e.props,s=e.handler,r=e.htmlBuilder,o=e.mathmlBuilder,a={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:s},h=0;h<i.length;++h)Bi[i[h]]=a;r&&(it[t]=r),o&&(nt[t]=o)}function Ti(e){var t=[];e.consumeSpaces();for(var i=e.fetch().text;"\\hline"===i||"\\hdashline"===i;)e.consume(),t.push("\\hdashline"===i),e.consumeSpaces(),i=e.fetch().text;return t}var Li=function(e){if(!e.parser.settings.displayMode)throw new n("{"+e.envName+"} can be used only in display mode.")};function Pi(e,t,i){var s=t.hskipBeforeAndAfter,r=t.addJot,o=t.cols,a=t.arraystretch,h=t.colSeparationType,l=t.addEqnNum,d=t.singleRow,c=t.emptySingleRow,u=t.maxNumCols,p=t.leqno;if(e.gullet.beginGroup(),d||e.gullet.macros.set("\\cr","\\\\\\relax"),!a){var m=e.gullet.expandMacroAsText("\\arraystretch");if(null==m)a=1;else if(!(a=parseFloat(m))||a<0)throw new n("Invalid \\arraystretch: "+m)}e.gullet.beginGroup();var f=[],g=[f],v=[],y=[];for(y.push(Ti(e));;){var A=e.parseExpression(!1,d?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),A={type:"ordgroup",mode:e.mode,body:A},i&&(A={type:"styling",mode:e.mode,style:i,body:[A]}),f.push(A);var x=e.fetch().text;if("&"===x){if(u&&f.length===u){if(d||h)throw new n("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if("\\end"===x){1===f.length&&"styling"===A.type&&0===A.body[0].body.length&&(g.length>1||!c)&&g.pop(),y.length<g.length+1&&y.push([]);break}if("\\\\"!==x)throw new n("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume();var b=void 0;" "!==e.gullet.future().text&&(b=e.parseSizeGroup(!0)),v.push(b?b.value:null),y.push(Ti(e)),f=[],g.push(f)}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:r,arraystretch:a,body:g,cols:o,rowGaps:v,hskipBeforeAndAfter:s,hLinesBeforeRow:y,colSeparationType:h,addEqnNum:l,leqno:p}}function Oi(e){return"d"===e.substr(0,1)?"display":"text"}var Ri=function(e,t){var i,s,r=e.body.length,o=e.hLinesBeforeRow,a=0,l=new Array(r),d=[],c=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),u=1/t.fontMetrics().ptPerEm,p=5*u;e.colSeparationType&&"small"===e.colSeparationType&&(p=t.havingStyle(y.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778);var m="CD"===e.colSeparationType?F({number:3,unit:"ex"},t):12*u,f=3*u,g=e.arraystretch*m,v=.7*g,A=.3*g,x=0;function b(e){for(var t=0;t<e.length;++t)t>0&&(x+=.25),d.push({pos:x,isDashed:e[t]})}for(b(o[0]),i=0;i<e.body.length;++i){var w=e.body[i],k=v,C=A;a<w.length&&(a=w.length);var E=new Array(w.length);for(s=0;s<w.length;++s){var D=At(w[s],t);C<D.depth&&(C=D.depth),k<D.height&&(k=D.height),E[s]=D}var N=e.rowGaps[i],I=0;N&&(I=F(N,t))>0&&(C<(I+=A)&&(C=I),I=0),e.addJot&&(C+=f),E.height=k,E.depth=C,x+=k,E.pos=x,x+=C+I,l[i]=E,b(o[i+1])}var S,B,M=x/2+t.fontMetrics().axisHeight,T=e.cols||[],L=[],P=[];if(e.addEqnNum)for(i=0;i<r;++i){var O=l[i],R=O.pos-M,_=Ye.makeSpan(["eqn-num"],[],t);_.depth=O.depth,_.height=O.height,P.push({type:"elem",elem:_,shift:R})}for(s=0,B=0;s<a||B<T.length;++s,++B){for(var Q=T[B]||{},H=!0;"separator"===Q.type;){if(H||((S=Ye.makeSpan(["arraycolsep"],[])).style.width=z(t.fontMetrics().doubleRuleSep),L.push(S)),"|"!==Q.separator&&":"!==Q.separator)throw new n("Invalid separator type: "+Q.separator);var j="|"===Q.separator?"solid":"dashed",q=Ye.makeSpan(["vertical-separator"],[],t);q.style.height=z(x),q.style.borderRightWidth=z(c),q.style.borderRightStyle=j,q.style.margin="0 "+z(-c/2);var W=x-M;W&&(q.style.verticalAlign=z(-W)),L.push(q),Q=T[++B]||{},H=!1}if(!(s>=a)){var V=void 0;(s>0||e.hskipBeforeAndAfter)&&0!==(V=h.deflt(Q.pregap,p))&&((S=Ye.makeSpan(["arraycolsep"],[])).style.width=z(V),L.push(S));var U=[];for(i=0;i<r;++i){var X=l[i],G=X[s];if(G){var Y=X.pos-M;G.depth=X.depth,G.height=X.height,U.push({type:"elem",elem:G,shift:Y})}}U=Ye.makeVList({positionType:"individualShift",children:U},t),U=Ye.makeSpan(["col-align-"+(Q.align||"c")],[U]),L.push(U),(s<a-1||e.hskipBeforeAndAfter)&&0!==(V=h.deflt(Q.postgap,p))&&((S=Ye.makeSpan(["arraycolsep"],[])).style.width=z(V),L.push(S))}}if(l=Ye.makeSpan(["mtable"],L),d.length>0){for(var K=Ye.makeLineSpan("hline",t,c),J=Ye.makeLineSpan("hdashline",t,c),Z=[{type:"elem",elem:l,shift:0}];d.length>0;){var $=d.pop(),ee=$.pos-M;$.isDashed?Z.push({type:"elem",elem:J,shift:ee}):Z.push({type:"elem",elem:K,shift:ee})}l=Ye.makeVList({positionType:"individualShift",children:Z},t)}if(e.addEqnNum){var te=Ye.makeVList({positionType:"individualShift",children:P},t);return te=Ye.makeSpan(["tag"],[te],t),Ye.makeFragment([l,te])}return Ye.makeSpan(["mord"],[l],t)},_i={c:"center ",l:"left ",r:"right "},Fi=function(e,t){for(var i=[],n=new Et.MathNode("mtd",[],["mtr-glue"]),s=new Et.MathNode("mtd",[],["mml-eqn-num"]),r=0;r<e.body.length;r++){for(var o=e.body[r],a=[],h=0;h<o.length;h++)a.push(new Et.MathNode("mtd",[Mt(o[h],t)]));e.addEqnNum&&(a.unshift(n),a.push(n),e.leqno?a.unshift(s):a.push(s)),i.push(new Et.MathNode("mtr",a))}var l=new Et.MathNode("mtable",i),d=.5===e.arraystretch?.1:.16+e.arraystretch-1+(e.addJot?.09:0);l.setAttribute("rowspacing",z(d));var c="",u="";if(e.cols&&e.cols.length>0){var p=e.cols,m="",f=!1,g=0,v=p.length;"separator"===p[0].type&&(c+="top ",g=1),"separator"===p[p.length-1].type&&(c+="bottom ",v-=1);for(var y=g;y<v;y++)"align"===p[y].type?(u+=_i[p[y].align],f&&(m+="none "),f=!0):"separator"===p[y].type&&f&&(m+="|"===p[y].separator?"solid ":"dashed ",f=!1);l.setAttribute("columnalign",u.trim()),/[sd]/.test(m)&&l.setAttribute("columnlines",m.trim())}if("align"===e.colSeparationType){for(var A=e.cols||[],x="",b=1;b<A.length;b++)x+=b%2?"0em ":"1em ";l.setAttribute("columnspacing",x.trim())}else"alignat"===e.colSeparationType||"gather"===e.colSeparationType?l.setAttribute("columnspacing","0em"):"small"===e.colSeparationType?l.setAttribute("columnspacing","0.2778em"):"CD"===e.colSeparationType?l.setAttribute("columnspacing","0.5em"):l.setAttribute("columnspacing","1em");var w="",k=e.hLinesBeforeRow;c+=k[0].length>0?"left ":"",c+=k[k.length-1].length>0?"right ":"";for(var C=1;C<k.length-1;C++)w+=0===k[C].length?"none ":k[C][0]?"dashed ":"solid ";return/[sd]/.test(w)&&l.setAttribute("rowlines",w.trim()),""!==c&&(l=new Et.MathNode("menclose",[l])).setAttribute("notation",c.trim()),e.arraystretch&&e.arraystretch<1&&(l=new Et.MathNode("mstyle",[l])).setAttribute("scriptlevel","1"),l},zi=function(e,t){-1===e.envName.indexOf("ed")&&Li(e);var i,s=[],r=e.envName.indexOf("at")>-1?"alignat":"align",o=Pi(e.parser,{cols:s,addJot:!0,addEqnNum:"align"===e.envName||"alignat"===e.envName,emptySingleRow:!0,colSeparationType:r,maxNumCols:"split"===e.envName?2:void 0,leqno:e.parser.settings.leqno},"display"),a=0,h={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&"ordgroup"===t[0].type){for(var l="",d=0;d<t[0].body.length;d++)l+=Qt(t[0].body[d],"textord").text;i=Number(l),a=2*i}var c=!a;o.body.forEach((function(e){for(var t=1;t<e.length;t+=2){var s=Qt(e[t],"styling");Qt(s.body[0],"ordgroup").body.unshift(h)}if(c)a<e.length&&(a=e.length);else{var r=e.length/2;if(i<r)throw new n("Too many math in a row: expected "+i+", but got "+r,e[0])}}));for(var u=0;u<a;++u){var p="r",m=0;u%2==1?p="l":u>0&&c&&(m=1),s[u]={type:"align",align:p,pregap:m,postgap:0}}return o.colSeparationType=c?"align":"alignat",o};Mi({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(e,t){var i=(jt(t[0])?[t[0]]:Qt(t[0],"ordgroup").body).map((function(e){var t=Ht(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new n("Unknown column alignment: "+t,e)})),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Pi(e.parser,s,Oi(e.envName))},htmlBuilder:Ri,mathmlBuilder:Fi}),Mi({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler:function(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],i="c",s={hskipBeforeAndAfter:!1,cols:[{type:"align",align:i}]};if("*"===e.envName.charAt(e.envName.length-1)){var r=e.parser;if(r.consumeSpaces(),"["===r.fetch().text){if(r.consume(),r.consumeSpaces(),i=r.fetch().text,-1==="lcr".indexOf(i))throw new n("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),s.cols=[{type:"align",align:i}]}}var o=Pi(e.parser,s,Oi(e.envName)),a=Math.max.apply(Math,[0].concat(o.body.map((function(e){return e.length}))));return o.cols=new Array(a).fill({type:"align",align:i}),t?{type:"leftright",mode:e.mode,body:[o],left:t[0],right:t[1],rightColor:void 0}:o},htmlBuilder:Ri,mathmlBuilder:Fi}),Mi({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(e){var t=Pi(e.parser,{arraystretch:.5},"script");return t.colSeparationType="small",t},htmlBuilder:Ri,mathmlBuilder:Fi}),Mi({type:"array",names:["subarray"],props:{numArgs:1},handler:function(e,t){var i=(jt(t[0])?[t[0]]:Qt(t[0],"ordgroup").body).map((function(e){var t=Ht(e).text;if(-1!=="lc".indexOf(t))return{type:"align",align:t};throw new n("Unknown column alignment: "+t,e)}));if(i.length>1)throw new n("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if((s=Pi(e.parser,s,"script")).body.length>0&&s.body[0].length>1)throw new n("{subarray} can contain only one column");return s},htmlBuilder:Ri,mathmlBuilder:Fi}),Mi({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler:function(e){var t=Pi(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Oi(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Ri,mathmlBuilder:Fi}),Mi({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:zi,htmlBuilder:Ri,mathmlBuilder:Fi}),Mi({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler:function(e){h.contains(["gather","gather*"],e.envName)&&Li(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",addEqnNum:"gather"===e.envName,emptySingleRow:!0,leqno:e.parser.settings.leqno};return Pi(e.parser,t,"display")},htmlBuilder:Ri,mathmlBuilder:Fi}),Mi({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:zi,htmlBuilder:Ri,mathmlBuilder:Fi}),Mi({type:"array",names:["equation","equation*"],props:{numArgs:0},handler:function(e){Li(e);var t={addEqnNum:"equation"===e.envName,emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Pi(e.parser,t,"display")},htmlBuilder:Ri,mathmlBuilder:Fi}),Mi({type:"array",names:["CD"],props:{numArgs:0},handler:function(e){return Li(e),function(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var i=e.fetch().text;if("&"!==i&&"\\\\"!==i){if("\\end"===i){0===t[t.length-1].length&&t.pop();break}throw new n("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}for(var s,r,o=[],a=[o],h=0;h<t.length;h++){for(var l=t[h],d={type:"styling",body:[],mode:"math",style:"display"},c=0;c<l.length;c++)if(Gt(l[c])){o.push(d);var u=Ht(l[c+=1]).text,p=new Array(2);if(p[0]={type:"ordgroup",mode:"math",body:[]},p[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(u)>-1);else{if(!("<>AV".indexOf(u)>-1))throw new n('Expected one of "<>AV=|." after @',l[c]);for(var m=0;m<2;m++){for(var f=!0,g=c+1;g<l.length;g++){if(r=u,("mathord"===(s=l[g]).type||"atom"===s.type)&&s.text===r){f=!1,c=g;break}if(Gt(l[g]))throw new n("Missing a "+u+" character to complete a CD arrow.",l[g]);p[m].body.push(l[g])}if(f)throw new n("Missing a "+u+" character to complete a CD arrow.",l[c])}}var v={type:"styling",body:[Yt(u,p,e)],mode:"math",style:"display"};o.push(v),d={type:"styling",body:[],mode:"math",style:"display"}}else d.body.push(l[c]);h%2==0?o.push(d):o.shift(),o=[],a.push(o)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}(e.parser)},htmlBuilder:Ri,mathmlBuilder:Fi}),st({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(e,t){throw new n(e.funcName+" valid only within array environment")}});var Qi=Bi;st({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(e,t){var i=e.parser,s=e.funcName,r=t[0];if("ordgroup"!==r.type)throw new n("Invalid environment name",r);for(var o="",a=0;a<r.body.length;++a)o+=Qt(r.body[a],"textord").text;if("\\begin"===s){if(!Qi.hasOwnProperty(o))throw new n("No such environment: "+o,r);var h=Qi[o],l=i.parseArguments("\\begin{"+o+"}",h),d=l.args,c=l.optArgs,u={mode:i.mode,envName:o,parser:i},p=h.handler(u,d,c);i.expect("\\end",!1);var m=i.nextToken,f=Qt(i.parseFunction(),"environment");if(f.name!==o)throw new n("Mismatch: \\begin{"+o+"} matched by \\end{"+f.name+"}",m);return p}return{type:"environment",mode:i.mode,name:o,nameGroup:r}}});var Hi=Ye.makeSpan;function ji(e,t){var i=pt(e.body,t,!0);return Hi([e.mclass],i,t)}function qi(e,t){var i,n=St(e.body,t);return"minner"===e.mclass?Et.newDocumentFragment(n):("mord"===e.mclass?e.isCharacterBox?(i=n[0]).type="mi":i=new Et.MathNode("mi",n):(e.isCharacterBox?(i=n[0]).type="mo":i=new Et.MathNode("mo",n),"mbin"===e.mclass?(i.attributes.lspace="0.22em",i.attributes.rspace="0.22em"):"mpunct"===e.mclass?(i.attributes.lspace="0em",i.attributes.rspace="0.17em"):"mopen"!==e.mclass&&"mclose"!==e.mclass||(i.attributes.lspace="0em",i.attributes.rspace="0em")),i)}st({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler:function(e,t){var i=e.parser,n=e.funcName,s=t[0];return{type:"mclass",mode:i.mode,mclass:"m"+n.substr(5),body:at(s),isCharacterBox:h.isCharacterBox(s)}},htmlBuilder:ji,mathmlBuilder:qi});var Wi=function(e){var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};st({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(e,t){return{type:"mclass",mode:e.parser.mode,mclass:Wi(t[0]),body:at(t[1]),isCharacterBox:h.isCharacterBox(t[1])}}}),st({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(e,t){var i,n=e.parser,s=e.funcName,r=t[1],o=t[0];i="\\stackrel"!==s?Wi(r):"mrel";var a={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==s,body:at(r)},l={type:"supsub",mode:o.mode,base:a,sup:"\\underset"===s?null:o,sub:"\\underset"===s?o:null};return{type:"mclass",mode:n.mode,mclass:i,body:[l],isCharacterBox:h.isCharacterBox(l)}},htmlBuilder:ji,mathmlBuilder:qi});var Vi=function(e,t){var i=e.font,n=t.withFont(i);return At(e.body,n)},Ui=function(e,t){var i=e.font,n=t.withFont(i);return Mt(e.body,n)},Xi={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};st({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:function(e,t){var i=e.parser,n=e.funcName,s=ot(t[0]),r=n;return r in Xi&&(r=Xi[r]),{type:"font",mode:i.mode,font:r.slice(1),body:s}},htmlBuilder:Vi,mathmlBuilder:Ui}),st({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:function(e,t){var i=e.parser,n=t[0],s=h.isCharacterBox(n);return{type:"mclass",mode:i.mode,mclass:Wi(n),body:[{type:"font",mode:i.mode,font:"boldsymbol",body:n}],isCharacterBox:s}}}),st({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var i=e.parser,n=e.funcName,s=e.breakOnTokenText,r=i.mode,o=i.parseExpression(!0,s);return{type:"font",mode:r,font:"math"+n.slice(1),body:{type:"ordgroup",mode:i.mode,body:o}}},htmlBuilder:Vi,mathmlBuilder:Ui});var Gi=function(e,t){var i=t;return"display"===e?i=i.id>=y.SCRIPT.id?i.text():y.DISPLAY:"text"===e&&i.size===y.DISPLAY.size?i=y.TEXT:"script"===e?i=y.SCRIPT:"scriptscript"===e&&(i=y.SCRIPTSCRIPT),i},Yi=function(e,t){var i,n=Gi(e.size,t.style),s=n.fracNum(),r=n.fracDen();i=t.havingStyle(s);var o=At(e.numer,i,t);if(e.continued){var a=8.5/t.fontMetrics().ptPerEm,h=3.5/t.fontMetrics().ptPerEm;o.height=o.height<a?a:o.height,o.depth=o.depth<h?h:o.depth}i=t.havingStyle(r);var l,d,c,u,p,m,f,g,v,A,x=At(e.denom,i,t);if(e.hasBarLine?(e.barSize?(d=F(e.barSize,t),l=Ye.makeLineSpan("frac-line",t,d)):l=Ye.makeLineSpan("frac-line",t),d=l.height,c=l.height):(l=null,d=0,c=t.fontMetrics().defaultRuleThickness),n.size===y.DISPLAY.size||"display"===e.size?(u=t.fontMetrics().num1,p=d>0?3*c:7*c,m=t.fontMetrics().denom1):(d>0?(u=t.fontMetrics().num2,p=c):(u=t.fontMetrics().num3,p=3*c),m=t.fontMetrics().denom2),l){var b=t.fontMetrics().axisHeight;u-o.depth-(b+.5*d)<p&&(u+=p-(u-o.depth-(b+.5*d))),b-.5*d-(x.height-m)<p&&(m+=p-(b-.5*d-(x.height-m)));var w=-(b-.5*d);f=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:x,shift:m},{type:"elem",elem:l,shift:w},{type:"elem",elem:o,shift:-u}]},t)}else{var k=u-o.depth-(x.height-m);k<p&&(u+=.5*(p-k),m+=.5*(p-k)),f=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:x,shift:m},{type:"elem",elem:o,shift:-u}]},t)}return i=t.havingStyle(n),f.height*=i.sizeMultiplier/t.sizeMultiplier,f.depth*=i.sizeMultiplier/t.sizeMultiplier,g=n.size===y.DISPLAY.size?t.fontMetrics().delim1:n.size===y.SCRIPTSCRIPT.size?t.havingStyle(y.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,v=null==e.leftDelim?yt(t,["mopen"]):ki.customSizedDelim(e.leftDelim,g,!0,t.havingStyle(n),e.mode,["mopen"]),A=e.continued?Ye.makeSpan([]):null==e.rightDelim?yt(t,["mclose"]):ki.customSizedDelim(e.rightDelim,g,!0,t.havingStyle(n),e.mode,["mclose"]),Ye.makeSpan(["mord"].concat(i.sizingClasses(t)),[v,Ye.makeSpan(["mfrac"],[f]),A],t)},Ki=function(e,t){var i=new Et.MathNode("mfrac",[Mt(e.numer,t),Mt(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var n=F(e.barSize,t);i.setAttribute("linethickness",z(n))}}else i.setAttribute("linethickness","0px");var s=Gi(e.size,t.style);if(s.size!==t.style.size){i=new Et.MathNode("mstyle",[i]);var r=s.size===y.DISPLAY.size?"true":"false";i.setAttribute("displaystyle",r),i.setAttribute("scriptlevel","0")}if(null!=e.leftDelim||null!=e.rightDelim){var o=[];if(null!=e.leftDelim){var a=new Et.MathNode("mo",[new Et.TextNode(e.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),o.push(a)}if(o.push(i),null!=e.rightDelim){var h=new Et.MathNode("mo",[new Et.TextNode(e.rightDelim.replace("\\",""))]);h.setAttribute("fence","true"),o.push(h)}return Nt(o)}return i};st({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:function(e,t){var i,n=e.parser,s=e.funcName,r=t[0],o=t[1],a=null,h=null,l="auto";switch(s){case"\\dfrac":case"\\frac":case"\\tfrac":i=!0;break;case"\\\\atopfrac":i=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":i=!1,a="(",h=")";break;case"\\\\bracefrac":i=!1,a="\\{",h="\\}";break;case"\\\\brackfrac":i=!1,a="[",h="]";break;default:throw new Error("Unrecognized genfrac command")}switch(s){case"\\dfrac":case"\\dbinom":l="display";break;case"\\tfrac":case"\\tbinom":l="text"}return{type:"genfrac",mode:n.mode,continued:!1,numer:r,denom:o,hasBarLine:i,leftDelim:a,rightDelim:h,size:l,barSize:null}},htmlBuilder:Yi,mathmlBuilder:Ki}),st({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:function(e,t){var i=e.parser;e.funcName;var n=t[0],s=t[1];return{type:"genfrac",mode:i.mode,continued:!0,numer:n,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),st({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(e){var t,i=e.parser,n=e.funcName,s=e.token;switch(n){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:i.mode,replaceWith:t,token:s}}});var Ji=["display","text","script","scriptscript"],Zi=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};st({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler:function(e,t){var i,n=e.parser,s=t[4],r=t[5],o=ot(t[0]),a="atom"===o.type&&"open"===o.family?Zi(o.text):null,h=ot(t[1]),l="atom"===h.type&&"close"===h.family?Zi(h.text):null,d=Qt(t[2],"size"),c=null;i=!!d.isBlank||(c=d.value).number>0;var u="auto",p=t[3];if("ordgroup"===p.type){if(p.body.length>0){var m=Qt(p.body[0],"textord");u=Ji[Number(m.text)]}}else p=Qt(p,"textord"),u=Ji[Number(p.text)];return{type:"genfrac",mode:n.mode,numer:s,denom:r,continued:!1,hasBarLine:i,barSize:c,leftDelim:a,rightDelim:l,size:u}},htmlBuilder:Yi,mathmlBuilder:Ki}),st({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(e,t){var i=e.parser;e.funcName;var n=e.token;return{type:"infix",mode:i.mode,replaceWith:"\\\\abovefrac",size:Qt(t[0],"size").value,token:n}}}),st({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(e,t){var i=e.parser;e.funcName;var n=t[0],s=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e}(Qt(t[1],"infix").size),r=t[2],o=s.number>0;return{type:"genfrac",mode:i.mode,numer:n,denom:r,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Yi,mathmlBuilder:Ki});var $i=function(e,t){var i,n,s=t.style;"supsub"===e.type?(i=e.sup?At(e.sup,t.havingStyle(s.sup()),t):At(e.sub,t.havingStyle(s.sub()),t),n=Qt(e.base,"horizBrace")):n=Qt(e,"horizBrace");var r,o=At(n.base,t.havingBaseStyle(y.DISPLAY)),a=zt(n,t);if(n.isOver?(r=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:a}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(r=Ye.makeVList({positionType:"bottom",positionData:o.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:o}]},t)).children[0].children[0].children[0].classes.push("svg-align"),i){var h=Ye.makeSpan(["mord",n.isOver?"mover":"munder"],[r],t);r=n.isOver?Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:i}]},t):Ye.makeVList({positionType:"bottom",positionData:h.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:h}]},t)}return Ye.makeSpan(["mord",n.isOver?"mover":"munder"],[r],t)};st({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(e,t){var i=e.parser,n=e.funcName;return{type:"horizBrace",mode:i.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:$i,mathmlBuilder:function(e,t){var i=Ft(e.label);return new Et.MathNode(e.isOver?"mover":"munder",[Mt(e.base,t),i])}}),st({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(e,t){var i=e.parser,n=t[1],s=Qt(t[0],"url").url;return i.settings.isTrusted({command:"\\href",url:s})?{type:"href",mode:i.mode,href:s,body:at(n)}:i.formatUnsupportedCmd("\\href")},htmlBuilder:function(e,t){var i=pt(e.body,t,!1);return Ye.makeAnchor(e.href,[],i,t)},mathmlBuilder:function(e,t){var i=Bt(e.body,t);return i instanceof kt||(i=new kt("mrow",[i])),i.setAttribute("href",e.href),i}}),st({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(e,t){var i=e.parser,n=Qt(t[0],"url").url;if(!i.settings.isTrusted({command:"\\url",url:n}))return i.formatUnsupportedCmd("\\url");for(var s=[],r=0;r<n.length;r++){var o=n[r];"~"===o&&(o="\\textasciitilde"),s.push({type:"textord",mode:"text",text:o})}var a={type:"text",mode:i.mode,font:"\\texttt",body:s};return{type:"href",mode:i.mode,href:n,body:at(a)}}}),st({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler:function(e,t){return{type:"hbox",mode:e.parser.mode,body:at(t[0])}},htmlBuilder:function(e,t){var i=pt(e.body,t,!1);return Ye.makeFragment(i)},mathmlBuilder:function(e,t){return new Et.MathNode("mrow",St(e.body,t))}}),st({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:function(e,t){var i=e.parser,s=e.funcName;e.token;var r,o=Qt(t[0],"raw").string,a=t[1];i.settings.strict&&i.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var h={};switch(s){case"\\htmlClass":h.class=o,r={command:"\\htmlClass",class:o};break;case"\\htmlId":h.id=o,r={command:"\\htmlId",id:o};break;case"\\htmlStyle":h.style=o,r={command:"\\htmlStyle",style:o};break;case"\\htmlData":for(var l=o.split(","),d=0;d<l.length;d++){var c=l[d].split("=");if(2!==c.length)throw new n("Error parsing key-value for \\htmlData");h["data-"+c[0].trim()]=c[1].trim()}r={command:"\\htmlData",attributes:h};break;default:throw new Error("Unrecognized html command")}return i.settings.isTrusted(r)?{type:"html",mode:i.mode,attributes:h,body:at(a)}:i.formatUnsupportedCmd(s)},htmlBuilder:function(e,t){var i=pt(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push.apply(n,e.attributes.class.trim().split(/\s+/));var s=Ye.makeSpan(n,i,t);for(var r in e.attributes)"class"!==r&&e.attributes.hasOwnProperty(r)&&s.setAttribute(r,e.attributes[r]);return s},mathmlBuilder:function(e,t){return Bt(e.body,t)}}),st({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(e,t){return{type:"htmlmathml",mode:e.parser.mode,html:at(t[0]),mathml:at(t[1])}},htmlBuilder:function(e,t){var i=pt(e.html,t,!1);return Ye.makeFragment(i)},mathmlBuilder:function(e,t){return Bt(e.mathml,t)}});var en=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new n("Invalid size: '"+e+"' in \\includegraphics");var i={number:+(t[1]+t[2]),unit:t[3]};if(!_(i))throw new n("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};st({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(e,t,i){var s=e.parser,r={number:0,unit:"em"},o={number:.9,unit:"em"},a={number:0,unit:"em"},h="";if(i[0])for(var l=Qt(i[0],"raw").string.split(","),d=0;d<l.length;d++){var c=l[d].split("=");if(2===c.length){var u=c[1].trim();switch(c[0].trim()){case"alt":h=u;break;case"width":r=en(u);break;case"height":o=en(u);break;case"totalheight":a=en(u);break;default:throw new n("Invalid key: '"+c[0]+"' in \\includegraphics.")}}}var p=Qt(t[0],"url").url;return""===h&&(h=(h=(h=p).replace(/^.*[\\/]/,"")).substring(0,h.lastIndexOf("."))),s.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:s.mode,alt:h,width:r,height:o,totalheight:a,src:p}:s.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(e,t){var i=F(e.height,t),n=0;e.totalheight.number>0&&(n=F(e.totalheight,t)-i);var s=0;e.width.number>0&&(s=F(e.width,t));var r={height:z(i+n)};s>0&&(r.width=z(s)),n>0&&(r.verticalAlign=z(-n));var o=new U(e.src,e.alt,r);return o.height=i,o.depth=n,o},mathmlBuilder:function(e,t){var i=new Et.MathNode("mglyph",[]);i.setAttribute("alt",e.alt);var n=F(e.height,t),s=0;if(e.totalheight.number>0&&(s=F(e.totalheight,t)-n,i.setAttribute("valign",z(-s))),i.setAttribute("height",z(n+s)),e.width.number>0){var r=F(e.width,t);i.setAttribute("width",z(r))}return i.setAttribute("src",e.src),i}}),st({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler:function(e,t){var i=e.parser,n=e.funcName,s=Qt(t[0],"size");if(i.settings.strict){var r="m"===n[1],o="mu"===s.value.unit;r?(o||i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, not "+s.value.unit+" units"),"math"!==i.mode&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):o&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:i.mode,dimension:s.value}},htmlBuilder:function(e,t){return Ye.makeGlue(e.dimension,t)},mathmlBuilder:function(e,t){var i=F(e.dimension,t);return new Et.SpaceNode(i)}}),st({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var i=e.parser,n=e.funcName,s=t[0];return{type:"lap",mode:i.mode,alignment:n.slice(5),body:s}},htmlBuilder:function(e,t){var i;"clap"===e.alignment?(i=Ye.makeSpan([],[At(e.body,t)]),i=Ye.makeSpan(["inner"],[i],t)):i=Ye.makeSpan(["inner"],[At(e.body,t)]);var n=Ye.makeSpan(["fix"],[]),s=Ye.makeSpan([e.alignment],[i,n],t),r=Ye.makeSpan(["strut"]);return r.style.height=z(s.height+s.depth),s.depth&&(r.style.verticalAlign=z(-s.depth)),s.children.unshift(r),s=Ye.makeSpan(["thinbox"],[s],t),Ye.makeSpan(["mord","vbox"],[s],t)},mathmlBuilder:function(e,t){var i=new Et.MathNode("mpadded",[Mt(e.body,t)]);if("rlap"!==e.alignment){var n="llap"===e.alignment?"-1":"-0.5";i.setAttribute("lspace",n+"width")}return i.setAttribute("width","0px"),i}}),st({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){var i=e.funcName,n=e.parser,s=n.mode;n.switchMode("math");var r="\\("===i?"\\)":"$",o=n.parseExpression(!1,r);return n.expect(r),n.switchMode(s),{type:"styling",mode:n.mode,style:"text",body:o}}}),st({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){throw new n("Mismatched "+e.funcName)}});var tn=function(e,t){switch(t.style.size){case y.DISPLAY.size:return e.display;case y.TEXT.size:return e.text;case y.SCRIPT.size:return e.script;case y.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};st({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:function(e,t){return{type:"mathchoice",mode:e.parser.mode,display:at(t[0]),text:at(t[1]),script:at(t[2]),scriptscript:at(t[3])}},htmlBuilder:function(e,t){var i=tn(e,t),n=pt(i,t,!1);return Ye.makeFragment(n)},mathmlBuilder:function(e,t){var i=tn(e,t);return Bt(i,t)}});var nn=function(e,t,i,n,s,r,o){e=Ye.makeSpan([],[e]);var a,l,d,c=i&&h.isCharacterBox(i);if(t){var u=At(t,n.havingStyle(s.sup()),n);l={elem:u,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-u.depth)}}if(i){var p=At(i,n.havingStyle(s.sub()),n);a={elem:p,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-p.height)}}if(l&&a){var m=n.fontMetrics().bigOpSpacing5+a.elem.height+a.elem.depth+a.kern+e.depth+o;d=Ye.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:z(-r)},{type:"kern",size:a.kern},{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:z(r)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(a){var f=e.height-o;d=Ye.makeVList({positionType:"top",positionData:f,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:z(-r)},{type:"kern",size:a.kern},{type:"elem",elem:e}]},n)}else{if(!l)return e;var g=e.depth+o;d=Ye.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:z(r)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}var v=[d];if(a&&0!==r&&!c){var y=Ye.makeSpan(["mspace"],[],n);y.style.marginRight=z(r),v.unshift(y)}return Ye.makeSpan(["mop","op-limits"],v,n)},sn=["\\smallint"],rn=function(e,t){var i,n,s,r=!1;"supsub"===e.type?(i=e.sup,n=e.sub,s=Qt(e.base,"op"),r=!0):s=Qt(e,"op");var o,a=t.style,l=!1;if(a.size===y.DISPLAY.size&&s.symbol&&!h.contains(sn,s.name)&&(l=!0),s.symbol){var d=l?"Size2-Regular":"Size1-Regular",c="";if("\\oiint"!==s.name&&"\\oiiint"!==s.name||(c=s.name.substr(1),s.name="oiint"===c?"\\iint":"\\iiint"),o=Ye.makeSymbol(s.name,d,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),c.length>0){var u=o.italic,p=Ye.staticSvg(c+"Size"+(l?"2":"1"),t);o=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:p,shift:l?.08:0}]},t),s.name="\\"+c,o.classes.unshift("mop"),o.italic=u}}else if(s.body){var m=pt(s.body,t,!0);1===m.length&&m[0]instanceof G?(o=m[0]).classes[0]="mop":o=Ye.makeSpan(["mop"],m,t)}else{for(var f=[],g=1;g<s.name.length;g++)f.push(Ye.mathsym(s.name[g],s.mode,t));o=Ye.makeSpan(["mop"],f,t)}var v=0,A=0;return(o instanceof G||"\\oiint"===s.name||"\\oiiint"===s.name)&&!s.suppressBaseShift&&(v=(o.height-o.depth)/2-t.fontMetrics().axisHeight,A=o.italic),r?nn(o,i,n,t,a,A,v):(v&&(o.style.position="relative",o.style.top=z(v)),o)},on=function(e,t){var i;if(e.symbol)i=new kt("mo",[Dt(e.name,e.mode)]),h.contains(sn,e.name)&&i.setAttribute("largeop","false");else if(e.body)i=new kt("mo",St(e.body,t));else{i=new kt("mi",[new Ct(e.name.slice(1))]);var n=new kt("mo",[Dt("⁡","text")]);i=e.parentIsSupSub?new kt("mrow",[i,n]):wt([i,n])}return i},an={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};st({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:function(e,t){var i=e.parser,n=e.funcName;return 1===n.length&&(n=an[n]),{type:"op",mode:i.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:rn,mathmlBuilder:on}),st({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:function(e,t){var i=e.parser,n=t[0];return{type:"op",mode:i.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:at(n)}},htmlBuilder:rn,mathmlBuilder:on});var hn={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};st({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(e){var t=e.parser,i=e.funcName;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:rn,mathmlBuilder:on}),st({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(e){var t=e.parser,i=e.funcName;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:rn,mathmlBuilder:on}),st({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler:function(e){var t=e.parser,i=e.funcName;return 1===i.length&&(i=hn[i]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:rn,mathmlBuilder:on});var ln={};function dn(e,t){ln[e]=t}var cn=function(e,t){var i,n,s,r,o=!1;if("supsub"===e.type?(i=e.sup,n=e.sub,s=Qt(e.base,"operatorname"),o=!0):s=Qt(e,"operatorname"),s.body.length>0){for(var a=s.body.map((function(e){var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e})),h=pt(a,t.withFont("mathrm"),!0),l=0;l<h.length;l++){var d=h[l];d instanceof G&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}r=Ye.makeSpan(["mop"],h,t)}else r=Ye.makeSpan(["mop"],[],t);return o?nn(r,i,n,t,t.style,0,0):r};function un(e,t,i){for(var n=pt(e,t,!1),s=t.sizeMultiplier/i.sizeMultiplier,r=0;r<n.length;r++){var o=n[r].classes.indexOf("sizing");o<0?Array.prototype.push.apply(n[r].classes,t.sizingClasses(i)):n[r].classes[o+1]==="reset-size"+t.size&&(n[r].classes[o+1]="reset-size"+i.size),n[r].height*=s,n[r].depth*=s}return Ye.makeFragment(n)}st({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:function(e,t){var i=e.parser,n=e.funcName,s=t[0];return{type:"operatorname",mode:i.mode,body:at(s),alwaysHandleSupSub:"\\operatornamewithlimits"===n,limits:!1,parentIsSupSub:!1}},htmlBuilder:cn,mathmlBuilder:function(e,t){for(var i=St(e.body,t.withFont("mathrm")),n=!0,s=0;s<i.length;s++){var r=i[s];if(r instanceof Et.SpaceNode);else if(r instanceof Et.MathNode)switch(r.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var o=r.children[0];1===r.children.length&&o instanceof Et.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break;default:n=!1}else n=!1}if(n){var a=i.map((function(e){return e.toText()})).join("");i=[new Et.TextNode(a)]}var h=new Et.MathNode("mi",i);h.setAttribute("mathvariant","normal");var l=new Et.MathNode("mo",[Dt("⁡","text")]);return e.parentIsSupSub?new Et.MathNode("mrow",[h,l]):Et.newDocumentFragment([h,l])}}),dn("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),rt({type:"ordgroup",htmlBuilder:function(e,t){return e.semisimple?Ye.makeFragment(pt(e.body,t,!1)):Ye.makeSpan(["mord"],pt(e.body,t,!0),t)},mathmlBuilder:function(e,t){return Bt(e.body,t,!0)}}),st({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(e,t){var i=e.parser,n=t[0];return{type:"overline",mode:i.mode,body:n}},htmlBuilder:function(e,t){var i=At(e.body,t.havingCrampedStyle()),n=Ye.makeLineSpan("overline-line",t),s=t.fontMetrics().defaultRuleThickness,r=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:3*s},{type:"elem",elem:n},{type:"kern",size:s}]},t);return Ye.makeSpan(["mord","overline"],[r],t)},mathmlBuilder:function(e,t){var i=new Et.MathNode("mo",[new Et.TextNode("‾")]);i.setAttribute("stretchy","true");var n=new Et.MathNode("mover",[Mt(e.body,t),i]);return n.setAttribute("accent","true"),n}}),st({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var i=e.parser,n=t[0];return{type:"phantom",mode:i.mode,body:at(n)}},htmlBuilder:function(e,t){var i=pt(e.body,t.withPhantom(),!1);return Ye.makeFragment(i)},mathmlBuilder:function(e,t){var i=St(e.body,t);return new Et.MathNode("mphantom",i)}}),st({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var i=e.parser,n=t[0];return{type:"hphantom",mode:i.mode,body:n}},htmlBuilder:function(e,t){var i=Ye.makeSpan([],[At(e.body,t.withPhantom())]);if(i.height=0,i.depth=0,i.children)for(var n=0;n<i.children.length;n++)i.children[n].height=0,i.children[n].depth=0;return i=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},t),Ye.makeSpan(["mord"],[i],t)},mathmlBuilder:function(e,t){var i=St(at(e.body),t),n=new Et.MathNode("mphantom",i),s=new Et.MathNode("mpadded",[n]);return s.setAttribute("height","0px"),s.setAttribute("depth","0px"),s}}),st({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var i=e.parser,n=t[0];return{type:"vphantom",mode:i.mode,body:n}},htmlBuilder:function(e,t){var i=Ye.makeSpan(["inner"],[At(e.body,t.withPhantom())]),n=Ye.makeSpan(["fix"],[]);return Ye.makeSpan(["mord","rlap"],[i,n],t)},mathmlBuilder:function(e,t){var i=St(at(e.body),t),n=new Et.MathNode("mphantom",i),s=new Et.MathNode("mpadded",[n]);return s.setAttribute("width","0px"),s}}),st({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(e,t){var i=e.parser,n=Qt(t[0],"size").value,s=t[1];return{type:"raisebox",mode:i.mode,dy:n,body:s}},htmlBuilder:function(e,t){var i=At(e.body,t),n=F(e.dy,t);return Ye.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:i}]},t)},mathmlBuilder:function(e,t){var i=new Et.MathNode("mpadded",[Mt(e.body,t)]),n=e.dy.number+e.dy.unit;return i.setAttribute("voffset",n),i}}),st({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(e,t,i){var n=e.parser,s=i[0],r=Qt(t[0],"size"),o=Qt(t[1],"size");return{type:"rule",mode:n.mode,shift:s&&Qt(s,"size").value,width:r.value,height:o.value}},htmlBuilder:function(e,t){var i=Ye.makeSpan(["mord","rule"],[],t),n=F(e.width,t),s=F(e.height,t),r=e.shift?F(e.shift,t):0;return i.style.borderRightWidth=z(n),i.style.borderTopWidth=z(s),i.style.bottom=z(r),i.width=n,i.height=s+r,i.depth=-r,i.maxFontSize=1.125*s*t.sizeMultiplier,i},mathmlBuilder:function(e,t){var i=F(e.width,t),n=F(e.height,t),s=e.shift?F(e.shift,t):0,r=t.color&&t.getColor()||"black",o=new Et.MathNode("mspace");o.setAttribute("mathbackground",r),o.setAttribute("width",z(i)),o.setAttribute("height",z(n));var a=new Et.MathNode("mpadded",[o]);return s>=0?a.setAttribute("height",z(s)):(a.setAttribute("height",z(s)),a.setAttribute("depth",z(-s))),a.setAttribute("voffset",z(s)),a}});var pn=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];st({type:"sizing",names:pn,props:{numArgs:0,allowedInText:!0},handler:function(e,t){var i=e.breakOnTokenText,n=e.funcName,s=e.parser,r=s.parseExpression(!1,i);return{type:"sizing",mode:s.mode,size:pn.indexOf(n)+1,body:r}},htmlBuilder:function(e,t){var i=t.havingSize(e.size);return un(e.body,i,t)},mathmlBuilder:function(e,t){var i=t.havingSize(e.size),n=St(e.body,i),s=new Et.MathNode("mstyle",n);return s.setAttribute("mathsize",z(i.sizeMultiplier)),s}}),st({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(e,t,i){var n=e.parser,s=!1,r=!1,o=i[0]&&Qt(i[0],"ordgroup");if(o)for(var a="",h=0;h<o.body.length;++h)if("t"===(a=o.body[h].text))s=!0;else{if("b"!==a){s=!1,r=!1;break}r=!0}else s=!0,r=!0;var l=t[0];return{type:"smash",mode:n.mode,body:l,smashHeight:s,smashDepth:r}},htmlBuilder:function(e,t){var i=Ye.makeSpan([],[At(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return i;if(e.smashHeight&&(i.height=0,i.children))for(var n=0;n<i.children.length;n++)i.children[n].height=0;if(e.smashDepth&&(i.depth=0,i.children))for(var s=0;s<i.children.length;s++)i.children[s].depth=0;var r=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},t);return Ye.makeSpan(["mord"],[r],t)},mathmlBuilder:function(e,t){var i=new Et.MathNode("mpadded",[Mt(e.body,t)]);return e.smashHeight&&i.setAttribute("height","0px"),e.smashDepth&&i.setAttribute("depth","0px"),i}}),st({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,i){var n=e.parser,s=i[0],r=t[0];return{type:"sqrt",mode:n.mode,body:r,index:s}},htmlBuilder:function(e,t){var i=At(e.body,t.havingCrampedStyle());0===i.height&&(i.height=t.fontMetrics().xHeight),i=Ye.wrapFragment(i,t);var n=t.fontMetrics().defaultRuleThickness,s=n;t.style.id<y.TEXT.id&&(s=t.fontMetrics().xHeight);var r=n+s/4,o=i.height+i.depth+r+n,a=ki.sqrtImage(o,t),h=a.span,l=a.ruleWidth,d=a.advanceWidth,c=h.height-l;c>i.height+i.depth+r&&(r=(r+c-i.height-i.depth)/2);var u=h.height-i.height-r-l;i.style.paddingLeft=z(d);var p=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:-(i.height+u)},{type:"elem",elem:h},{type:"kern",size:l}]},t);if(e.index){var m=t.havingStyle(y.SCRIPTSCRIPT),f=At(e.index,m,t),g=.6*(p.height-p.depth),v=Ye.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:f}]},t),A=Ye.makeSpan(["root"],[v]);return Ye.makeSpan(["mord","sqrt"],[A,p],t)}return Ye.makeSpan(["mord","sqrt"],[p],t)},mathmlBuilder:function(e,t){var i=e.body,n=e.index;return n?new Et.MathNode("mroot",[Mt(i,t),Mt(n,t)]):new Et.MathNode("msqrt",[Mt(i,t)])}});var mn={display:y.DISPLAY,text:y.TEXT,script:y.SCRIPT,scriptscript:y.SCRIPTSCRIPT};st({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e,t){var i=e.breakOnTokenText,n=e.funcName,s=e.parser,r=s.parseExpression(!0,i),o=n.slice(1,n.length-5);return{type:"styling",mode:s.mode,style:o,body:r}},htmlBuilder:function(e,t){var i=mn[e.style],n=t.havingStyle(i).withFont("");return un(e.body,n,t)},mathmlBuilder:function(e,t){var i=mn[e.style],n=t.havingStyle(i),s=St(e.body,n),r=new Et.MathNode("mstyle",s),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return r.setAttribute("scriptlevel",o[0]),r.setAttribute("displaystyle",o[1]),r}});var fn=function(e,t){var i=e.base;return i?"op"===i.type?i.limits&&(t.style.size===y.DISPLAY.size||i.alwaysHandleSupSub)?rn:null:"operatorname"===i.type?i.alwaysHandleSupSub&&(t.style.size===y.DISPLAY.size||i.limits)?cn:null:"accent"===i.type?h.isCharacterBox(i.base)?qt:null:"horizBrace"===i.type&&!e.sub===i.isOver?$i:null:null};rt({type:"supsub",htmlBuilder:function(e,t){var i=fn(e,t);if(i)return i(e,t);var n,s,r,o=e.base,a=e.sup,l=e.sub,d=At(o,t),c=t.fontMetrics(),u=0,p=0,m=o&&h.isCharacterBox(o);if(a){var f=t.havingStyle(t.style.sup());n=At(a,f,t),m||(u=d.height-f.fontMetrics().supDrop*f.sizeMultiplier/t.sizeMultiplier)}if(l){var g=t.havingStyle(t.style.sub());s=At(l,g,t),m||(p=d.depth+g.fontMetrics().subDrop*g.sizeMultiplier/t.sizeMultiplier)}r=t.style===y.DISPLAY?c.sup1:t.style.cramped?c.sup3:c.sup2;var v,A=t.sizeMultiplier,x=z(.5/c.ptPerEm/A),b=null;if(s){var w=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(d instanceof G||w)&&(b=z(-d.italic))}if(n&&s){u=Math.max(u,r,n.depth+.25*c.xHeight),p=Math.max(p,c.sub2);var k=4*c.defaultRuleThickness;if(u-n.depth-(s.height-p)<k){p=k-(u-n.depth)+s.height;var C=.8*c.xHeight-(u-n.depth);C>0&&(u+=C,p-=C)}var E=[{type:"elem",elem:s,shift:p,marginRight:x,marginLeft:b},{type:"elem",elem:n,shift:-u,marginRight:x}];v=Ye.makeVList({positionType:"individualShift",children:E},t)}else if(s){p=Math.max(p,c.sub1,s.height-.8*c.xHeight);var D=[{type:"elem",elem:s,marginLeft:b,marginRight:x}];v=Ye.makeVList({positionType:"shift",positionData:p,children:D},t)}else{if(!n)throw new Error("supsub must have either sup or sub.");u=Math.max(u,r,n.depth+.25*c.xHeight),v=Ye.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:n,marginRight:x}]},t)}var N=vt(d,"right")||"mord";return Ye.makeSpan([N],[d,Ye.makeSpan(["msupsub"],[v])],t)},mathmlBuilder:function(e,t){var i,n=!1;e.base&&"horizBrace"===e.base.type&&!!e.sup===e.base.isOver&&(n=!0,i=e.base.isOver),!e.base||"op"!==e.base.type&&"operatorname"!==e.base.type||(e.base.parentIsSupSub=!0);var s,r=[Mt(e.base,t)];if(e.sub&&r.push(Mt(e.sub,t)),e.sup&&r.push(Mt(e.sup,t)),n)s=i?"mover":"munder";else if(e.sub)if(e.sup){var o=e.base;s=o&&"op"===o.type&&o.limits&&t.style===y.DISPLAY||o&&"operatorname"===o.type&&o.alwaysHandleSupSub&&(t.style===y.DISPLAY||o.limits)?"munderover":"msubsup"}else{var a=e.base;s=a&&"op"===a.type&&a.limits&&(t.style===y.DISPLAY||a.alwaysHandleSupSub)||a&&"operatorname"===a.type&&a.alwaysHandleSupSub&&(a.limits||t.style===y.DISPLAY)?"munder":"msub"}else{var h=e.base;s=h&&"op"===h.type&&h.limits&&(t.style===y.DISPLAY||h.alwaysHandleSupSub)||h&&"operatorname"===h.type&&h.alwaysHandleSupSub&&(h.limits||t.style===y.DISPLAY)?"mover":"msup"}return new Et.MathNode(s,r)}}),rt({type:"atom",htmlBuilder:function(e,t){return Ye.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder:function(e,t){var i=new Et.MathNode("mo",[Dt(e.text,e.mode)]);if("bin"===e.family){var n=It(e,t);"bold-italic"===n&&i.setAttribute("mathvariant",n)}else"punct"===e.family?i.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||i.setAttribute("stretchy","false");return i}});var gn={mi:"italic",mn:"normal",mtext:"normal"};rt({type:"mathord",htmlBuilder:function(e,t){return Ye.makeOrd(e,t,"mathord")},mathmlBuilder:function(e,t){var i=new Et.MathNode("mi",[Dt(e.text,e.mode,t)]),n=It(e,t)||"italic";return n!==gn[i.type]&&i.setAttribute("mathvariant",n),i}}),rt({type:"textord",htmlBuilder:function(e,t){return Ye.makeOrd(e,t,"textord")},mathmlBuilder:function(e,t){var i,n=Dt(e.text,e.mode,t),s=It(e,t)||"normal";return i="text"===e.mode?new Et.MathNode("mtext",[n]):/[0-9]/.test(e.text)?new Et.MathNode("mn",[n]):"\\prime"===e.text?new Et.MathNode("mo",[n]):new Et.MathNode("mi",[n]),s!==gn[i.type]&&i.setAttribute("mathvariant",s),i}});var vn={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},yn={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};rt({type:"spacing",htmlBuilder:function(e,t){if(yn.hasOwnProperty(e.text)){var i=yn[e.text].className||"";if("text"===e.mode){var s=Ye.makeOrd(e,t,"textord");return s.classes.push(i),s}return Ye.makeSpan(["mspace",i],[Ye.mathsym(e.text,e.mode,t)],t)}if(vn.hasOwnProperty(e.text))return Ye.makeSpan(["mspace",vn[e.text]],[],t);throw new n('Unknown type of space "'+e.text+'"')},mathmlBuilder:function(e,t){if(!yn.hasOwnProperty(e.text)){if(vn.hasOwnProperty(e.text))return new Et.MathNode("mspace");throw new n('Unknown type of space "'+e.text+'"')}return new Et.MathNode("mtext",[new Et.TextNode(" ")])}});var An=function(){var e=new Et.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};rt({type:"tag",mathmlBuilder:function(e,t){var i=new Et.MathNode("mtable",[new Et.MathNode("mtr",[An(),new Et.MathNode("mtd",[Bt(e.body,t)]),An(),new Et.MathNode("mtd",[Bt(e.tag,t)])])]);return i.setAttribute("width","100%"),i}});var xn={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},bn={"\\textbf":"textbf","\\textmd":"textmd"},wn={"\\textit":"textit","\\textup":"textup"},kn=function(e,t){var i=e.font;return i?xn[i]?t.withTextFontFamily(xn[i]):bn[i]?t.withTextFontWeight(bn[i]):t.withTextFontShape(wn[i]):t};st({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler:function(e,t){var i=e.parser,n=e.funcName,s=t[0];return{type:"text",mode:i.mode,body:at(s),font:n}},htmlBuilder:function(e,t){var i=kn(e,t),n=pt(e.body,i,!0);return Ye.makeSpan(["mord","text"],n,i)},mathmlBuilder:function(e,t){var i=kn(e,t);return Bt(e.body,i)}}),st({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){return{type:"underline",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){var i=At(e.body,t),n=Ye.makeLineSpan("underline-line",t),s=t.fontMetrics().defaultRuleThickness,r=Ye.makeVList({positionType:"top",positionData:i.height,children:[{type:"kern",size:s},{type:"elem",elem:n},{type:"kern",size:3*s},{type:"elem",elem:i}]},t);return Ye.makeSpan(["mord","underline"],[r],t)},mathmlBuilder:function(e,t){var i=new Et.MathNode("mo",[new Et.TextNode("‾")]);i.setAttribute("stretchy","true");var n=new Et.MathNode("munder",[Mt(e.body,t),i]);return n.setAttribute("accentunder","true"),n}}),st({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler:function(e,t){return{type:"vcenter",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){var i=At(e.body,t),n=t.fontMetrics().axisHeight,s=.5*(i.height-n-(i.depth+n));return Ye.makeVList({positionType:"shift",positionData:s,children:[{type:"elem",elem:i}]},t)},mathmlBuilder:function(e,t){return new Et.MathNode("mpadded",[Mt(e.body,t)],["vcenter"])}}),st({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(e,t,i){throw new n("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(e,t){for(var i=Cn(e),n=[],s=t.havingStyle(t.style.text()),r=0;r<i.length;r++){var o=i[r];"~"===o&&(o="\\textasciitilde"),n.push(Ye.makeSymbol(o,"Typewriter-Regular",e.mode,s,["mord","texttt"]))}return Ye.makeSpan(["mord","text"].concat(s.sizingClasses(t)),Ye.tryCombineChars(n),s)},mathmlBuilder:function(e,t){var i=new Et.TextNode(Cn(e)),n=new Et.MathNode("mtext",[i]);return n.setAttribute("mathvariant","monospace"),n}});var Cn=function(e){return e.body.replace(/ /g,e.star?"␣":" ")},En=tt,Dn=function(){function e(e,t,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=i}return e.range=function(t,i){return i?t&&t.loc&&i.loc&&t.loc.lexer===i.loc.lexer?new e(t.loc.lexer,t.loc.start,i.loc.end):null:t&&t.loc},e}(),Nn=function(){function e(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}return e.prototype.range=function(t,i){return new e(i,Dn.range(this,t))},e}(),In="[ \r\n\t]",Sn="(\\\\[a-zA-Z@]+)"+In+"*",Bn="[̀-ͯ]",Mn=new RegExp(Bn+"+$"),Tn="("+In+"+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-‧‪-퟿豈-￿]"+Bn+"*|[\ud800-\udbff][\udc00-\udfff]"+Bn+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+Sn+"|\\\\[^\ud800-\udfff])",Ln=function(){function e(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(Tn,"g"),this.catcodes={"%":14,"~":13}}var t=e.prototype;return t.setCatcode=function(e,t){this.catcodes[e]=t},t.lex=function(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Nn("EOF",new Dn(this,t,t));var i=this.tokenRegex.exec(e);if(null===i||i.index!==t)throw new n("Unexpected character: '"+e[t]+"'",new Nn(e[t],new Dn(this,t,t+1)));var s=i[6]||i[3]||(i[2]?"\\ ":" ");if(14===this.catcodes[s]){var r=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===r?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=r+1,this.lex()}return new Nn(s,new Dn(this,t,this.tokenRegex.lastIndex))},e}(),Pn=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}var t=e.prototype;return t.beginGroup=function(){this.undefStack.push({})},t.endGroup=function(){if(0===this.undefStack.length)throw new n("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(void 0===e[t]?delete this.current[t]:this.current[t]=e[t])},t.endGroups=function(){for(;this.undefStack.length>0;)this.endGroup()},t.has=function(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)},t.get=function(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]},t.set=function(e,t,i){if(void 0===i&&(i=!1),i){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}this.current[e]=t},e}(),On=ln;dn("\\noexpand",(function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}})),dn("\\expandafter",(function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}})),dn("\\@firstoftwo",(function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}})),dn("\\@secondoftwo",(function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}})),dn("\\@ifnextchar",(function(e){var t=e.consumeArgs(3);e.consumeSpaces();var i=e.future();return 1===t[0].length&&t[0][0].text===i.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}})),dn("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),dn("\\TextOrMath",(function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}}));var Rn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};dn("\\char",(function(e){var t,i=e.popToken(),s="";if("'"===i.text)t=8,i=e.popToken();else if('"'===i.text)t=16,i=e.popToken();else if("`"===i.text)if("\\"===(i=e.popToken()).text[0])s=i.text.charCodeAt(1);else{if("EOF"===i.text)throw new n("\\char` missing argument");s=i.text.charCodeAt(0)}else t=10;if(t){if(null==(s=Rn[i.text])||s>=t)throw new n("Invalid base-"+t+" digit "+i.text);for(var r;null!=(r=Rn[e.future().text])&&r<t;)s*=t,s+=r,e.popToken()}return"\\@char{"+s+"}"}));var _n=function(e,t,i){var s=e.consumeArg().tokens;if(1!==s.length)throw new n("\\newcommand's first argument must be a macro name");var r=s[0].text,o=e.isDefined(r);if(o&&!t)throw new n("\\newcommand{"+r+"} attempting to redefine "+r+"; use \\renewcommand");if(!o&&!i)throw new n("\\renewcommand{"+r+"} when command "+r+" does not yet exist; use \\newcommand");var a=0;if(1===(s=e.consumeArg().tokens).length&&"["===s[0].text){for(var h="",l=e.expandNextToken();"]"!==l.text&&"EOF"!==l.text;)h+=l.text,l=e.expandNextToken();if(!h.match(/^\s*[0-9]+\s*$/))throw new n("Invalid number of arguments: "+h);a=parseInt(h),s=e.consumeArg().tokens}return e.macros.set(r,{tokens:s,numArgs:a}),""};dn("\\newcommand",(function(e){return _n(e,!1,!0)})),dn("\\renewcommand",(function(e){return _n(e,!0,!1)})),dn("\\providecommand",(function(e){return _n(e,!0,!0)})),dn("\\message",(function(e){var t=e.consumeArgs(1)[0];return console.log(t.reverse().map((function(e){return e.text})).join("")),""})),dn("\\errmessage",(function(e){var t=e.consumeArgs(1)[0];return console.error(t.reverse().map((function(e){return e.text})).join("")),""})),dn("\\show",(function(e){var t=e.popToken(),i=t.text;return console.log(t,e.macros.get(i),En[i],ie.math[i],ie.text[i]),""})),dn("\\bgroup","{"),dn("\\egroup","}"),dn("~","\\nobreakspace"),dn("\\lq","`"),dn("\\rq","'"),dn("\\aa","\\r a"),dn("\\AA","\\r A"),dn("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),dn("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),dn("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),dn("ℬ","\\mathscr{B}"),dn("ℰ","\\mathscr{E}"),dn("ℱ","\\mathscr{F}"),dn("ℋ","\\mathscr{H}"),dn("ℐ","\\mathscr{I}"),dn("ℒ","\\mathscr{L}"),dn("ℳ","\\mathscr{M}"),dn("ℛ","\\mathscr{R}"),dn("ℭ","\\mathfrak{C}"),dn("ℌ","\\mathfrak{H}"),dn("ℨ","\\mathfrak{Z}"),dn("\\Bbbk","\\Bbb{k}"),dn("·","\\cdotp"),dn("\\llap","\\mathllap{\\textrm{#1}}"),dn("\\rlap","\\mathrlap{\\textrm{#1}}"),dn("\\clap","\\mathclap{\\textrm{#1}}"),dn("\\mathstrut","\\vphantom{(}"),dn("\\underbar","\\underline{\\text{#1}}"),dn("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),dn("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),dn("\\ne","\\neq"),dn("≠","\\neq"),dn("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),dn("∉","\\notin"),dn("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),dn("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),dn("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),dn("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),dn("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),dn("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),dn("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),dn("⟂","\\perp"),dn("‼","\\mathclose{!\\mkern-0.8mu!}"),dn("∌","\\notni"),dn("⌜","\\ulcorner"),dn("⌝","\\urcorner"),dn("⌞","\\llcorner"),dn("⌟","\\lrcorner"),dn("©","\\copyright"),dn("®","\\textregistered"),dn("️","\\textregistered"),dn("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),dn("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),dn("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),dn("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),dn("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),dn("⋮","\\vdots"),dn("\\varGamma","\\mathit{\\Gamma}"),dn("\\varDelta","\\mathit{\\Delta}"),dn("\\varTheta","\\mathit{\\Theta}"),dn("\\varLambda","\\mathit{\\Lambda}"),dn("\\varXi","\\mathit{\\Xi}"),dn("\\varPi","\\mathit{\\Pi}"),dn("\\varSigma","\\mathit{\\Sigma}"),dn("\\varUpsilon","\\mathit{\\Upsilon}"),dn("\\varPhi","\\mathit{\\Phi}"),dn("\\varPsi","\\mathit{\\Psi}"),dn("\\varOmega","\\mathit{\\Omega}"),dn("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),dn("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),dn("\\boxed","\\fbox{$\\displaystyle{#1}$}"),dn("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),dn("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),dn("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Fn={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};dn("\\dots",(function(e){var t="\\dotso",i=e.expandAfterFuture().text;return i in Fn?t=Fn[i]:("\\not"===i.substr(0,4)||i in ie.math&&h.contains(["bin","rel"],ie.math[i].group))&&(t="\\dotsb"),t}));var zn={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};dn("\\dotso",(function(e){return e.future().text in zn?"\\ldots\\,":"\\ldots"})),dn("\\dotsc",(function(e){var t=e.future().text;return t in zn&&","!==t?"\\ldots\\,":"\\ldots"})),dn("\\cdots",(function(e){return e.future().text in zn?"\\@cdots\\,":"\\@cdots"})),dn("\\dotsb","\\cdots"),dn("\\dotsm","\\cdots"),dn("\\dotsi","\\!\\cdots"),dn("\\dotsx","\\ldots\\,"),dn("\\DOTSI","\\relax"),dn("\\DOTSB","\\relax"),dn("\\DOTSX","\\relax"),dn("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),dn("\\,","\\tmspace+{3mu}{.1667em}"),dn("\\thinspace","\\,"),dn("\\>","\\mskip{4mu}"),dn("\\:","\\tmspace+{4mu}{.2222em}"),dn("\\medspace","\\:"),dn("\\;","\\tmspace+{5mu}{.2777em}"),dn("\\thickspace","\\;"),dn("\\!","\\tmspace-{3mu}{.1667em}"),dn("\\negthinspace","\\!"),dn("\\negmedspace","\\tmspace-{4mu}{.2222em}"),dn("\\negthickspace","\\tmspace-{5mu}{.277em}"),dn("\\enspace","\\kern.5em "),dn("\\enskip","\\hskip.5em\\relax"),dn("\\quad","\\hskip1em\\relax"),dn("\\qquad","\\hskip2em\\relax"),dn("\\tag","\\@ifstar\\tag@literal\\tag@paren"),dn("\\tag@paren","\\tag@literal{({#1})}"),dn("\\tag@literal",(function(e){if(e.macros.get("\\df@tag"))throw new n("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"})),dn("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),dn("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),dn("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),dn("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),dn("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),dn("\\newline","\\\\\\relax"),dn("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Qn=z(E["Main-Regular"]["T".charCodeAt(0)][1]-.7*E["Main-Regular"]["A".charCodeAt(0)][1]);dn("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+Qn+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),dn("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+Qn+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),dn("\\hspace","\\@ifstar\\@hspacer\\@hspace"),dn("\\@hspace","\\hskip #1\\relax"),dn("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),dn("\\ordinarycolon",":"),dn("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),dn("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),dn("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),dn("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),dn("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),dn("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),dn("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),dn("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),dn("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),dn("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),dn("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),dn("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),dn("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),dn("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),dn("∷","\\dblcolon"),dn("∹","\\eqcolon"),dn("≔","\\coloneqq"),dn("≕","\\eqqcolon"),dn("⩴","\\Coloneqq"),dn("\\ratio","\\vcentcolon"),dn("\\coloncolon","\\dblcolon"),dn("\\colonequals","\\coloneqq"),dn("\\coloncolonequals","\\Coloneqq"),dn("\\equalscolon","\\eqqcolon"),dn("\\equalscoloncolon","\\Eqqcolon"),dn("\\colonminus","\\coloneq"),dn("\\coloncolonminus","\\Coloneq"),dn("\\minuscolon","\\eqcolon"),dn("\\minuscoloncolon","\\Eqcolon"),dn("\\coloncolonapprox","\\Colonapprox"),dn("\\coloncolonsim","\\Colonsim"),dn("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),dn("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),dn("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),dn("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),dn("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),dn("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),dn("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),dn("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),dn("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),dn("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),dn("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),dn("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),dn("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),dn("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),dn("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),dn("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),dn("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),dn("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),dn("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),dn("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),dn("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),dn("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),dn("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),dn("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),dn("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),dn("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),dn("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),dn("\\imath","\\html@mathml{\\@imath}{ı}"),dn("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),dn("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),dn("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),dn("⟦","\\llbracket"),dn("⟧","\\rrbracket"),dn("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),dn("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),dn("⦃","\\lBrace"),dn("⦄","\\rBrace"),dn("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),dn("⦵","\\minuso"),dn("\\darr","\\downarrow"),dn("\\dArr","\\Downarrow"),dn("\\Darr","\\Downarrow"),dn("\\lang","\\langle"),dn("\\rang","\\rangle"),dn("\\uarr","\\uparrow"),dn("\\uArr","\\Uparrow"),dn("\\Uarr","\\Uparrow"),dn("\\N","\\mathbb{N}"),dn("\\R","\\mathbb{R}"),dn("\\Z","\\mathbb{Z}"),dn("\\alef","\\aleph"),dn("\\alefsym","\\aleph"),dn("\\Alpha","\\mathrm{A}"),dn("\\Beta","\\mathrm{B}"),dn("\\bull","\\bullet"),dn("\\Chi","\\mathrm{X}"),dn("\\clubs","\\clubsuit"),dn("\\cnums","\\mathbb{C}"),dn("\\Complex","\\mathbb{C}"),dn("\\Dagger","\\ddagger"),dn("\\diamonds","\\diamondsuit"),dn("\\empty","\\emptyset"),dn("\\Epsilon","\\mathrm{E}"),dn("\\Eta","\\mathrm{H}"),dn("\\exist","\\exists"),dn("\\harr","\\leftrightarrow"),dn("\\hArr","\\Leftrightarrow"),dn("\\Harr","\\Leftrightarrow"),dn("\\hearts","\\heartsuit"),dn("\\image","\\Im"),dn("\\infin","\\infty"),dn("\\Iota","\\mathrm{I}"),dn("\\isin","\\in"),dn("\\Kappa","\\mathrm{K}"),dn("\\larr","\\leftarrow"),dn("\\lArr","\\Leftarrow"),dn("\\Larr","\\Leftarrow"),dn("\\lrarr","\\leftrightarrow"),dn("\\lrArr","\\Leftrightarrow"),dn("\\Lrarr","\\Leftrightarrow"),dn("\\Mu","\\mathrm{M}"),dn("\\natnums","\\mathbb{N}"),dn("\\Nu","\\mathrm{N}"),dn("\\Omicron","\\mathrm{O}"),dn("\\plusmn","\\pm"),dn("\\rarr","\\rightarrow"),dn("\\rArr","\\Rightarrow"),dn("\\Rarr","\\Rightarrow"),dn("\\real","\\Re"),dn("\\reals","\\mathbb{R}"),dn("\\Reals","\\mathbb{R}"),dn("\\Rho","\\mathrm{P}"),dn("\\sdot","\\cdot"),dn("\\sect","\\S"),dn("\\spades","\\spadesuit"),dn("\\sub","\\subset"),dn("\\sube","\\subseteq"),dn("\\supe","\\supseteq"),dn("\\Tau","\\mathrm{T}"),dn("\\thetasym","\\vartheta"),dn("\\weierp","\\wp"),dn("\\Zeta","\\mathrm{Z}"),dn("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),dn("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),dn("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),dn("\\bra","\\mathinner{\\langle{#1}|}"),dn("\\ket","\\mathinner{|{#1}\\rangle}"),dn("\\braket","\\mathinner{\\langle{#1}\\rangle}"),dn("\\Bra","\\left\\langle#1\\right|"),dn("\\Ket","\\left|#1\\right\\rangle"),dn("\\angln","{\\angl n}"),dn("\\blue","\\textcolor{##6495ed}{#1}"),dn("\\orange","\\textcolor{##ffa500}{#1}"),dn("\\pink","\\textcolor{##ff00af}{#1}"),dn("\\red","\\textcolor{##df0030}{#1}"),dn("\\green","\\textcolor{##28ae7b}{#1}"),dn("\\gray","\\textcolor{gray}{#1}"),dn("\\purple","\\textcolor{##9d38bd}{#1}"),dn("\\blueA","\\textcolor{##ccfaff}{#1}"),dn("\\blueB","\\textcolor{##80f6ff}{#1}"),dn("\\blueC","\\textcolor{##63d9ea}{#1}"),dn("\\blueD","\\textcolor{##11accd}{#1}"),dn("\\blueE","\\textcolor{##0c7f99}{#1}"),dn("\\tealA","\\textcolor{##94fff5}{#1}"),dn("\\tealB","\\textcolor{##26edd5}{#1}"),dn("\\tealC","\\textcolor{##01d1c1}{#1}"),dn("\\tealD","\\textcolor{##01a995}{#1}"),dn("\\tealE","\\textcolor{##208170}{#1}"),dn("\\greenA","\\textcolor{##b6ffb0}{#1}"),dn("\\greenB","\\textcolor{##8af281}{#1}"),dn("\\greenC","\\textcolor{##74cf70}{#1}"),dn("\\greenD","\\textcolor{##1fab54}{#1}"),dn("\\greenE","\\textcolor{##0d923f}{#1}"),dn("\\goldA","\\textcolor{##ffd0a9}{#1}"),dn("\\goldB","\\textcolor{##ffbb71}{#1}"),dn("\\goldC","\\textcolor{##ff9c39}{#1}"),dn("\\goldD","\\textcolor{##e07d10}{#1}"),dn("\\goldE","\\textcolor{##a75a05}{#1}"),dn("\\redA","\\textcolor{##fca9a9}{#1}"),dn("\\redB","\\textcolor{##ff8482}{#1}"),dn("\\redC","\\textcolor{##f9685d}{#1}"),dn("\\redD","\\textcolor{##e84d39}{#1}"),dn("\\redE","\\textcolor{##bc2612}{#1}"),dn("\\maroonA","\\textcolor{##ffbde0}{#1}"),dn("\\maroonB","\\textcolor{##ff92c6}{#1}"),dn("\\maroonC","\\textcolor{##ed5fa6}{#1}"),dn("\\maroonD","\\textcolor{##ca337c}{#1}"),dn("\\maroonE","\\textcolor{##9e034e}{#1}"),dn("\\purpleA","\\textcolor{##ddd7ff}{#1}"),dn("\\purpleB","\\textcolor{##c6b9fc}{#1}"),dn("\\purpleC","\\textcolor{##aa87ff}{#1}"),dn("\\purpleD","\\textcolor{##7854ab}{#1}"),dn("\\purpleE","\\textcolor{##543b78}{#1}"),dn("\\mintA","\\textcolor{##f5f9e8}{#1}"),dn("\\mintB","\\textcolor{##edf2df}{#1}"),dn("\\mintC","\\textcolor{##e0e5cc}{#1}"),dn("\\grayA","\\textcolor{##f6f7f7}{#1}"),dn("\\grayB","\\textcolor{##f0f1f2}{#1}"),dn("\\grayC","\\textcolor{##e3e5e6}{#1}"),dn("\\grayD","\\textcolor{##d6d8da}{#1}"),dn("\\grayE","\\textcolor{##babec2}{#1}"),dn("\\grayF","\\textcolor{##888d93}{#1}"),dn("\\grayG","\\textcolor{##626569}{#1}"),dn("\\grayH","\\textcolor{##3b3e40}{#1}"),dn("\\grayI","\\textcolor{##21242c}{#1}"),dn("\\kaBlue","\\textcolor{##314453}{#1}"),dn("\\kaGreen","\\textcolor{##71B307}{#1}");var Hn={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},jn=function(){function e(e,t,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new Pn(On,t.macros),this.mode=i,this.stack=[]}var t=e.prototype;return t.feed=function(e){this.lexer=new Ln(e,this.settings)},t.switchMode=function(e){this.mode=e},t.beginGroup=function(){this.macros.beginGroup()},t.endGroup=function(){this.macros.endGroup()},t.endGroups=function(){this.macros.endGroups()},t.future=function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},t.popToken=function(){return this.future(),this.stack.pop()},t.pushToken=function(e){this.stack.push(e)},t.pushTokens=function(e){var t;(t=this.stack).push.apply(t,e)},t.scanArgument=function(e){var t,i,n;if(e){if(this.consumeSpaces(),"["!==this.future().text)return null;t=this.popToken();var s=this.consumeArg(["]"]);n=s.tokens,i=s.end}else{var r=this.consumeArg();n=r.tokens,t=r.start,i=r.end}return this.pushToken(new Nn("EOF",i.loc)),this.pushTokens(n),t.range(i,"")},t.consumeSpaces=function(){for(;" "===this.future().text;)this.stack.pop()},t.consumeArg=function(e){var t=[],i=e&&e.length>0;i||this.consumeSpaces();var s,r=this.future(),o=0,a=0;do{if(s=this.popToken(),t.push(s),"{"===s.text)++o;else if("}"===s.text){if(-1==--o)throw new n("Extra }",s)}else if("EOF"===s.text)throw new n("Unexpected end of input in a macro argument, expected '"+(e&&i?e[a]:"}")+"'",s);if(e&&i)if((0===o||1===o&&"{"===e[a])&&s.text===e[a]){if(++a===e.length){t.splice(-a,a);break}}else a=0}while(0!==o||i);return"{"===r.text&&"}"===t[t.length-1].text&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:r,end:s}},t.consumeArgs=function(e,t){if(t){if(t.length!==e+1)throw new n("The length of delimiters doesn't match the number of args!");for(var i=t[0],s=0;s<i.length;s++){var r=this.popToken();if(i[s]!==r.text)throw new n("Use of the macro doesn't match its definition",r)}}for(var o=[],a=0;a<e;a++)o.push(this.consumeArg(t&&t[a+1]).tokens);return o},t.expandOnce=function(e){var t=this.popToken(),i=t.text,s=t.noexpand?null:this._getExpansion(i);if(null==s||e&&s.unexpandable){if(e&&null==s&&"\\"===i[0]&&!this.isDefined(i))throw new n("Undefined control sequence: "+i);return this.pushToken(t),t}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new n("Too many expansions: infinite loop or need to increase maxExpand setting");var r=s.tokens,o=this.consumeArgs(s.numArgs,s.delimiters);if(s.numArgs)for(var a=(r=r.slice()).length-1;a>=0;--a){var h=r[a];if("#"===h.text){if(0===a)throw new n("Incomplete placeholder at end of macro body",h);if("#"===(h=r[--a]).text)r.splice(a+1,1);else{if(!/^[1-9]$/.test(h.text))throw new n("Not a valid argument number",h);var l;(l=r).splice.apply(l,[a,2].concat(o[+h.text-1]))}}}return this.pushTokens(r),r},t.expandAfterFuture=function(){return this.expandOnce(),this.future()},t.expandNextToken=function(){for(;;){var e=this.expandOnce();if(e instanceof Nn){if("\\relax"!==e.text&&!e.treatAsRelax)return this.stack.pop();this.stack.pop()}}throw new Error},t.expandMacro=function(e){return this.macros.has(e)?this.expandTokens([new Nn(e)]):void 0},t.expandTokens=function(e){var t=[],i=this.stack.length;for(this.pushTokens(e);this.stack.length>i;){var n=this.expandOnce(!0);n instanceof Nn&&(n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),t.push(this.stack.pop()))}return t},t.expandMacroAsText=function(e){var t=this.expandMacro(e);return t?t.map((function(e){return e.text})).join(""):t},t._getExpansion=function(e){var t=this.macros.get(e);if(null==t)return t;if(1===e.length){var i=this.lexer.catcodes[e];if(null!=i&&13!==i)return}var n="function"==typeof t?t(this):t;if("string"==typeof n){var s=0;if(-1!==n.indexOf("#"))for(var r=n.replace(/##/g,"");-1!==r.indexOf("#"+(s+1));)++s;for(var o=new Ln(n,this.settings),a=[],h=o.lex();"EOF"!==h.text;)a.push(h),h=o.lex();return a.reverse(),{tokens:a,numArgs:s}}return n},t.isDefined=function(e){return this.macros.has(e)||En.hasOwnProperty(e)||ie.math.hasOwnProperty(e)||ie.text.hasOwnProperty(e)||Hn.hasOwnProperty(e)},t.isExpandable=function(e){var t=this.macros.get(e);return null!=t?"string"==typeof t||"function"==typeof t||!t.unexpandable:En.hasOwnProperty(e)&&!En[e].primitive},e}(),qn={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Wn={"á":"á","à":"à","ä":"ä","ǟ":"ǟ","ã":"ã","ā":"ā","ă":"ă","ắ":"ắ","ằ":"ằ","ẵ":"ẵ","ǎ":"ǎ","â":"â","ấ":"ấ","ầ":"ầ","ẫ":"ẫ","ȧ":"ȧ","ǡ":"ǡ","å":"å","ǻ":"ǻ","ḃ":"ḃ","ć":"ć","ḉ":"ḉ","č":"č","ĉ":"ĉ","ċ":"ċ","ç":"ç","ď":"ď","ḋ":"ḋ","ḑ":"ḑ","é":"é","è":"è","ë":"ë","ẽ":"ẽ","ē":"ē","ḗ":"ḗ","ḕ":"ḕ","ĕ":"ĕ","ḝ":"ḝ","ě":"ě","ê":"ê","ế":"ế","ề":"ề","ễ":"ễ","ė":"ė","ȩ":"ȩ","ḟ":"ḟ","ǵ":"ǵ","ḡ":"ḡ","ğ":"ğ","ǧ":"ǧ","ĝ":"ĝ","ġ":"ġ","ģ":"ģ","ḧ":"ḧ","ȟ":"ȟ","ĥ":"ĥ","ḣ":"ḣ","ḩ":"ḩ","í":"í","ì":"ì","ï":"ï","ḯ":"ḯ","ĩ":"ĩ","ī":"ī","ĭ":"ĭ","ǐ":"ǐ","î":"î","ǰ":"ǰ","ĵ":"ĵ","ḱ":"ḱ","ǩ":"ǩ","ķ":"ķ","ĺ":"ĺ","ľ":"ľ","ļ":"ļ","ḿ":"ḿ","ṁ":"ṁ","ń":"ń","ǹ":"ǹ","ñ":"ñ","ň":"ň","ṅ":"ṅ","ņ":"ņ","ó":"ó","ò":"ò","ö":"ö","ȫ":"ȫ","õ":"õ","ṍ":"ṍ","ṏ":"ṏ","ȭ":"ȭ","ō":"ō","ṓ":"ṓ","ṑ":"ṑ","ŏ":"ŏ","ǒ":"ǒ","ô":"ô","ố":"ố","ồ":"ồ","ỗ":"ỗ","ȯ":"ȯ","ȱ":"ȱ","ő":"ő","ṕ":"ṕ","ṗ":"ṗ","ŕ":"ŕ","ř":"ř","ṙ":"ṙ","ŗ":"ŗ","ś":"ś","ṥ":"ṥ","š":"š","ṧ":"ṧ","ŝ":"ŝ","ṡ":"ṡ","ş":"ş","ẗ":"ẗ","ť":"ť","ṫ":"ṫ","ţ":"ţ","ú":"ú","ù":"ù","ü":"ü","ǘ":"ǘ","ǜ":"ǜ","ǖ":"ǖ","ǚ":"ǚ","ũ":"ũ","ṹ":"ṹ","ū":"ū","ṻ":"ṻ","ŭ":"ŭ","ǔ":"ǔ","û":"û","ů":"ů","ű":"ű","ṽ":"ṽ","ẃ":"ẃ","ẁ":"ẁ","ẅ":"ẅ","ŵ":"ŵ","ẇ":"ẇ","ẘ":"ẘ","ẍ":"ẍ","ẋ":"ẋ","ý":"ý","ỳ":"ỳ","ÿ":"ÿ","ỹ":"ỹ","ȳ":"ȳ","ŷ":"ŷ","ẏ":"ẏ","ẙ":"ẙ","ź":"ź","ž":"ž","ẑ":"ẑ","ż":"ż","Á":"Á","À":"À","Ä":"Ä","Ǟ":"Ǟ","Ã":"Ã","Ā":"Ā","Ă":"Ă","Ắ":"Ắ","Ằ":"Ằ","Ẵ":"Ẵ","Ǎ":"Ǎ","Â":"Â","Ấ":"Ấ","Ầ":"Ầ","Ẫ":"Ẫ","Ȧ":"Ȧ","Ǡ":"Ǡ","Å":"Å","Ǻ":"Ǻ","Ḃ":"Ḃ","Ć":"Ć","Ḉ":"Ḉ","Č":"Č","Ĉ":"Ĉ","Ċ":"Ċ","Ç":"Ç","Ď":"Ď","Ḋ":"Ḋ","Ḑ":"Ḑ","É":"É","È":"È","Ë":"Ë","Ẽ":"Ẽ","Ē":"Ē","Ḗ":"Ḗ","Ḕ":"Ḕ","Ĕ":"Ĕ","Ḝ":"Ḝ","Ě":"Ě","Ê":"Ê","Ế":"Ế","Ề":"Ề","Ễ":"Ễ","Ė":"Ė","Ȩ":"Ȩ","Ḟ":"Ḟ","Ǵ":"Ǵ","Ḡ":"Ḡ","Ğ":"Ğ","Ǧ":"Ǧ","Ĝ":"Ĝ","Ġ":"Ġ","Ģ":"Ģ","Ḧ":"Ḧ","Ȟ":"Ȟ","Ĥ":"Ĥ","Ḣ":"Ḣ","Ḩ":"Ḩ","Í":"Í","Ì":"Ì","Ï":"Ï","Ḯ":"Ḯ","Ĩ":"Ĩ","Ī":"Ī","Ĭ":"Ĭ","Ǐ":"Ǐ","Î":"Î","İ":"İ","Ĵ":"Ĵ","Ḱ":"Ḱ","Ǩ":"Ǩ","Ķ":"Ķ","Ĺ":"Ĺ","Ľ":"Ľ","Ļ":"Ļ","Ḿ":"Ḿ","Ṁ":"Ṁ","Ń":"Ń","Ǹ":"Ǹ","Ñ":"Ñ","Ň":"Ň","Ṅ":"Ṅ","Ņ":"Ņ","Ó":"Ó","Ò":"Ò","Ö":"Ö","Ȫ":"Ȫ","Õ":"Õ","Ṍ":"Ṍ","Ṏ":"Ṏ","Ȭ":"Ȭ","Ō":"Ō","Ṓ":"Ṓ","Ṑ":"Ṑ","Ŏ":"Ŏ","Ǒ":"Ǒ","Ô":"Ô","Ố":"Ố","Ồ":"Ồ","Ỗ":"Ỗ","Ȯ":"Ȯ","Ȱ":"Ȱ","Ő":"Ő","Ṕ":"Ṕ","Ṗ":"Ṗ","Ŕ":"Ŕ","Ř":"Ř","Ṙ":"Ṙ","Ŗ":"Ŗ","Ś":"Ś","Ṥ":"Ṥ","Š":"Š","Ṧ":"Ṧ","Ŝ":"Ŝ","Ṡ":"Ṡ","Ş":"Ş","Ť":"Ť","Ṫ":"Ṫ","Ţ":"Ţ","Ú":"Ú","Ù":"Ù","Ü":"Ü","Ǘ":"Ǘ","Ǜ":"Ǜ","Ǖ":"Ǖ","Ǚ":"Ǚ","Ũ":"Ũ","Ṹ":"Ṹ","Ū":"Ū","Ṻ":"Ṻ","Ŭ":"Ŭ","Ǔ":"Ǔ","Û":"Û","Ů":"Ů","Ű":"Ű","Ṽ":"Ṽ","Ẃ":"Ẃ","Ẁ":"Ẁ","Ẅ":"Ẅ","Ŵ":"Ŵ","Ẇ":"Ẇ","Ẍ":"Ẍ","Ẋ":"Ẋ","Ý":"Ý","Ỳ":"Ỳ","Ÿ":"Ÿ","Ỹ":"Ỹ","Ȳ":"Ȳ","Ŷ":"Ŷ","Ẏ":"Ẏ","Ź":"Ź","Ž":"Ž","Ẑ":"Ẑ","Ż":"Ż","ά":"ά","ὰ":"ὰ","ᾱ":"ᾱ","ᾰ":"ᾰ","έ":"έ","ὲ":"ὲ","ή":"ή","ὴ":"ὴ","ί":"ί","ὶ":"ὶ","ϊ":"ϊ","ΐ":"ΐ","ῒ":"ῒ","ῑ":"ῑ","ῐ":"ῐ","ό":"ό","ὸ":"ὸ","ύ":"ύ","ὺ":"ὺ","ϋ":"ϋ","ΰ":"ΰ","ῢ":"ῢ","ῡ":"ῡ","ῠ":"ῠ","ώ":"ώ","ὼ":"ὼ","Ύ":"Ύ","Ὺ":"Ὺ","Ϋ":"Ϋ","Ῡ":"Ῡ","Ῠ":"Ῠ","Ώ":"Ώ","Ὼ":"Ὼ"},Vn=function(){function e(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new jn(e,t,this.mode),this.settings=t,this.leftrightDepth=0}var t=e.prototype;return t.expect=function(e,t){if(void 0===t&&(t=!0),this.fetch().text!==e)throw new n("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()},t.consume=function(){this.nextToken=null},t.fetch=function(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken},t.switchMode=function(e){this.mode=e,this.gullet.switchMode(e)},t.parse=function(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}},t.parseExpression=function(t,i){for(var n=[];;){"math"===this.mode&&this.consumeSpaces();var s=this.fetch();if(-1!==e.endOfExpression.indexOf(s.text))break;if(i&&s.text===i)break;if(t&&En[s.text]&&En[s.text].infix)break;var r=this.parseAtom(i);if(!r)break;"internal"!==r.type&&n.push(r)}return"text"===this.mode&&this.formLigatures(n),this.handleInfixNodes(n)},t.handleInfixNodes=function(e){for(var t,i=-1,s=0;s<e.length;s++)if("infix"===e[s].type){if(-1!==i)throw new n("only one infix operator per group",e[s].token);i=s,t=e[s].replaceWith}if(-1!==i&&t){var r,o,a=e.slice(0,i),h=e.slice(i+1);return r=1===a.length&&"ordgroup"===a[0].type?a[0]:{type:"ordgroup",mode:this.mode,body:a},o=1===h.length&&"ordgroup"===h[0].type?h[0]:{type:"ordgroup",mode:this.mode,body:h},["\\\\abovefrac"===t?this.callFunction(t,[r,e[i],o],[]):this.callFunction(t,[r,o],[])]}return e},t.handleSupSubscript=function(e){var t=this.fetch(),i=t.text;this.consume(),this.consumeSpaces();var s=this.parseGroup(e);if(!s)throw new n("Expected group after '"+i+"'",t);return s},t.formatUnsupportedCmd=function(e){for(var t=[],i=0;i<e.length;i++)t.push({type:"textord",mode:"text",text:e[i]});var n={type:"text",mode:this.mode,body:t};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]}},t.parseAtom=function(e){var t,i,s=this.parseGroup("atom",e);if("text"===this.mode)return s;for(;;){this.consumeSpaces();var r=this.fetch();if("\\limits"===r.text||"\\nolimits"===r.text){if(s&&"op"===s.type){var o="\\limits"===r.text;s.limits=o,s.alwaysHandleSupSub=!0}else{if(!s||"operatorname"!==s.type)throw new n("Limit controls must follow a math operator",r);s.alwaysHandleSupSub&&(s.limits="\\limits"===r.text)}this.consume()}else if("^"===r.text){if(t)throw new n("Double superscript",r);t=this.handleSupSubscript("superscript")}else if("_"===r.text){if(i)throw new n("Double subscript",r);i=this.handleSupSubscript("subscript")}else{if("'"!==r.text)break;if(t)throw new n("Double superscript",r);var a={type:"textord",mode:this.mode,text:"\\prime"},h=[a];for(this.consume();"'"===this.fetch().text;)h.push(a),this.consume();"^"===this.fetch().text&&h.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:h}}}return t||i?{type:"supsub",mode:this.mode,base:s,sup:t,sub:i}:s},t.parseFunction=function(e,t){var i=this.fetch(),s=i.text,r=En[s];if(!r)return null;if(this.consume(),t&&"atom"!==t&&!r.allowedInArgument)throw new n("Got function '"+s+"' with no arguments"+(t?" as "+t:""),i);if("text"===this.mode&&!r.allowedInText)throw new n("Can't use function '"+s+"' in text mode",i);if("math"===this.mode&&!1===r.allowedInMath)throw new n("Can't use function '"+s+"' in math mode",i);var o=this.parseArguments(s,r),a=o.args,h=o.optArgs;return this.callFunction(s,a,h,i,e)},t.callFunction=function(e,t,i,s,r){var o={funcName:e,parser:this,token:s,breakOnTokenText:r},a=En[e];if(a&&a.handler)return a.handler(o,t,i);throw new n("No function handler for "+e)},t.parseArguments=function(e,t){var i=t.numArgs+t.numOptionalArgs;if(0===i)return{args:[],optArgs:[]};for(var s=[],r=[],o=0;o<i;o++){var a=t.argTypes&&t.argTypes[o],h=o<t.numOptionalArgs;(t.primitive&&null==a||"sqrt"===t.type&&1===o&&null==r[0])&&(a="primitive");var l=this.parseGroupOfType("argument to '"+e+"'",a,h);if(h)r.push(l);else{if(null==l)throw new n("Null argument, please report this as a bug");s.push(l)}}return{args:s,optArgs:r}},t.parseGroupOfType=function(e,t,i){switch(t){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,t);case"hbox":var s=this.parseArgumentGroup(i,"text");return null!=s?{type:"styling",mode:s.mode,body:[s],style:"text"}:null;case"raw":var r=this.parseStringGroup("raw",i);return null!=r?{type:"raw",mode:"text",string:r.text}:null;case"primitive":if(i)throw new n("A primitive argument cannot be optional");var o=this.parseGroup(e);if(null==o)throw new n("Expected group as "+e,this.fetch());return o;case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new n("Unknown group type as "+e,this.fetch())}},t.consumeSpaces=function(){for(;" "===this.fetch().text;)this.consume()},t.parseStringGroup=function(e,t){var i=this.gullet.scanArgument(t);if(null==i)return null;for(var n,s="";"EOF"!==(n=this.fetch()).text;)s+=n.text,this.consume();return this.consume(),i.text=s,i},t.parseRegexGroup=function(e,t){for(var i,s=this.fetch(),r=s,o="";"EOF"!==(i=this.fetch()).text&&e.test(o+i.text);)o+=(r=i).text,this.consume();if(""===o)throw new n("Invalid "+t+": '"+s.text+"'",s);return s.range(r,o)},t.parseColorGroup=function(e){var t=this.parseStringGroup("color",e);if(null==t)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!i)throw new n("Invalid color: '"+t.text+"'",t);var s=i[0];return/^[0-9a-f]{6}$/i.test(s)&&(s="#"+s),{type:"color-token",mode:this.mode,color:s}},t.parseSizeGroup=function(e){var t,i=!1;if(this.gullet.consumeSpaces(),!(t=e||"{"===this.gullet.future().text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",i=!0);var s=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!s)throw new n("Invalid size: '"+t.text+"'",t);var r={number:+(s[1]+s[2]),unit:s[3]};if(!_(r))throw new n("Invalid unit: '"+r.unit+"'",t);return{type:"size",mode:this.mode,value:r,isBlank:i}},t.parseUrlGroup=function(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==t)return null;var i=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}},t.parseArgumentGroup=function(e,t){var i=this.gullet.scanArgument(e);if(null==i)return null;var n=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var r={type:"ordgroup",mode:this.mode,loc:i.loc,body:s};return t&&this.switchMode(n),r},t.parseGroup=function(e,t){var i,s=this.fetch(),r=s.text;if("{"===r||"\\begingroup"===r){this.consume();var o="{"===r?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,o),h=this.fetch();this.expect(o),this.gullet.endGroup(),i={type:"ordgroup",mode:this.mode,loc:Dn.range(s,h),body:a,semisimple:"\\begingroup"===r||void 0}}else if(null==(i=this.parseFunction(t,e)||this.parseSymbol())&&"\\"===r[0]&&!Hn.hasOwnProperty(r)){if(this.settings.throwOnError)throw new n("Undefined control sequence: "+r,s);i=this.formatUnsupportedCmd(r),this.consume()}return i},t.formLigatures=function(e){for(var t=e.length-1,i=0;i<t;++i){var n=e[i],s=n.text;"-"===s&&"-"===e[i+1].text&&(i+1<t&&"-"===e[i+2].text?(e.splice(i,3,{type:"textord",mode:"text",loc:Dn.range(n,e[i+2]),text:"---"}),t-=2):(e.splice(i,2,{type:"textord",mode:"text",loc:Dn.range(n,e[i+1]),text:"--"}),t-=1)),"'"!==s&&"`"!==s||e[i+1].text!==s||(e.splice(i,2,{type:"textord",mode:"text",loc:Dn.range(n,e[i+1]),text:s+s}),t-=1)}},t.parseSymbol=function(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var i=t.slice(5),s="*"===i.charAt(0);if(s&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new n("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:i=i.slice(1,-1),star:s}}Wn.hasOwnProperty(t[0])&&!ie[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=Wn[t[0]]+t.substr(1));var r,o=Mn.exec(t);if(o&&("i"===(t=t.substring(0,o.index))?t="ı":"j"===t&&(t="ȷ")),ie[this.mode][t]){this.settings.strict&&"math"===this.mode&&Pe.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var a,h=ie[this.mode][t].group,l=Dn.range(e);if($.hasOwnProperty(h)){var d=h;a={type:"atom",mode:this.mode,family:d,loc:l,text:t}}else a={type:h,mode:this.mode,loc:l,text:t};r=a}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(b(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),r={type:"textord",mode:"text",loc:Dn.range(e),text:t}}if(this.consume(),o)for(var c=0;c<o[0].length;c++){var u=o[0][c];if(!qn[u])throw new n("Unknown accent ' "+u+"'",e);var p=qn[u][this.mode]||qn[u].text;if(!p)throw new n("Accent "+u+" unsupported in "+this.mode+" mode",e);r={type:"accent",mode:this.mode,loc:Dn.range(e),label:p,isStretchy:!1,isShifty:!0,base:r}}return r},e}();Vn.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Un=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new Vn(e,t);delete i.gullet.macros.current["\\df@tag"];var s=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new n("\\tag works only in display equations");i.gullet.feed("\\df@tag"),s=[{type:"tag",mode:"text",body:s,tag:i.parse()}]}return s},Xn=function(e,t,i){t.textContent="";var n=Yn(e,i).toNode();t.appendChild(n)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Xn=function(){throw new n("KaTeX doesn't work in quirks mode.")});var Gn=function(e,t,i){if(i.throwOnError||!(e instanceof n))throw e;var s=Ye.makeSpan(["katex-error"],[new G(t)]);return s.setAttribute("title",e.toString()),s.setAttribute("style","color:"+i.errorColor),s},Yn=function(e,t){var i=new l(t);try{return function(e,t,i){var n,s=Lt(i);if("mathml"===i.output)return Tt(e,t,s,i.displayMode,!0);if("html"===i.output){var r=bt(e,s);n=Ye.makeSpan(["katex"],[r])}else{var o=Tt(e,t,s,i.displayMode,!1),a=bt(e,s);n=Ye.makeSpan(["katex"],[o,a])}return Pt(n,i)}(Un(e,i),e,i)}catch(t){return Gn(t,e,i)}},Kn={version:"0.13.24",render:Xn,renderToString:function(e,t){return Yn(e,t).toMarkup()},ParseError:n,__parse:function(e,t){var i=new l(t);return Un(e,i)},__renderToDomTree:Yn,__renderToHTMLTree:function(e,t){var i=new l(t);try{return function(e,t,i){var n=bt(e,Lt(i)),s=Ye.makeSpan(["katex"],[n]);return Pt(s,i)}(Un(e,i),0,i)}catch(t){return Gn(t,e,i)}},__setFontMetrics:function(e,t){E[e]=t},__defineSymbol:ne,__defineMacro:dn,__domTree:{Span:W,Anchor:V,SymbolNode:G,SvgNode:Y,PathNode:K,LineNode:J}};return t=t.default}()},e.exports=i()})),Xi=ke((function(e,t){!function(e,t){function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var n=i(t);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s.apply(this,arguments)}
/*! markmap-common v0.1.5 | MIT License */class r{constructor(){this.listeners=[]}tap(e){return this.listeners.push(e),()=>this.revoke(e)}revoke(e){const t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}revokeAll(){this.listeners.splice(0)}call(...e){for(const t of this.listeners)t(...e)}}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o.apply(this,arguments)}function a(e){return e.replace(/[&<"]/g,(e=>({"&":"&amp;","<":"&lt;",'"':"&quot;"}[e])))}function h(e){return e.replace(/<(\/script>)/g,"\\x3c$2")}function l(e,t){return`<${e}${t?Object.entries(t).map((([e,t])=>{if(null!=t&&!1!==t)return e=` ${a(e)}`,!0===t?e:`${e}="${a(t)}"`})).filter(Boolean).join(""):""}>`}function d(e){return`</${e}>`}function c(e,t,i){return null==t?l(e,i):l(e,i)+(t||"")+d(e)}function u(e,t){const i=t.map((e=>"function"==typeof e?e.toString():JSON.stringify(null!=e?e:null))).join(",");return`(${e.toString()})(${i})`}function p(e,t){return e.map((e=>{if("script"===e.type)return c("script","",e.data);if("iife"===e.type){const{fn:i,getParams:n}=e.data;return c("script",h(u(i,(null==n?void 0:n(t))||[])))}return""}))}function m(e){return e.map((e=>"stylesheet"===e.type?c("link",null,o({rel:"stylesheet"},e.data)):c("style",e.data)))}function f(e,{before:t,after:i}){return function(...n){const s={args:n};try{t&&t(s)}catch(e){}s.result=e(...n);try{i&&i(s)}catch(e){}return s.result}}function g(e){const t={};return function(...i){const n=`${i[0]}`;let s=t[n];return s||(s={value:e(...i)},t[n]=s),s.value}}function v(e,t,i){const n=document.createElement(e);return t&&Object.entries(t).forEach((([e,t])=>{n[e]=t})),i&&Object.entries(i).forEach((([e,t])=>{n.setAttribute(e,t)})),n}Math.random().toString(36).slice(2,8);const y=g((e=>{document.head.append(v("link",{rel:"preload",as:"script",href:e}))}));function A(e,t){if("script"===e.type)return new Promise(((t,i)=>{var n;document.head.append(v("script",o({},e.data,{onload:t,onerror:i}))),null!=(n=e.data)&&n.src||t()}));if("iife"===e.type){const{fn:i,getParams:n}=e.data;i(...(null==n?void 0:n(t))||[])}}async function x(e,t){const i=e.filter((e=>{var t;return"script"===e.type&&(null==(t=e.data)?void 0:t.src)}));i.length>1&&i.forEach((e=>y(e.data.src))),t=o({getMarkmap:()=>window.markmap},t);for(const i of e)await A(i,t)}const b='<!DOCTYPE html>\n<html>\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<meta http-equiv="X-UA-Compatible" content="ie=edge">\n<title>Markmap</title>\n<style>\n* {\n  margin: 0;\n  padding: 0;\n}\n#mindmap {\n  display: block;\n  width: 100vw;\n  height: 100vh;\n}\n</style>\n\x3c!--CSS--\x3e\n</head>\n<body>\n<svg id="mindmap"></svg>\n\x3c!--JS--\x3e\n</body>\n</html>\n',w=["https://cdn.jsdelivr.net/npm/d3@6.6.0","https://cdn.jsdelivr.net/npm/markmap-view@0.2.6"].map((e=>({type:"script",data:{src:e}})));function k(e,t,i){"function"==typeof i&&(i={getOptions:i}),i=s({baseJs:w},i);const{scripts:n,styles:r}=t,o=[...r?m(r):[]],a={getMarkmap:()=>window.markmap,getOptions:i.getOptions,data:e},h=[...p(i.baseJs),...p([...n||[],{type:"iife",data:{fn:(e,t,i)=>{const{Markmap:n}=e();window.mm=n.create("svg#mindmap",null==t?void 0:t(),i)},getParams:({getMarkmap:e,getOptions:t,data:i})=>[e,t,i]}}],a)];return b.replace("\x3c!--CSS--\x3e",(()=>o.join(""))).replace("\x3c!--JS--\x3e",(()=>h.join("")))}var C={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",GT:">",Gt:"≫",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",LT:"<",Lt:"≪",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"},E=Object.prototype.hasOwnProperty;function D(e,t){return!!e&&E.call(e,t)}function N(e){return D(C,e)?C[e]:e}var I=Object.prototype.hasOwnProperty;function S(e,t){return!!e&&I.call(e,t)}function B(e){return[].slice.call(arguments,1).forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(i){e[i]=t[i]}))}})),e}var M=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function T(e){return e.indexOf("\\")<0?e:e.replace(M,"$1")}function L(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||!(65535&~e&&65534!=(65535&e))||e>=0&&e<=8||11===e||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function P(e){if(e>65535){var t=55296+((e-=65536)>>10),i=56320+(1023&e);return String.fromCharCode(t,i)}return String.fromCharCode(e)}var O=/&([a-z#][a-z0-9]{1,31});/gi,R=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function _(e,t){var i=0,n=N(t);return t!==n?n:35===t.charCodeAt(0)&&R.test(t)&&L(i="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?P(i):e}function F(e){return e.indexOf("&")<0?e:e.replace(O,_)}var z=/[&<>"]/,Q=/[&<>"]/g,H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function j(e){return H[e]}function q(e){return z.test(e)?e.replace(Q,j):e}var W={};function V(e,t){return++t>=e.length-2?t:"paragraph_open"===e[t].type&&e[t].tight&&"inline"===e[t+1].type&&0===e[t+1].content.length&&"paragraph_close"===e[t+2].type&&e[t+2].tight?V(e,t+2):t}W.blockquote_open=function(){return"<blockquote>\n"},W.blockquote_close=function(e,t){return"</blockquote>"+U(e,t)},W.code=function(e,t){return e[t].block?"<pre><code>"+q(e[t].content)+"</code></pre>"+U(e,t):"<code>"+q(e[t].content)+"</code>"},W.fence=function(e,t,i,n,s){var r,o,a=e[t],h="",l=i.langPrefix;if(a.params){if(o=(r=a.params.split(/\s+/g)).join(" "),S(s.rules.fence_custom,r[0]))return s.rules.fence_custom[r[0]](e,t,i,n,s);h=' class="'+l+q(F(T(o)))+'"'}return"<pre><code"+h+">"+(i.highlight&&i.highlight.apply(i.highlight,[a.content].concat(r))||q(a.content))+"</code></pre>"+U(e,t)},W.fence_custom={},W.heading_open=function(e,t){return"<h"+e[t].hLevel+">"},W.heading_close=function(e,t){return"</h"+e[t].hLevel+">\n"},W.hr=function(e,t,i){return(i.xhtmlOut?"<hr />":"<hr>")+U(e,t)},W.bullet_list_open=function(){return"<ul>\n"},W.bullet_list_close=function(e,t){return"</ul>"+U(e,t)},W.list_item_open=function(){return"<li>"},W.list_item_close=function(){return"</li>\n"},W.ordered_list_open=function(e,t){var i=e[t];return"<ol"+(i.order>1?' start="'+i.order+'"':"")+">\n"},W.ordered_list_close=function(e,t){return"</ol>"+U(e,t)},W.paragraph_open=function(e,t){return e[t].tight?"":"<p>"},W.paragraph_close=function(e,t){var i=!(e[t].tight&&t&&"inline"===e[t-1].type&&!e[t-1].content);return(e[t].tight?"":"</p>")+(i?U(e,t):"")},W.link_open=function(e,t,i){var n=e[t].title?' title="'+q(F(e[t].title))+'"':"",s=i.linkTarget?' target="'+i.linkTarget+'"':"";return'<a href="'+q(e[t].href)+'"'+n+s+">"},W.link_close=function(){return"</a>"},W.image=function(e,t,i){var n=' src="'+q(e[t].src)+'"',s=e[t].title?' title="'+q(F(e[t].title))+'"':"";return"<img"+n+' alt="'+(e[t].alt?q(F(T(e[t].alt))):"")+'"'+s+(i.xhtmlOut?" /":"")+">"},W.table_open=function(){return"<table>\n"},W.table_close=function(){return"</table>\n"},W.thead_open=function(){return"<thead>\n"},W.thead_close=function(){return"</thead>\n"},W.tbody_open=function(){return"<tbody>\n"},W.tbody_close=function(){return"</tbody>\n"},W.tr_open=function(){return"<tr>"},W.tr_close=function(){return"</tr>\n"},W.th_open=function(e,t){var i=e[t];return"<th"+(i.align?' style="text-align:'+i.align+'"':"")+">"},W.th_close=function(){return"</th>"},W.td_open=function(e,t){var i=e[t];return"<td"+(i.align?' style="text-align:'+i.align+'"':"")+">"},W.td_close=function(){return"</td>"},W.strong_open=function(){return"<strong>"},W.strong_close=function(){return"</strong>"},W.em_open=function(){return"<em>"},W.em_close=function(){return"</em>"},W.del_open=function(){return"<del>"},W.del_close=function(){return"</del>"},W.ins_open=function(){return"<ins>"},W.ins_close=function(){return"</ins>"},W.mark_open=function(){return"<mark>"},W.mark_close=function(){return"</mark>"},W.sub=function(e,t){return"<sub>"+q(e[t].content)+"</sub>"},W.sup=function(e,t){return"<sup>"+q(e[t].content)+"</sup>"},W.hardbreak=function(e,t,i){return i.xhtmlOut?"<br />\n":"<br>\n"},W.softbreak=function(e,t,i){return i.breaks?i.xhtmlOut?"<br />\n":"<br>\n":"\n"},W.text=function(e,t){return q(e[t].content)},W.htmlblock=function(e,t){return e[t].content},W.htmltag=function(e,t){return e[t].content},W.abbr_open=function(e,t){return'<abbr title="'+q(F(e[t].title))+'">'},W.abbr_close=function(){return"</abbr>"},W.footnote_ref=function(e,t){var i=Number(e[t].id+1).toString(),n="fnref"+i;return e[t].subId>0&&(n+=":"+e[t].subId),'<sup class="footnote-ref"><a href="#fn'+i+'" id="'+n+'">['+i+"]</a></sup>"},W.footnote_block_open=function(e,t,i){return(i.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n')+'<section class="footnotes">\n<ol class="footnotes-list">\n'},W.footnote_block_close=function(){return"</ol>\n</section>\n"},W.footnote_open=function(e,t){return'<li id="fn'+Number(e[t].id+1).toString()+'"  class="footnote-item">'},W.footnote_close=function(){return"</li>\n"},W.footnote_anchor=function(e,t){var i="fnref"+Number(e[t].id+1).toString();return e[t].subId>0&&(i+=":"+e[t].subId),' <a href="#'+i+'" class="footnote-backref">↩</a>'},W.dl_open=function(){return"<dl>\n"},W.dt_open=function(){return"<dt>"},W.dd_open=function(){return"<dd>"},W.dl_close=function(){return"</dl>\n"},W.dt_close=function(){return"</dt>\n"},W.dd_close=function(){return"</dd>\n"};var U=W.getBreak=function(e,t){return(t=V(e,t))<e.length&&"list_item_close"===e[t].type?"":"\n"};function X(){this.rules=B({},W),this.getBreak=W.getBreak}function G(){this.__rules__=[],this.__cache__=null}function Y(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}function K(e,t,i,n,s){this.src=e,this.env=n,this.options=i,this.parser=t,this.tokens=s,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}function J(e,t){var i,n,s,r=-1,o=e.posMax,a=e.pos,h=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=t+1,e.isInLabel=!0,i=1;e.pos<o;){if(91===(s=e.src.charCodeAt(e.pos)))i++;else if(93===s&&0==--i){n=!0;break}e.parser.skipToken(e)}return n?(r=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=i-1,e.pos=a,e.isInLabel=h,r}function Z(e,t,i,n){var s,r,o,a,h,l;if(42!==e.charCodeAt(0))return-1;if(91!==e.charCodeAt(1))return-1;if(-1===e.indexOf("]:"))return-1;if((r=J(s=new K(e,t,i,n,[]),1))<0||58!==e.charCodeAt(r+1))return-1;for(a=s.posMax,o=r+2;o<a&&10!==s.src.charCodeAt(o);o++);return h=e.slice(2,r),0===(l=e.slice(r+2,o).trim()).length?-1:(n.abbreviations||(n.abbreviations={}),void 0===n.abbreviations[":"+h]&&(n.abbreviations[":"+h]=l),o)}function $(e){var t,i,n,s,r=e.tokens;if(!e.inlineMode)for(t=1,i=r.length-1;t<i;t++)if("paragraph_open"===r[t-1].type&&"inline"===r[t].type&&"paragraph_close"===r[t+1].type){for(n=r[t].content;n.length&&!((s=Z(n,e.inline,e.options,e.env))<0);)n=n.slice(s).trim();r[t].content=n,n.length||(r[t-1].tight=!0,r[t+1].tight=!0)}}function ee(e){var t=F(e);try{t=decodeURI(t)}catch(e){}return encodeURI(t)}function te(e,t){var i,n,s,r=t,o=e.posMax;if(60===e.src.charCodeAt(t)){for(t++;t<o;){if(10===(i=e.src.charCodeAt(t)))return!1;if(62===i)return s=ee(T(e.src.slice(r+1,t))),!!e.parser.validateLink(s)&&(e.pos=t+1,e.linkContent=s,!0);92===i&&t+1<o?t+=2:t++}return!1}for(n=0;t<o&&32!==(i=e.src.charCodeAt(t))&&!(i<32||127===i);)if(92===i&&t+1<o)t+=2;else{if(40===i&&++n>1)break;if(41===i&&--n<0)break;t++}return r!==t&&(s=T(e.src.slice(r,t)),!!e.parser.validateLink(s)&&(e.linkContent=s,e.pos=t,!0))}function ie(e,t){var i,n=t,s=e.posMax,r=e.src.charCodeAt(t);if(34!==r&&39!==r&&40!==r)return!1;for(t++,40===r&&(r=41);t<s;){if((i=e.src.charCodeAt(t))===r)return e.pos=t+1,e.linkContent=T(e.src.slice(n+1,t)),!0;92===i&&t+1<s?t+=2:t++}return!1}function ne(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function se(e,t,i,n){var s,r,o,a,h,l,d,c,u;if(91!==e.charCodeAt(0))return-1;if(-1===e.indexOf("]:"))return-1;if((r=J(s=new K(e,t,i,n,[]),0))<0||58!==e.charCodeAt(r+1))return-1;for(a=s.posMax,o=r+2;o<a&&(32===(h=s.src.charCodeAt(o))||10===h);o++);if(!te(s,o))return-1;for(d=s.linkContent,l=o=s.pos,o+=1;o<a&&(32===(h=s.src.charCodeAt(o))||10===h);o++);for(o<a&&l!==o&&ie(s,o)?(c=s.linkContent,o=s.pos):(c="",o=l);o<a&&32===s.src.charCodeAt(o);)o++;return o<a&&10!==s.src.charCodeAt(o)?-1:(u=ne(e.slice(1,r)),void 0===n.references[u]&&(n.references[u]={title:c,href:d}),o)}function re(e){var t,i,n,s,r=e.tokens;if(e.env.references=e.env.references||{},!e.inlineMode)for(t=1,i=r.length-1;t<i;t++)if("inline"===r[t].type&&"paragraph_open"===r[t-1].type&&"paragraph_close"===r[t+1].type){for(n=r[t].content;n.length&&!((s=se(n,e.inline,e.options,e.env))<0);)n=n.slice(s).trim();r[t].content=n,n.length||(r[t-1].tight=!0,r[t+1].tight=!0)}}function oe(e){var t,i,n,s=e.tokens;for(i=0,n=s.length;i<n;i++)"inline"===(t=s[i]).type&&e.inline.parse(t.content,e.options,e.env,t.children)}function ae(e){var t,i,n,s,r,o,a,h,l,d=0,c=!1,u={};if(e.env.footnotes&&(e.tokens=e.tokens.filter((function(e){return"footnote_reference_open"===e.type?(c=!0,h=[],l=e.label,!1):"footnote_reference_close"===e.type?(c=!1,u[":"+l]=h,!1):(c&&h.push(e),!c)})),e.env.footnotes.list)){for(o=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:d++}),t=0,i=o.length;t<i;t++){for(e.tokens.push({type:"footnote_open",id:t,level:d++}),o[t].tokens?((a=[]).push({type:"paragraph_open",tight:!1,level:d++}),a.push({type:"inline",content:"",level:d,children:o[t].tokens}),a.push({type:"paragraph_close",tight:!1,level:--d})):o[t].label&&(a=u[":"+o[t].label]),e.tokens=e.tokens.concat(a),r="paragraph_close"===e.tokens[e.tokens.length-1].type?e.tokens.pop():null,s=o[t].count>0?o[t].count:1,n=0;n<s;n++)e.tokens.push({type:"footnote_anchor",id:t,subId:n,level:d});r&&e.tokens.push(r),e.tokens.push({type:"footnote_close",level:--d})}e.tokens.push({type:"footnote_block_close",level:--d})}}X.prototype.renderInline=function(e,t,i){for(var n=this.rules,s=e.length,r=0,o="";s--;)o+=n[e[r].type](e,r++,t,i,this);return o},X.prototype.render=function(e,t,i){for(var n=this.rules,s=e.length,r=-1,o="";++r<s;)"inline"===e[r].type?o+=this.renderInline(e[r].children,t,i):o+=n[e[r].type](e,r,t,i,this);return o},G.prototype.__find__=function(e){for(var t=this.__rules__.length,i=-1;t--;)if(this.__rules__[++i].name===e)return i;return-1},G.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(i){i.enabled&&(t&&i.alt.indexOf(t)<0||e.__cache__[t].push(i.fn))}))}))},G.prototype.at=function(e,t,i){var n=this.__find__(e),s=i||{};if(-1===n)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=s.alt||[],this.__cache__=null},G.prototype.before=function(e,t,i,n){var s=this.__find__(e),r=n||{};if(-1===s)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s,0,{name:t,enabled:!0,fn:i,alt:r.alt||[]}),this.__cache__=null},G.prototype.after=function(e,t,i,n){var s=this.__find__(e),r=n||{};if(-1===s)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s+1,0,{name:t,enabled:!0,fn:i,alt:r.alt||[]}),this.__cache__=null},G.prototype.push=function(e,t,i){var n=i||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null},G.prototype.enable=function(e,t){e=Array.isArray(e)?e:[e],t&&this.__rules__.forEach((function(e){e.enabled=!1})),e.forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!0}),this),this.__cache__=null},G.prototype.disable=function(e){(e=Array.isArray(e)?e:[e]).forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!1}),this),this.__cache__=null},G.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},K.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""},K.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level},K.prototype.cacheSet=function(e,t){for(var i=this.cache.length;i<=e;i++)this.cache.push(0);this.cache[e]=t},K.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};var he=" \n()[]'\".,!?-";function le(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function de(e){var t,i,n,s,r,o,a,h,l,d,c,u,p=e.tokens;if(e.env.abbreviations)for(e.env.abbrRegExp||(u="(^|["+he.split("").map(le).join("")+"])("+Object.keys(e.env.abbreviations).map((function(e){return e.substr(1)})).sort((function(e,t){return t.length-e.length})).map(le).join("|")+")($|["+he.split("").map(le).join("")+"])",e.env.abbrRegExp=new RegExp(u,"g")),d=e.env.abbrRegExp,i=0,n=p.length;i<n;i++)if("inline"===p[i].type)for(t=(s=p[i].children).length-1;t>=0;t--)if("text"===(r=s[t]).type){for(h=0,o=r.content,d.lastIndex=0,l=r.level,a=[];c=d.exec(o);)d.lastIndex>h&&a.push({type:"text",content:o.slice(h,c.index+c[1].length),level:l}),a.push({type:"abbr_open",title:e.env.abbreviations[":"+c[2]],level:l++}),a.push({type:"text",content:c[2],level:l}),a.push({type:"abbr_close",level:--l}),h=d.lastIndex-c[3].length;a.length&&(h<o.length&&a.push({type:"text",content:o.slice(h),level:l}),p[i].children=s=[].concat(s.slice(0,t),a,s.slice(t+1)))}}var ce=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,ue=/\((c|tm|r|p)\)/gi,pe={c:"©",r:"®",p:"§",tm:"™"};function me(e){return e.indexOf("(")<0?e:e.replace(ue,(function(e,t){return pe[t.toLowerCase()]}))}function fe(e){var t,i,n,s,r;if(e.options.typographer)for(r=e.tokens.length-1;r>=0;r--)if("inline"===e.tokens[r].type)for(t=(s=e.tokens[r].children).length-1;t>=0;t--)"text"===(i=s[t]).type&&(n=me(n=i.content),ce.test(n)&&(n=n.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),i.content=n)}var ge=/['"]/,ve=/['"]/g,ye=/[-\s()\[\]]/,Ae="’";function xe(e,t){return!(t<0||t>=e.length||ye.test(e[t]))}function be(e,t,i){return e.substr(0,t)+i+e.substr(t+1)}function we(e){var t,i,n,s,r,o,a,h,l,d,c,u,p,m,f,g,v;if(e.options.typographer)for(v=[],f=e.tokens.length-1;f>=0;f--)if("inline"===e.tokens[f].type)for(g=e.tokens[f].children,v.length=0,t=0;t<g.length;t++)if("text"===(i=g[t]).type&&!ge.test(i.text)){for(a=g[t].level,p=v.length-1;p>=0&&!(v[p].level<=a);p--);v.length=p+1,r=0,o=(n=i.content).length;e:for(;r<o&&(ve.lastIndex=r,s=ve.exec(n));)if(h=!xe(n,s.index-1),r=s.index+1,m="'"===s[0],(l=!xe(n,r))||h){if(c=!l,u=!h)for(p=v.length-1;p>=0&&(d=v[p],!(v[p].level<a));p--)if(d.single===m&&v[p].level===a){d=v[p],m?(g[d.token].content=be(g[d.token].content,d.pos,e.options.quotes[2]),i.content=be(i.content,s.index,e.options.quotes[3])):(g[d.token].content=be(g[d.token].content,d.pos,e.options.quotes[0]),i.content=be(i.content,s.index,e.options.quotes[1])),v.length=p;continue e}c?v.push({token:t,pos:s.index,single:m,level:a}):u&&m&&(i.content=be(i.content,s.index,Ae))}else m&&(i.content=be(i.content,s.index,Ae))}}var ke=[["block",Y],["abbr",$],["references",re],["inline",oe],["footnote_tail",ae],["abbr2",de],["replacements",fe],["smartquotes",we]];function Ce(){this.options={},this.ruler=new G;for(var e=0;e<ke.length;e++)this.ruler.push(ke[e][0],ke[e][1])}function Ee(e,t,i,n,s){var r,o,a,h,l,d,c;for(this.src=e,this.parser=t,this.options=i,this.env=n,this.tokens=s,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",d=0,c=!1,a=h=d=0,l=(o=this.src).length;h<l;h++){if(r=o.charCodeAt(h),!c){if(32===r){d++;continue}c=!0}10!==r&&h!==l-1||(10!==r&&h++,this.bMarks.push(a),this.eMarks.push(h),this.tShift.push(d),c=!1,d=0,a=h+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}function De(e,t,i){var n,s;if(e.tShift[t]-e.blkIndent<4)return!1;for(s=n=t+1;n<i;)if(e.isEmpty(n))n++;else{if(!(e.tShift[n]-e.blkIndent>=4))break;s=++n}return e.line=n,e.tokens.push({type:"code",content:e.getLines(t,s,4+e.blkIndent,!0),block:!0,lines:[t,e.line],level:e.level}),!0}function Ne(e,t,i,n){var s,r,o,a,h,l=!1,d=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(d+3>c)return!1;if(126!==(s=e.src.charCodeAt(d))&&96!==s)return!1;if(h=d,(r=(d=e.skipChars(d,s))-h)<3)return!1;if((o=e.src.slice(d,c).trim()).indexOf("`")>=0)return!1;if(n)return!0;for(a=t;!(++a>=i||(d=h=e.bMarks[a]+e.tShift[a])<(c=e.eMarks[a])&&e.tShift[a]<e.blkIndent);)if(e.src.charCodeAt(d)===s&&!(e.tShift[a]-e.blkIndent>=4||(d=e.skipChars(d,s))-h<r||(d=e.skipSpaces(d))<c)){l=!0;break}return r=e.tShift[t],e.line=a+(l?1:0),e.tokens.push({type:"fence",params:o,content:e.getLines(t+1,a,r,!0),lines:[t,e.line],level:e.level}),!0}function Ie(e,t,i,n){var s,r,o,a,h,l,d,c,u,p,m,f=e.bMarks[t]+e.tShift[t],g=e.eMarks[t];if(f>g)return!1;if(62!==e.src.charCodeAt(f++))return!1;if(e.level>=e.options.maxNesting)return!1;if(n)return!0;for(32===e.src.charCodeAt(f)&&f++,h=e.blkIndent,e.blkIndent=0,a=[e.bMarks[t]],e.bMarks[t]=f,r=(f=f<g?e.skipSpaces(f):f)>=g,o=[e.tShift[t]],e.tShift[t]=f-e.bMarks[t],c=e.parser.ruler.getRules("blockquote"),s=t+1;s<i&&!((f=e.bMarks[s]+e.tShift[s])>=(g=e.eMarks[s]));s++)if(62!==e.src.charCodeAt(f++)){if(r)break;for(m=!1,u=0,p=c.length;u<p;u++)if(c[u](e,s,i,!0)){m=!0;break}if(m)break;a.push(e.bMarks[s]),o.push(e.tShift[s]),e.tShift[s]=-1337}else 32===e.src.charCodeAt(f)&&f++,a.push(e.bMarks[s]),e.bMarks[s]=f,r=(f=f<g?e.skipSpaces(f):f)>=g,o.push(e.tShift[s]),e.tShift[s]=f-e.bMarks[s];for(l=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:d=[t,0],level:e.level++}),e.parser.tokenize(e,t,s),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=l,d[1]=e.line,u=0;u<o.length;u++)e.bMarks[u+t]=a[u],e.tShift[u+t]=o[u];return e.blkIndent=h,!0}function Se(e,t,i,n){var s,r,o,a=e.bMarks[t],h=e.eMarks[t];if((a+=e.tShift[t])>h)return!1;if(42!==(s=e.src.charCodeAt(a++))&&45!==s&&95!==s)return!1;for(r=1;a<h;){if((o=e.src.charCodeAt(a++))!==s&&32!==o)return!1;o===s&&r++}return!(r<3||(n||(e.line=t+1,e.tokens.push({type:"hr",lines:[t,e.line],level:e.level})),0))}function Be(e,t){var i,n,s;return(n=e.bMarks[t]+e.tShift[t])>=(s=e.eMarks[t])||42!==(i=e.src.charCodeAt(n++))&&45!==i&&43!==i||n<s&&32!==e.src.charCodeAt(n)?-1:n}function Me(e,t){var i,n=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(n+1>=s)return-1;if((i=e.src.charCodeAt(n++))<48||i>57)return-1;for(;;){if(n>=s)return-1;if(!((i=e.src.charCodeAt(n++))>=48&&i<=57)){if(41===i||46===i)break;return-1}}return n<s&&32!==e.src.charCodeAt(n)?-1:n}function Te(e,t){var i,n,s=e.level+2;for(i=t+2,n=e.tokens.length-2;i<n;i++)e.tokens[i].level===s&&"paragraph_open"===e.tokens[i].type&&(e.tokens[i+2].tight=!0,e.tokens[i].tight=!0,i+=2)}function Le(e,t,i,n){var s,r,o,a,h,l,d,c,u,p,m,f,g,v,y,A,x,b,w,k,C,E=!0;if((c=Me(e,t))>=0)f=!0;else{if(!((c=Be(e,t))>=0))return!1;f=!1}if(e.level>=e.options.maxNesting)return!1;if(m=e.src.charCodeAt(c-1),n)return!0;for(v=e.tokens.length,f?(d=e.bMarks[t]+e.tShift[t],p=Number(e.src.substr(d,c-d-1)),e.tokens.push({type:"ordered_list_open",order:p,lines:A=[t,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:A=[t,0],level:e.level++}),s=t,y=!1,b=e.parser.ruler.getRules("list");!(!(s<i)||((u=(g=e.skipSpaces(c))>=e.eMarks[s]?1:g-c)>4&&(u=1),u<1&&(u=1),r=c-e.bMarks[s]+u,e.tokens.push({type:"list_item_open",lines:x=[t,0],level:e.level++}),a=e.blkIndent,h=e.tight,o=e.tShift[t],l=e.parentType,e.tShift[t]=g-e.bMarks[t],e.blkIndent=r,e.tight=!0,e.parentType="list",e.parser.tokenize(e,t,i,!0),e.tight&&!y||(E=!1),y=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=a,e.tShift[t]=o,e.tight=h,e.parentType=l,e.tokens.push({type:"list_item_close",level:--e.level}),s=t=e.line,x[1]=s,g=e.bMarks[t],s>=i)||e.isEmpty(s)||e.tShift[s]<e.blkIndent);){for(C=!1,w=0,k=b.length;w<k;w++)if(b[w](e,s,i,!0)){C=!0;break}if(C)break;if(f){if((c=Me(e,s))<0)break}else if((c=Be(e,s))<0)break;if(m!==e.src.charCodeAt(c-1))break}return e.tokens.push({type:f?"ordered_list_close":"bullet_list_close",level:--e.level}),A[1]=s,e.line=s,E&&Te(e,v),!0}function Pe(e,t,i,n){var s,r,o,a,h,l=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(l+4>d)return!1;if(91!==e.src.charCodeAt(l))return!1;if(94!==e.src.charCodeAt(l+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(a=l+2;a<d;a++){if(32===e.src.charCodeAt(a))return!1;if(93===e.src.charCodeAt(a))break}return!(a===l+2||a+1>=d||58!==e.src.charCodeAt(++a)||(n||(a++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),h=e.src.slice(l+2,a-2),e.env.footnotes.refs[":"+h]=-1,e.tokens.push({type:"footnote_reference_open",label:h,level:e.level++}),s=e.bMarks[t],r=e.tShift[t],o=e.parentType,e.tShift[t]=e.skipSpaces(a)-a,e.bMarks[t]=a,e.blkIndent+=4,e.parentType="footnote",e.tShift[t]<e.blkIndent&&(e.tShift[t]+=e.blkIndent,e.bMarks[t]-=e.blkIndent),e.parser.tokenize(e,t,i,!0),e.parentType=o,e.blkIndent-=4,e.tShift[t]=r,e.bMarks[t]=s,e.tokens.push({type:"footnote_reference_close",level:--e.level})),0))}function Oe(e,t,i,n){var s,r,o,a=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(a>=h)return!1;if(35!==(s=e.src.charCodeAt(a))||a>=h)return!1;for(r=1,s=e.src.charCodeAt(++a);35===s&&a<h&&r<=6;)r++,s=e.src.charCodeAt(++a);return!(r>6||a<h&&32!==s||(n||(h=e.skipCharsBack(h,32,a),(o=e.skipCharsBack(h,35,a))>a&&32===e.src.charCodeAt(o-1)&&(h=o),e.line=t+1,e.tokens.push({type:"heading_open",hLevel:r,lines:[t,e.line],level:e.level}),a<h&&e.tokens.push({type:"inline",content:e.src.slice(a,h).trim(),level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:r,level:e.level})),0))}function Re(e,t,i){var n,s,r,o=t+1;return!(o>=i||e.tShift[o]<e.blkIndent||e.tShift[o]-e.blkIndent>3||(s=e.bMarks[o]+e.tShift[o])>=(r=e.eMarks[o])||45!==(n=e.src.charCodeAt(s))&&61!==n||(s=e.skipChars(s,n),(s=e.skipSpaces(s))<r||(s=e.bMarks[t]+e.tShift[t],e.line=o+1,e.tokens.push({type:"heading_open",hLevel:61===n?1:2,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(s,e.eMarks[t]).trim(),level:e.level+1,lines:[t,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:61===n?1:2,level:e.level}),0)))}Ce.prototype.process=function(e){var t,i,n;for(t=0,i=(n=this.ruler.getRules("")).length;t<i;t++)n[t](e)},Ee.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},Ee.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},Ee.prototype.skipSpaces=function(e){for(var t=this.src.length;e<t&&32===this.src.charCodeAt(e);e++);return e},Ee.prototype.skipChars=function(e,t){for(var i=this.src.length;e<i&&this.src.charCodeAt(e)===t;e++);return e},Ee.prototype.skipCharsBack=function(e,t,i){if(e<=i)return e;for(;e>i;)if(t!==this.src.charCodeAt(--e))return e+1;return e},Ee.prototype.getLines=function(e,t,i,n){var s,r,o,a,h,l=e;if(e>=t)return"";if(l+1===t)return r=this.bMarks[l]+Math.min(this.tShift[l],i),o=n?this.eMarks[l]+1:this.eMarks[l],this.src.slice(r,o);for(a=new Array(t-e),s=0;l<t;l++,s++)(h=this.tShift[l])>i&&(h=i),h<0&&(h=0),r=this.bMarks[l]+h,o=l+1<t||n?this.eMarks[l]+1:this.eMarks[l],a[s]=this.src.slice(r,o);return a.join("")};var _e={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach((function(e){_e[e]=!0}));var Fe=/^<([a-zA-Z]{1,15})[\s\/>]/,ze=/^<\/([a-zA-Z]{1,15})[\s>]/;function Qe(e){var t=32|e;return t>=97&&t<=122}function He(e,t,i,n){var s,r,o,a=e.bMarks[t],h=e.eMarks[t],l=e.tShift[t];if(a+=l,!e.options.html)return!1;if(l>3||a+2>=h)return!1;if(60!==e.src.charCodeAt(a))return!1;if(33===(s=e.src.charCodeAt(a+1))||63===s){if(n)return!0}else{if(47!==s&&!Qe(s))return!1;if(47===s){if(!(r=e.src.slice(a,h).match(ze)))return!1}else if(!(r=e.src.slice(a,h).match(Fe)))return!1;if(!0!==_e[r[1].toLowerCase()])return!1;if(n)return!0}for(o=t+1;o<e.lineMax&&!e.isEmpty(o);)o++;return e.line=o,e.tokens.push({type:"htmlblock",level:e.level,lines:[t,e.line],content:e.getLines(t,o,0,!0)}),!0}function je(e,t){var i=e.bMarks[t]+e.blkIndent,n=e.eMarks[t];return e.src.substr(i,n-i)}function qe(e,t,i,n){var s,r,o,a,h,l,d,c,u,p,m;if(t+2>i)return!1;if(h=t+1,e.tShift[h]<e.blkIndent)return!1;if((o=e.bMarks[h]+e.tShift[h])>=e.eMarks[h])return!1;if(124!==(s=e.src.charCodeAt(o))&&45!==s&&58!==s)return!1;if(r=je(e,t+1),!/^[-:| ]+$/.test(r))return!1;if((l=r.split("|"))<=2)return!1;for(c=[],a=0;a<l.length;a++){if(!(u=l[a].trim())){if(0===a||a===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(u))return!1;58===u.charCodeAt(u.length-1)?c.push(58===u.charCodeAt(0)?"center":"right"):58===u.charCodeAt(0)?c.push("left"):c.push("")}if(-1===(r=je(e,t).trim()).indexOf("|"))return!1;if(l=r.replace(/^\||\|$/g,"").split("|"),c.length!==l.length)return!1;if(n)return!0;for(e.tokens.push({type:"table_open",lines:p=[t,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[t,t+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[t,t+1],level:e.level++}),a=0;a<l.length;a++)e.tokens.push({type:"th_open",align:c[a],lines:[t,t+1],level:e.level++}),e.tokens.push({type:"inline",content:l[a].trim(),lines:[t,t+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:m=[t+2,0],level:e.level++}),h=t+2;h<i&&!(e.tShift[h]<e.blkIndent)&&-1!==(r=je(e,h).trim()).indexOf("|");h++){for(l=r.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),a=0;a<l.length;a++)e.tokens.push({type:"td_open",align:c[a],level:e.level++}),d=l[a].substring(124===l[a].charCodeAt(0)?1:0,124===l[a].charCodeAt(l[a].length-1)?l[a].length-1:l[a].length).trim(),e.tokens.push({type:"inline",content:d,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),p[1]=m[1]=h,e.line=h,!0}function We(e,t){var i,n,s=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return s>=r||126!==(n=e.src.charCodeAt(s++))&&58!==n||s===(i=e.skipSpaces(s))||i>=r?-1:i}function Ve(e,t){var i,n,s=e.level+2;for(i=t+2,n=e.tokens.length-2;i<n;i++)e.tokens[i].level===s&&"paragraph_open"===e.tokens[i].type&&(e.tokens[i+2].tight=!0,e.tokens[i].tight=!0,i+=2)}function Ue(e,t,i,n){var s,r,o,a,h,l,d,c,u,p,m,f,g,v;if(n)return!(e.ddIndent<0)&&We(e,t)>=0;if(d=t+1,e.isEmpty(d)&&++d>i)return!1;if(e.tShift[d]<e.blkIndent)return!1;if((s=We(e,d))<0)return!1;if(e.level>=e.options.maxNesting)return!1;l=e.tokens.length,e.tokens.push({type:"dl_open",lines:h=[t,0],level:e.level++}),o=t,r=d;e:for(;;){for(v=!0,g=!1,e.tokens.push({type:"dt_open",lines:[o,o],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(o,o+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[o,o],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:a=[d,0],level:e.level++}),f=e.tight,u=e.ddIndent,c=e.blkIndent,m=e.tShift[r],p=e.parentType,e.blkIndent=e.ddIndent=e.tShift[r]+2,e.tShift[r]=s-e.bMarks[r],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,r,i,!0),e.tight&&!g||(v=!1),g=e.line-r>1&&e.isEmpty(e.line-1),e.tShift[r]=m,e.tight=f,e.parentType=p,e.blkIndent=c,e.ddIndent=u,e.tokens.push({type:"dd_close",level:--e.level}),a[1]=d=e.line,d>=i)break e;if(e.tShift[d]<e.blkIndent)break e;if((s=We(e,d))<0)break;r=d}if(d>=i)break;if(o=d,e.isEmpty(o))break;if(e.tShift[o]<e.blkIndent)break;if((r=o+1)>=i)break;if(e.isEmpty(r)&&r++,r>=i)break;if(e.tShift[r]<e.blkIndent)break;if((s=We(e,r))<0)break}return e.tokens.push({type:"dl_close",level:--e.level}),h[1]=d,e.line=d,v&&Ve(e,l),!0}function Xe(e,t){var i,n,s,r,o,a,h=t+1;if(h<(i=e.lineMax)&&!e.isEmpty(h))for(a=e.parser.ruler.getRules("paragraph");h<i&&!e.isEmpty(h);h++)if(!(e.tShift[h]-e.blkIndent>3)){for(s=!1,r=0,o=a.length;r<o;r++)if(a[r](e,h,i,!0)){s=!0;break}if(s)break}return n=e.getLines(t,h,e.blkIndent,!1).trim(),e.line=h,n.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:n,level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}var Ge=[["code",De],["fences",Ne,["paragraph","blockquote","list"]],["blockquote",Ie,["paragraph","blockquote","list"]],["hr",Se,["paragraph","blockquote","list"]],["list",Le,["paragraph","blockquote"]],["footnote",Pe,["paragraph"]],["heading",Oe,["paragraph","blockquote"]],["lheading",Re],["htmlblock",He,["paragraph","blockquote"]],["table",qe,["paragraph"]],["deflist",Ue,["paragraph"]],["paragraph",Xe]];function Ye(){this.ruler=new G;for(var e=0;e<Ge.length;e++)this.ruler.push(Ge[e][0],Ge[e][1],{alt:(Ge[e][2]||[]).slice()})}Ye.prototype.tokenize=function(e,t,i){for(var n,s=this.ruler.getRules(""),r=s.length,o=t,a=!1;o<i&&(e.line=o=e.skipEmptyLines(o),!(o>=i))&&!(e.tShift[o]<e.blkIndent);){for(n=0;n<r&&!s[n](e,o,i,!1);n++);if(e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),(o=e.line)<i&&e.isEmpty(o)){if(a=!0,++o<i&&"list"===e.parentType&&e.isEmpty(o))break;e.line=o}}};var Ke=/[\n\t]/g,Je=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,Ze=/\u00a0/g;function $e(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}function et(e,t){for(var i=e.pos;i<e.posMax&&!$e(e.src.charCodeAt(i));)i++;return i!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,i)),e.pos=i,!0)}function tt(e,t){var i,n,s=e.pos;if(10!==e.src.charCodeAt(s))return!1;if(i=e.pending.length-1,n=e.posMax,!t)if(i>=0&&32===e.pending.charCodeAt(i))if(i>=1&&32===e.pending.charCodeAt(i-1)){for(var r=i-2;r>=0;r--)if(32!==e.pending.charCodeAt(r)){e.pending=e.pending.substring(0,r+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(s++;s<n&&32===e.src.charCodeAt(s);)s++;return e.pos=s,!0}Ye.prototype.parse=function(e,t,i,n){var s,r=0,o=0;if(!e)return[];(e=(e=e.replace(Ze," ")).replace(Je,"\n")).indexOf("\t")>=0&&(e=e.replace(Ke,(function(t,i){var n;return 10===e.charCodeAt(i)?(r=i+1,o=0,t):(n="    ".slice((i-r-o)%4),o=i-r+1,n)}))),s=new Ee(e,this,t,i,n),this.tokenize(s,s.line,s.lineMax)};for(var it=[],nt=0;nt<256;nt++)it.push(0);function st(e,t){var i,n=e.pos,s=e.posMax;if(92!==e.src.charCodeAt(n))return!1;if(++n<s){if((i=e.src.charCodeAt(n))<256&&0!==it[i])return t||(e.pending+=e.src[n]),e.pos+=2,!0;if(10===i){for(t||e.push({type:"hardbreak",level:e.level}),n++;n<s&&32===e.src.charCodeAt(n);)n++;return e.pos=n,!0}}return t||(e.pending+="\\"),e.pos++,!0}function rt(e,t){var i,n,s,r,o,a=e.pos;if(96!==e.src.charCodeAt(a))return!1;for(i=a,a++,n=e.posMax;a<n&&96===e.src.charCodeAt(a);)a++;for(s=e.src.slice(i,a),r=o=a;-1!==(r=e.src.indexOf("`",o));){for(o=r+1;o<n&&96===e.src.charCodeAt(o);)o++;if(o-r===s.length)return t||e.push({type:"code",content:e.src.slice(a,r).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=o,!0}return t||(e.pending+=s),e.pos+=s.length,!0}function ot(e,t){var i,n,s,r,o,a=e.posMax,h=e.pos;if(126!==e.src.charCodeAt(h))return!1;if(t)return!1;if(h+4>=a)return!1;if(126!==e.src.charCodeAt(h+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(r=h>0?e.src.charCodeAt(h-1):-1,o=e.src.charCodeAt(h+2),126===r)return!1;if(126===o)return!1;if(32===o||10===o)return!1;for(n=h+2;n<a&&126===e.src.charCodeAt(n);)n++;if(n>h+3)return e.pos+=n-h,t||(e.pending+=e.src.slice(h,n)),!0;for(e.pos=h+2,s=1;e.pos+1<a;){if(126===e.src.charCodeAt(e.pos)&&126===e.src.charCodeAt(e.pos+1)&&(r=e.src.charCodeAt(e.pos-1),126!==(o=e.pos+2<a?e.src.charCodeAt(e.pos+2):-1)&&126!==r&&(32!==r&&10!==r?s--:32!==o&&10!==o&&s++,s<=0))){i=!0;break}e.parser.skipToken(e)}return i?(e.posMax=e.pos,e.pos=h+2,t||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=a,!0):(e.pos=h,!1)}function at(e,t){var i,n,s,r,o,a=e.posMax,h=e.pos;if(43!==e.src.charCodeAt(h))return!1;if(t)return!1;if(h+4>=a)return!1;if(43!==e.src.charCodeAt(h+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(r=h>0?e.src.charCodeAt(h-1):-1,o=e.src.charCodeAt(h+2),43===r)return!1;if(43===o)return!1;if(32===o||10===o)return!1;for(n=h+2;n<a&&43===e.src.charCodeAt(n);)n++;if(n!==h+2)return e.pos+=n-h,t||(e.pending+=e.src.slice(h,n)),!0;for(e.pos=h+2,s=1;e.pos+1<a;){if(43===e.src.charCodeAt(e.pos)&&43===e.src.charCodeAt(e.pos+1)&&(r=e.src.charCodeAt(e.pos-1),43!==(o=e.pos+2<a?e.src.charCodeAt(e.pos+2):-1)&&43!==r&&(32!==r&&10!==r?s--:32!==o&&10!==o&&s++,s<=0))){i=!0;break}e.parser.skipToken(e)}return i?(e.posMax=e.pos,e.pos=h+2,t||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=a,!0):(e.pos=h,!1)}function ht(e,t){var i,n,s,r,o,a=e.posMax,h=e.pos;if(61!==e.src.charCodeAt(h))return!1;if(t)return!1;if(h+4>=a)return!1;if(61!==e.src.charCodeAt(h+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(r=h>0?e.src.charCodeAt(h-1):-1,o=e.src.charCodeAt(h+2),61===r)return!1;if(61===o)return!1;if(32===o||10===o)return!1;for(n=h+2;n<a&&61===e.src.charCodeAt(n);)n++;if(n!==h+2)return e.pos+=n-h,t||(e.pending+=e.src.slice(h,n)),!0;for(e.pos=h+2,s=1;e.pos+1<a;){if(61===e.src.charCodeAt(e.pos)&&61===e.src.charCodeAt(e.pos+1)&&(r=e.src.charCodeAt(e.pos-1),61!==(o=e.pos+2<a?e.src.charCodeAt(e.pos+2):-1)&&61!==r&&(32!==r&&10!==r?s--:32!==o&&10!==o&&s++,s<=0))){i=!0;break}e.parser.skipToken(e)}return i?(e.posMax=e.pos,e.pos=h+2,t||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=a,!0):(e.pos=h,!1)}function lt(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function dt(e,t){var i,n,s,r=t,o=!0,a=!0,h=e.posMax,l=e.src.charCodeAt(t);for(i=t>0?e.src.charCodeAt(t-1):-1;r<h&&e.src.charCodeAt(r)===l;)r++;return r>=h&&(o=!1),(s=r-t)>=4?o=a=!1:(32!==(n=r<h?e.src.charCodeAt(r):-1)&&10!==n||(o=!1),32!==i&&10!==i||(a=!1),95===l&&(lt(i)&&(o=!1),lt(n)&&(a=!1))),{can_open:o,can_close:a,delims:s}}function ct(e,t){var i,n,s,r,o,a,h,l=e.posMax,d=e.pos,c=e.src.charCodeAt(d);if(95!==c&&42!==c)return!1;if(t)return!1;if(i=(h=dt(e,d)).delims,!h.can_open)return e.pos+=i,t||(e.pending+=e.src.slice(d,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=d+i,a=[i];e.pos<l;)if(e.src.charCodeAt(e.pos)!==c)e.parser.skipToken(e);else{if(n=(h=dt(e,e.pos)).delims,h.can_close){for(r=a.pop(),o=n;r!==o;){if(o<r){a.push(r-o);break}if(o-=r,0===a.length)break;e.pos+=r,r=a.pop()}if(0===a.length){i=r,s=!0;break}e.pos+=n;continue}h.can_open&&a.push(n),e.pos+=n}return s?(e.posMax=e.pos,e.pos=d+i,t||(2!==i&&3!==i||e.push({type:"strong_open",level:e.level++}),1!==i&&3!==i||e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),1!==i&&3!==i||e.push({type:"em_close",level:--e.level}),2!==i&&3!==i||e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+i,e.posMax=l,!0):(e.pos=d,!1)}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){it[e.charCodeAt(0)]=1}));var ut=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function pt(e,t){var i,n,s=e.posMax,r=e.pos;if(126!==e.src.charCodeAt(r))return!1;if(t)return!1;if(r+2>=s)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=r+1;e.pos<s;){if(126===e.src.charCodeAt(e.pos)){i=!0;break}e.parser.skipToken(e)}return i&&r+1!==e.pos?(n=e.src.slice(r+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=r,!1):(e.posMax=e.pos,e.pos=r+1,t||e.push({type:"sub",level:e.level,content:n.replace(ut,"$1")}),e.pos=e.posMax+1,e.posMax=s,!0):(e.pos=r,!1)}var mt=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function ft(e,t){var i,n,s=e.posMax,r=e.pos;if(94!==e.src.charCodeAt(r))return!1;if(t)return!1;if(r+2>=s)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=r+1;e.pos<s;){if(94===e.src.charCodeAt(e.pos)){i=!0;break}e.parser.skipToken(e)}return i&&r+1!==e.pos?(n=e.src.slice(r+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=r,!1):(e.posMax=e.pos,e.pos=r+1,t||e.push({type:"sup",level:e.level,content:n.replace(mt,"$1")}),e.pos=e.posMax+1,e.posMax=s,!0):(e.pos=r,!1)}function gt(e,t){var i,n,s,r,o,a,h,l,d=!1,c=e.pos,u=e.posMax,p=e.pos,m=e.src.charCodeAt(p);if(33===m&&(d=!0,m=e.src.charCodeAt(++p)),91!==m)return!1;if(e.level>=e.options.maxNesting)return!1;if(i=p+1,(n=J(e,p))<0)return!1;if((a=n+1)<u&&40===e.src.charCodeAt(a)){for(a++;a<u&&(32===(l=e.src.charCodeAt(a))||10===l);a++);if(a>=u)return!1;for(p=a,te(e,a)?(r=e.linkContent,a=e.pos):r="",p=a;a<u&&(32===(l=e.src.charCodeAt(a))||10===l);a++);if(a<u&&p!==a&&ie(e,a))for(o=e.linkContent,a=e.pos;a<u&&(32===(l=e.src.charCodeAt(a))||10===l);a++);else o="";if(a>=u||41!==e.src.charCodeAt(a))return e.pos=c,!1;a++}else{if(e.linkLevel>0)return!1;for(;a<u&&(32===(l=e.src.charCodeAt(a))||10===l);a++);if(a<u&&91===e.src.charCodeAt(a)&&(p=a+1,(a=J(e,a))>=0?s=e.src.slice(p,a++):a=p-1),s||(void 0===s&&(a=n+1),s=e.src.slice(i,n)),!(h=e.env.references[ne(s)]))return e.pos=c,!1;r=h.href,o=h.title}return t||(e.pos=i,e.posMax=n,d?e.push({type:"image",src:r,title:o,alt:e.src.substr(i,n-i),level:e.level}):(e.push({type:"link_open",href:r,title:o,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=a,e.posMax=u,!0}function vt(e,t){var i,n,s,r,o=e.posMax,a=e.pos;return!(a+2>=o||94!==e.src.charCodeAt(a)||91!==e.src.charCodeAt(a+1)||e.level>=e.options.maxNesting||(i=a+2,(n=J(e,a+1))<0||(t||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),s=e.env.footnotes.list.length,e.pos=i,e.posMax=n,e.push({type:"footnote_ref",id:s,level:e.level}),e.linkLevel++,r=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[s]={tokens:e.tokens.splice(r)},e.linkLevel--),e.pos=n+1,e.posMax=o,0)))}function yt(e,t){var i,n,s,r,o=e.posMax,a=e.pos;if(a+3>o)return!1;if(!e.env.footnotes||!e.env.footnotes.refs)return!1;if(91!==e.src.charCodeAt(a))return!1;if(94!==e.src.charCodeAt(a+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(n=a+2;n<o;n++){if(32===e.src.charCodeAt(n))return!1;if(10===e.src.charCodeAt(n))return!1;if(93===e.src.charCodeAt(n))break}return!(n===a+2||n>=o||(n++,i=e.src.slice(a+2,n-1),void 0===e.env.footnotes.refs[":"+i]||(t||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+i]<0?(s=e.env.footnotes.list.length,e.env.footnotes.list[s]={label:i,count:0},e.env.footnotes.refs[":"+i]=s):s=e.env.footnotes.refs[":"+i],r=e.env.footnotes.list[s].count,e.env.footnotes.list[s].count++,e.push({type:"footnote_ref",id:s,subId:r,level:e.level})),e.pos=n,e.posMax=o,0)))}var At=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],xt=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,bt=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function wt(e,t){var i,n,s,r,o,a=e.pos;return!(60!==e.src.charCodeAt(a)||(i=e.src.slice(a)).indexOf(">")<0||((n=i.match(bt))?At.indexOf(n[1].toLowerCase())<0||(o=ee(r=n[0].slice(1,-1)),!e.parser.validateLink(r)||(t||(e.push({type:"link_open",href:o,level:e.level}),e.push({type:"text",content:r,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=n[0].length,0)):!(s=i.match(xt))||(o=ee("mailto:"+(r=s[0].slice(1,-1))),!e.parser.validateLink(o)||(t||(e.push({type:"link_open",href:o,level:e.level}),e.push({type:"text",content:r,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=s[0].length,0))))}function kt(e,t){return e=e.source,t=t||"",function i(n,s){return n?(s=s.source||s,e=e.replace(n,s),i):new RegExp(e,t)}}var Ct=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,Et=/[^"'=<>`\x00-\x20]+/,Dt=/'[^']*'/,Nt=/"[^"]*"/,It=kt(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",Et)("single_quoted",Dt)("double_quoted",Nt)(),St=kt(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",Ct)("attr_value",It)(),Bt=kt(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",St)(),Mt=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,Tt=/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,Lt=/<[?].*?[?]>/,Pt=/<![A-Z]+\s+[^>]*>/,Ot=/<!\[CDATA\[[\s\S]*?\]\]>/,Rt=kt(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",Bt)("close_tag",Mt)("comment",Tt)("processing",Lt)("declaration",Pt)("cdata",Ot)();function _t(e){var t=32|e;return t>=97&&t<=122}function Ft(e,t){var i,n,s,r=e.pos;return!(!e.options.html||(s=e.posMax,60!==e.src.charCodeAt(r)||r+2>=s||33!==(i=e.src.charCodeAt(r+1))&&63!==i&&47!==i&&!_t(i)||!(n=e.src.slice(r).match(Rt))||(t||e.push({type:"htmltag",content:e.src.slice(r,r+n[0].length),level:e.level}),e.pos+=n[0].length,0)))}var zt=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,Qt=/^&([a-z][a-z0-9]{1,31});/i;function Ht(e,t){var i,n,s=e.pos,r=e.posMax;if(38!==e.src.charCodeAt(s))return!1;if(s+1<r)if(35===e.src.charCodeAt(s+1)){if(n=e.src.slice(s).match(zt))return t||(i="x"===n[1][0].toLowerCase()?parseInt(n[1].slice(1),16):parseInt(n[1],10),e.pending+=L(i)?P(i):P(65533)),e.pos+=n[0].length,!0}else if(n=e.src.slice(s).match(Qt)){var o=N(n[1]);if(n[1]!==o)return t||(e.pending+=o),e.pos+=n[0].length,!0}return t||(e.pending+="&"),e.pos++,!0}var jt=[["text",et],["newline",tt],["escape",st],["backticks",rt],["del",ot],["ins",at],["mark",ht],["emphasis",ct],["sub",pt],["sup",ft],["links",gt],["footnote_inline",vt],["footnote_ref",yt],["autolink",wt],["htmltag",Ft],["entity",Ht]];function qt(){this.ruler=new G;for(var e=0;e<jt.length;e++)this.ruler.push(jt[e][0],jt[e][1]);this.validateLink=Wt}function Wt(e){var t=["vbscript","javascript","file","data"],i=e.trim().toLowerCase();return-1===(i=F(i)).indexOf(":")||-1===t.indexOf(i.split(":")[0])}qt.prototype.skipToken=function(e){var t,i,n=this.ruler.getRules(""),s=n.length,r=e.pos;if((i=e.cacheGet(r))>0)e.pos=i;else{for(t=0;t<s;t++)if(n[t](e,!0))return void e.cacheSet(r,e.pos);e.pos++,e.cacheSet(r,e.pos)}},qt.prototype.tokenize=function(e){for(var t,i,n=this.ruler.getRules(""),s=n.length,r=e.posMax;e.pos<r;){for(i=0;i<s&&!(t=n[i](e,!1));i++);if(t){if(e.pos>=r)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},qt.prototype.parse=function(e,t,i,n){var s=new K(e,this,t,i,n);this.tokenize(s)};var Vt={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},full:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}}};function Ut(e,t,i){this.src=t,this.env=i,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function Xt(e,t){"string"!=typeof e&&(t=e,e="default"),t&&null!=t.linkify&&console.warn("linkify option is removed. Use linkify plugin instead:\n\nimport Remarkable from 'remarkable';\nimport linkify from 'remarkable/linkify';\nnew Remarkable().use(linkify)\n"),this.inline=new qt,this.block=new Ye,this.core=new Ce,this.renderer=new X,this.ruler=new G,this.options={},this.configure(Vt[e]),this.set(t||{})}Xt.prototype.set=function(e){B(this.options,e)},Xt.prototype.configure=function(e){var t=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(i){e.components[i].rules&&t[i].ruler.enable(e.components[i].rules,!0)}))},Xt.prototype.use=function(e,t){return e(this,t),this},Xt.prototype.parse=function(e,t){var i=new Ut(this,e,t);return this.core.process(i),i.tokens},Xt.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},Xt.prototype.parseInline=function(e,t){var i=new Ut(this,e,t);return i.inlineMode=!0,this.core.process(i),i.tokens},Xt.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};var Gt=function(e,t){var i="$",s=(t||{}).delimiter||i;if(1!==s.length)throw new Error("invalid delimiter");var r=n,o=function(e,t){return r.renderToString(e,{displayMode:t,throwOnError:!1})},a=function(e,t,i){var n=!1,r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(r+1>o)return!1;var a=e.src.charAt(r);if(a!==s)return!1;var h=r,l=(r=e.skipChars(r,a))-h;if(2!==l)return!1;for(var d=t;!(++d>=i||(r=h=e.bMarks[d]+e.tShift[d])<(o=e.eMarks[d])&&e.tShift[d]<e.blkIndent);)if(e.src.charAt(r)===s&&!(e.tShift[d]-e.blkIndent>=4||(r=e.skipChars(r,a))-h<l||(r=e.skipSpaces(r))<o)){n=!0;break}l=e.tShift[t],e.line=d+(n?1:0);var c=e.getLines(t+1,d,l,!0).replace(/[ \n]+/g," ").trim();return e.tokens.push({type:"katex",params:null,content:c,lines:[t,e.line],level:e.level,block:!0}),!0},h=function(e,t){var i=e.pos,n=e.posMax,r=i;if(e.src.charAt(r)!==s)return!1;for(++r;r<n&&e.src.charAt(r)===s;)++r;var o=e.src.slice(i,r);if(o.length>2)return!1;for(var a=r,h=0;r<n;){var l=e.src.charAt(r);if("{"===l)h+=1;else if("}"===l){if((h-=1)<0)return!1}else if(l===s&&0===h){for(var d=r,c=r+1;c<n&&e.src.charAt(c)===s;)++c;if(c-d===o.length){if(!t){var u=e.src.slice(a,d).replace(/[ \n]+/g," ").trim();e.push({type:"katex",content:u,block:o.length>1,level:e.level})}return e.pos=c,!0}}r+=1}return t||(e.pending+=o),e.pos+=o.length,!0};e.inline.ruler.push("katex",h,t),e.block.ruler.push("katex",a,t),e.renderer.rules.katex=function(e,t){return o(e[t].content,e[t].block)},e.renderer.rules.katex.delimiter=s},Yt=Gt;let Kt;const Jt=()=>(Kt=Kt||x([{type:"script",data:{src:"https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"}}]),Kt),Zt="katex";function $t(e){return e.parser.tap(((t,i)=>{t.use(Yt);const n=(t,i)=>{const{katex:n}=window;return n?n.renderToString(t,{displayMode:i,throwOnError:!1}):(Jt().then((()=>{e.retransform.call()})),t)};t.renderer.rules.katex=(e,t)=>{const s=n(e[t].content,e[t].block);return i[Zt]=!0,s}})),{styles:[{type:"stylesheet",data:{href:"https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"}}],scripts:[{type:"iife",data:{fn:e=>{window.WebFontConfig={custom:{families:["KaTeX_AMS","KaTeX_Caligraphic:n4,n7","KaTeX_Fraktur:n4,n7","KaTeX_Main:n4,n7,i4,i7","KaTeX_Math:i4,i7","KaTeX_Script","KaTeX_SansSerif:n4,n7,i4","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4","KaTeX_Typewriter"]},active:()=>{e().refreshHook.call()}}},getParams:({getMarkmap:e})=>[e]}},{type:"script",data:{src:"https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.js",defer:!0}}]}}var ei=Object.freeze({__proto__:null,name:Zt,transform:$t});let ti;const ii=()=>(ti=ti||x([{type:"script",data:{src:"https://cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-core.min.js"}},{type:"script",data:{src:"https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"}}]),ti);function ni(e,t){ii().then((()=>{window.Prism.plugins.autoloader.loadLanguages([e],(()=>{t.retransform.call()}))}))}const si="prism";function ri(e){return e.parser.tap(((t,i)=>{t.set({highlight:(t,n)=>{var s;i[si]=!0;const{Prism:r}=window,o=null==r||null==(s=r.languages)?void 0:s[n];return o?r.highlight(t,o,n):(ni(n,e),"")}})})),{styles:[{type:"stylesheet",data:{href:"https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism.css"}}]}}function oi(){return{parser:new r,htmltag:new r,retransform:new r}}const ai=[ei,Object.freeze({__proto__:null,name:si,transform:ri})];function hi(e,t=0){if("heading"===e.t)e.c=e.c.filter((e=>"paragraph"!==e.t));else if("list_item"===e.t){var i;e.c=e.c.filter((t=>!["paragraph","fence"].includes(t.t)||(e.v||(e.v=t.v,e.p=s({},e.p,t.p)),!1))),null!=(null==(i=e.p)?void 0:i.index)&&(e.v=`${e.p.index}. ${e.v}`)}else if("ordered_list"===e.t){var n,r;let t=null!=(n=null==(r=e.p)?void 0:r.start)?n:1;e.c.forEach((e=>{"list_item"===e.t&&(e.p=s({},e.p,{index:t}),t+=1)}))}0===e.c.length?delete e.c:(e.c.forEach((e=>hi(e,t+1))),1!==e.c.length||e.c[0].v||(e.c=e.c[0].c)),e.d=t}class li{constructor(e=ai){this.plugins=void 0,this.hooks=void 0,this.md=void 0,this.assetsMap=void 0,this.plugins=e,this.hooks=oi();const t=new Xt({html:!0,breaks:!0,maxNesting:1/0});t.block.ruler.enable(["deflist"]),t.renderer.rules.htmltag=f(t.renderer.rules.htmltag,{after:e=>{this.hooks.htmltag.call(e)}}),this.md=t;const i={};for(const{name:t,transform:n}of e)i[t]=n(this.hooks);this.assetsMap=i}buildTree(e){const t={t:"root",d:0,v:"",c:[],p:{}},i=[t];let n=0;for(const t of e){let e=i[i.length-1];if(t.type.endsWith("_open")){const o=t.type.slice(0,-5),a={};var s;if(t.lines&&(a.lines=t.lines),"heading"===o)for(n=t.hLevel;(null==(r=e)?void 0:r.d)>=n;){var r;i.pop(),e=i[i.length-1]}else n=Math.max(n,(null==(s=e)?void 0:s.d)||0)+1,"ordered_list"===o&&(a.start=t.order);const h={t:o,d:n,p:a,v:"",c:[]};e.c.push(h),i.push(h)}else{if(!e)continue;if(t.type===`${e.t}_close`)"heading"===e.t?n=e.d:(i.pop(),n=0);else if("inline"===t.type){const i=this.hooks.htmltag.tap((t=>{const i=t.result.match(/^<!--([\s\S]*?)-->$/);"fold"===(null==i?void 0:i[1].trim())&&(e.p.f=!0,t.result="")}));let n="";n=t.children&&1==t.children.length&&t.children[0].type&&"link_open"==t.children[0].type?`[${t.children[1].content}](${t.children[0].href})`:t.content,i(),e.v=`${e.v||""}${n}`}else if("fence"===t.type){let i="```"+t.params+"\n";i+=t.content,i+="```\n",e.c.push({t:t.type,d:n+1,v:i,c:[]})}}}return t}transform(e){var t;const i={};this.hooks.parser.call(this.md,i);const n=this.md.parse(e||"",{});let s=this.buildTree(n);return hi(s),1===(null==(t=s.c)?void 0:t.length)&&(s=s.c[0]),{root:s,features:i}}getAssets(e){const t=[],i=[];null!=e||(e=Object.keys(this.assetsMap));for(const n of e.map((e=>this.assetsMap[e])))n&&(n.styles&&t.push(...n.styles),n.scripts&&i.push(...n.scripts));return{styles:t,scripts:i}}getUsedAssets(e){return this.getAssets(Object.keys(e).filter((t=>e[t])))}}e.Transformer=li,e.builtInPlugins=ai,e.fillTemplate=k}(t,Ui)}));
/*! markmap-lib v0.11.6 | MIT License */function Gi(e){var t=null,i=e;if(i.liDom.previousSibling){var n=Yi(i.liDom.previousSibling);t=n||i.liDom.previousSibling.node}else t=i.parent;return t}function Yi(e){var t=e.node;if(t.isExpand&&t.childrenDom){var i=t.childrenDom.lastElementChild;i&&(t=Yi(i))}return t}function Ki(e,t){var i=t.parentNode;i.lastChild==t?i.appendChild(e):i.insertBefore(e,t.nextSibling)}class Ji extends Le{constructor(e,t,i){super("addNode"),this.node=e,this.parent=t,this.index=i}execute(){this.parent.childrenDom.insertBefore(this.node.liDom,this.parent.childrenDom.childNodes[0]),this.parent.addChild(this.node),this.node.list.emit("change")}undo(){this.index=this.parent.removeChild(this.node),this.parent.removeChild(this.node),this.parent.childrenDom.removeChild(this.node.liDom),this.node.list.emit("change")}}class Zi extends Le{constructor(e,t,i,n){super("addSameNode"),this.node=e,this.parent=i,this.prevNode=t,this.index=n}execute(){this.parent.addChild(this.node,this.index),Ki(this.node.liDom,this.prevNode.liDom),this.parent.list.selecNode(this.node),this.node.keepFocusEnd(),this.node.list.emit("change")}undo(){var e=Gi(this.node)||this.parent;this.parent.childrenDom.removeChild(this.node.liDom),this.parent.removeChild(this.node),e.list.selecNode(this.parent),e.keepFocusEnd(),this.node.list.emit("change")}}class $i extends Le{constructor(e,t,i,n){super("tabNode"),this.node=e,this.index=t,this.parent=n,this.oldParent=i}execute(){this.oldParent.removeChild(this.node),this.oldParent.childrenDom.removeChild(this.node.liDom),this.node.list.addNode(this.node,this.parent),this.parent.childrenDom.appendChild(this.node.liDom),this.node.parent=this.parent,this.parent.list.selecNode(this.node),setTimeout((()=>{this.node.keepFocusEnd()}),0),this.refreshClass(),this.node.list.emit("change")}undo(){this.parent.removeChild(this.node),this.parent.childrenDom.removeChild(this.node.liDom),this.oldParent.addChild(this.node,this.index),0==this.index?this.oldParent.childrenDom.insertBefore(this.node.liDom,this.oldParent.childrenDom.childNodes[0]):Ki(this.node.liDom,this.oldParent.childrenDom.childNodes[this.index-1]),this.oldParent.list.selecNode(this.node),setTimeout((()=>{this.node.keepFocusEnd()}),0),this.refreshClass(),this.node.list.emit("change")}refreshClass(){this.oldParent.refreshClass(),this.parent.refreshClass(),this.node.refreshClass()}}class en extends Le{constructor(e,t,i){super("shiftTabNode"),this.node=e,this.oldParent=t,this.newParent=i}execute(){this.index=this.oldParent.children.indexOf(this.node);var e=this.newParent.children.indexOf(this.oldParent);this.oldParent.removeChild(this.node),this.oldParent.childrenDom.removeChild(this.node.liDom),this.node.list.addNode(this.node,this.newParent,e+1),this.node.parent=this.newParent,Ki(this.node.liDom,this.oldParent.liDom),this.newParent.list.selecNode(this.node),this.refreshClass(),setTimeout((()=>{this.node.keepFocusEnd()}),0),this.node.list.emit("change")}undo(){this.newParent.removeChild(this.node),this.newParent.childrenDom.removeChild(this.node.liDom),this.oldParent.addChild(this.node,this.index),0==this.index?this.oldParent.childrenDom.insertBefore(this.node.liDom,this.oldParent.childrenDom.childNodes[0]):Ki(this.node.liDom,this.oldParent.childrenDom.childNodes[this.index-1]),this.oldParent.list.selecNode(this.node),setTimeout((()=>{this.node.keepFocusEnd()}),0),this.refreshClass(),this.node.list.emit("change")}refreshClass(){this.oldParent.refreshClass(),this.newParent.refreshClass(),this.node.refreshClass()}}class tn extends Le{constructor(e,t,i){super("shiftCtrlTabNode"),this.node=e,this.oldParent=t,this.newParent=i,this.cache=[]}execute(){this.index=this.oldParent.children.indexOf(this.node),this.oldParent.children.forEach(((e,t)=>{t>=this.index&&this.cache.push(e)})),this.cache.forEach((e=>{this.oldParent.removeChild(e),this.oldParent.childrenDom.removeChild(e.liDom)}));var e=this.newParent.children.indexOf(this.oldParent);e++,this.newParent.addChild(this.node,e),Ki(this.node.liDom,this.oldParent.liDom),this.cache.forEach(((e,t)=>{if(0!=t){this.node.children.push(e),e.parent=this.node;var i=this.node.children.length;1==i?this.node.childrenDom.insertBefore(e.liDom,this.node.childrenDom.childNodes[0]):Ki(e.liDom,this.node.childrenDom.childNodes[i-2])}})),this.refreshClass(),this.node.list.emit("change")}undo(){this.newParent.removeChild(this.node),this.newParent.childrenDom.removeChild(this.node.liDom),this.cache.forEach(((e,t)=>{0!=t&&(this.node.removeChild(e),this.node.childrenDom.removeChild(e.liDom))})),this.oldParent.addChild(this.node,this.index),0==this.index?this.oldParent.childrenDom.insertBefore(this.node.liDom,this.oldParent.childrenDom.childNodes[0]):Ki(this.node.liDom,this.oldParent.childrenDom.childNodes[this.index-1]);var e=this.node.liDom;this.index++;var t=this.index;this.cache.forEach(((i,n)=>{0!=n&&(this.oldParent.addChild(i,t),Ki(i.liDom,e),t++,e=i.liDom)})),this.refreshClass(),this.node.list.emit("change")}refreshClass(){this.oldParent.refreshClass(),this.newParent.refreshClass(),this.node.refreshClass()}}class nn extends Le{constructor(e,t,i,n,s){super("dragNode"),this.node=e,this.oldParent=t,this.newParent=i,this.dropNode=n,this.type=s}execute(){if(this.index=this.oldParent.removeChild(this.node),this.oldParent.childrenDom.removeChild(this.node.liDom),"top"==this.type){var e=this.newParent.children.indexOf(this.dropNode);this.newParent.addChild(this.node,e),this.dropNode.liDom.parentNode.insertBefore(this.node.liDom,this.dropNode.liDom)}else{e=this.newParent.children.indexOf(this.dropNode);this.newParent.addChild(this.node,e+1),Ki(this.node.liDom,this.dropNode.liDom)}this.refreshClass(),this.node.list.emit("change")}undo(){this.newParent.removeChild(this.node),this.newParent.childrenDom.removeChild(this.node.liDom),this.oldParent.addChild(this.node,this.index),0==this.index?this.oldParent.childrenDom.insertBefore(this.node.liDom,this.oldParent.childrenDom.childNodes[0]):Ki(this.node.liDom,this.oldParent.childrenDom.childNodes[this.index-1]),this.refreshClass(),this.node.list.emit("change")}refreshClass(){this.oldParent.refreshClass(),this.newParent.refreshClass(),this.node.refreshClass()}}class sn extends Le{constructor(e,t){super("removeNode"),this.node=e,this.parent=t}execute(){this.index=this.parent.removeChild(this.node),this.parent.childrenDom.removeChild(this.node.liDom),this.refreshClass(),this.node.list.emit("change")}undo(){0==this.index?(this.parent.addChild(this.node),this.parent.childrenDom.insertBefore(this.node.liDom,this.parent.childrenDom.childNodes[0])):(Ki(this.node.liDom,this.parent.childrenDom.childNodes[this.index-1]),this.parent.addChild(this.node,this.index)),this.node.list.selecNode(this.node),this.node.keepFocusEnd(),this.refreshClass(),this.node.list.emit("change")}refreshClass(){this.parent.refreshClass()}}class rn extends Le{constructor(e,t,i){super("changeText"),this.node=e,this.oldText=t,this.newText=i}execute(){this.node.textDom.blur(),this.node.setMdText(this.newText),this.node.list.emit("change")}undo(){this.node.textDom.blur(),this.node.setMdText(this.oldText),this.node.list.emit("change")}}class on extends Le{constructor(e,t,i){super("changeNode"),this.node=e,this.oldData=t,this.newData=i}execute(){this.node.setPlainData(this.newData),this.node.list.emit("change")}undo(){this.node.setPlainData(this.oldData),this.node.list.emit("change")}}class an extends Le{constructor(e){super("expandNode"),this.node=e}execute(){this.node.expand()}undo(){this.node.collapse()}}class hn extends Le{constructor(e){super("CollapseNode"),this.node=e}execute(){this.node.collapse()}undo(){this.node.expand()}}class ln extends Le{constructor(e,t,i){super("replaceText"),this.node=e,this.word=t,this.replaceWord=i,this.oldText=this.node.data.mdText}execute(){var e=new RegExp(this.word,"ig"),t=this.node.data.mdText.replace(e,this.replaceWord);this.node.setMdText(t),this.node.list.emit("change")}undo(){this.node.setMdText(this.oldText),this.node.list.emit("change")}}class dn extends Le{constructor(e){super("manyCmd"),this.cmd=e}execute(){this.cmd.forEach((e=>e.execute()))}undo(){this.cmd.forEach((e=>e.undo()))}}class cn extends Le{constructor(e,t,i,n,s){super("dragNodes"),this.nodes=e,this.oldParent=t,this.newParent=i,this.dropNode=n,this.type=s,this.cache=[]}execute(){var e,t,i,n=this;(this.nodes.forEach(((t,i)=>{if(0==i){var s=n.oldParent.removeChild(t);n.oldParent.childrenDom.removeChild(t.liDom),n.cache.push({index:s,node:t}),e=s}else n.oldParent.removeChild(t),n.oldParent.childrenDom.removeChild(t.liDom),e++,n.cache.push({index:e,node:t})})),"down"==this.type)?this.nodes.forEach(((e,s)=>{0==s?(t=n.newParent.children.indexOf(n.dropNode),t++,n.newParent.addChild(e,t),Ki(e.liDom,n.dropNode.liDom)):(t++,n.newParent.addChild(e,t),Ki(e.liDom,i.liDom)),i=e})):this.nodes.forEach(((e,s)=>{if(0==s)t=n.newParent.children.indexOf(n.dropNode),n.newParent.addChild(e,t),n.dropNode.liDom.parentNode.insertBefore(e.liDom,n.dropNode.liDom);else{var r=n.newParent.children.indexOf(i);r++,n.newParent.addChild(e,r),Ki(e.liDom,i.liDom)}i=e}));this.nodes[0].list.emit("change")}undo(){var e=this;this.nodes.forEach((t=>{e.newParent.removeChild(t),e.newParent.childrenDom.removeChild(t.liDom)}));var t=null;this.cache.forEach(((i,n)=>{e.oldParent.addChild(i.node,i.index),0==n?0==i.index?e.oldParent.childrenDom.insertBefore(i.node.liDom,e.oldParent.childrenDom.childNodes[0]):Ki(i.node.liDom,e.oldParent.childrenDom.childNodes[i.index-1]):Ki(i.node.liDom,t.liDom),t=i.node})),this.nodes[0].list.emit("change")}}class un extends Le{constructor(e,t,i,n){super("tabNodes"),this.nodes=e,this.index=t,this.oldParent=i,this.parent=n}execute(){this.nodes.forEach((e=>{this.oldParent.removeChild(e),this.oldParent.childrenDom.removeChild(e.liDom)}));var e=this.parent.parent.children.indexOf(this.parent);this.nodes.forEach(((t,i)=>{this.parent.addChild(t,e+1+i),this.parent.childrenDom.appendChild(t.liDom)})),this.nodes[0].list.emit("change")}undo(){this.nodes.forEach((e=>{this.parent.removeChild(e),this.parent.childrenDom.removeChild(e.liDom)})),this.nodes.forEach(((e,t)=>{this.oldParent.addChild(e,this.index+t),Ki(e.liDom,this.oldParent.childrenDom.childNodes[this.index+t-1])})),this.nodes[0].list.emit("change")}}class pn extends Le{constructor(e,t,i){super("shiftTabNodes"),this.nodes=e,this.oldParent=t,this.newParent=i}execute(){this.index=this.oldParent.children.indexOf(this.nodes[0]);var e=this.newParent.children.indexOf(this.oldParent);this.nodes.forEach((e=>{this.oldParent.removeChild(e),this.oldParent.childrenDom.removeChild(e.liDom)}));var t=this.oldParent;this.nodes.forEach(((i,n)=>{this.newParent.addChild(i,e+1+n),Ki(i.liDom,t.liDom),t=i})),this.nodes[0].list.emit("change")}undo(){this.nodes.forEach((e=>{this.newParent.removeChild(e),this.newParent.childrenDom.removeChild(e.liDom)})),this.nodes.forEach(((e,t)=>{this.oldParent.addChild(e,this.index+t),0==t?0==this.index?this.oldParent.childrenDom.insertBefore(e.liDom,this.oldParent.childrenDom.childNodes[0]):Ki(e.liDom,this.oldParent.childrenDom.childNodes[this.index-1]):Ki(e.liDom,this.oldParent.childrenDom.childNodes[this.index+t-1])})),this.nodes[0].list.emit("change")}}class mn extends Le{constructor(e,t,i,n){super("addPdfAnnotate"),this.node=e,this.id=t,this.text=i,this.type=n,this.oldText=this.node.data.pdf||"",this.oldIsPdf=this.node.data.isPDFRefer||0,this.oldData=this.node.getData(),this.isImageNode=this.oldData.isImageNode||0,this.oldImage=this.oldData.image||"",this.oldImageWidth=this.oldData.imageWidth||0,this.oldImageHeight=this.oldData.imageHeight||0}execute(){if("highlight"==this.type)this.node.data.isPDFRefer=1,this.node.data.pdf=this.text,this.node.setPdfAnnotate();else{var e=JSON.parse(this.text);this.node.data.isPDFRefer=1,this.node.data.pdf=this.text,this.node.data.isImageNode=1,this.node.data.image=e.path,this.node.data.imageName="pdf.png",this.node.data.imageWidth=e.width,this.node.data.imageHeight=e.height,this.node.setPdfAnnotate()}this.node.list.emit("change")}undo(){"highlight"==this.type?(this.node.data.isPDFRefer=this.oldIsPdf,this.node.data.pdf=this.oldText,this.node.setPdfAnnotate(this.oldIsPdf)):(this.node.data.isPDFRefer=this.oldIsPdf,this.node.data.pdf=this.oldText,this.node.data.isImageNode=this.isImageNode,this.node.data.image=this.oldImage,this.node.data.imageWidth=this.oldImageWidth,this.node.data.imageHeight=this.oldImageHeight,this.node.setPdfAnnotate(this.oldIsPdf)),this.node.list.emit("change")}}class fn extends Le{constructor(e){super("deleteNodeAnnotate"),this.node=e,this.isPDFRefer=e.data.isPDFRefer,this.pdf=e.data.pdf}execute(){this.node.data.isPDFRefer=0,this.node.data.pdf="",this.node.setPdfAnnotate(),this.node.list.emit("change")}undo(){this.node.data.isPDFRefer=this.isPDFRefer,this.node.data.pdf=this.pdf,this.node.setPdfAnnotate(),this.node.list.emit("change")}}function gn(e){var t=e.offsetTop;return null!=e.offsetParent&&(t+=gn(e.offsetParent)),t}function vn(e){var t=e.offsetLeft;return null!=e.offsetParent&&(t+=vn(e.offsetParent)),t}let yn='<svg t="1630199064484" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6068" width="18" height="18" style="margin-top:5px"><path d="M234.88884163 377.47806845l279.65492248 279.65492248 278.8075161-278.8075161z" p-id="6069"></path></svg>';class An{constructor(e,t,i){this.data=e,this.data.marks||(this.data.marks=[]),this.parent=t||null,this.selected=!1,this.list=i,this.children=[],this.doubleLink=[],this.isExpand=this.data.isExpand||!0,this.shoudRender=!0,this.init(),this.refreshClass(),this.parseText()}getId(){return this.data.id}addChild(e,t){this.children.splice(t,0,e),e.parent=this,e.list=this.list}removeChild(e){var t=this.children.indexOf(e);if(t>-1)return this.children.splice(t,1),t}select(){this.selected=!0,this.liDom.classList.add("select")}shiftSelect(){this.liDom.classList.contains("shiftSelect")||this.liDom.classList.add("shiftSelect")}focus(){this.list&&(this.list.selecNode(this),this.list._editNode&&(this.list._oldEditNode=this.list._editNode),this.list._editNode=this,this.isEdit=!0,window.myListNode=this,this.keepFocusEnd(),this.list.emit("selectNode",{node:this}))}keepFocusEnd(){this.isEdit=!0,function(e){if(window.getSelection){var t=window.getSelection();t.selectAllChildren(e),t.collapseToEnd()}e.focus()}(this.textDom)}unSelect(){this.selected=!1,this.liDom.classList.remove("select")}refreshAssist(){if(this.pdfDom&&this.assistDom.removeChild(this.pdfDom),this.pdfDom&&(this.pdfDom=null),this.data.isPDFRefer){this.pdfDom=document.createElement("span"),this.pdfDom.classList.add("iconfont"),this.pdfDom.classList.add("icon-PDF");var e=JSON.parse(this.data.pdf);this.pdfDom.setAttribute("data-id",e.id),this.pdfDom.setAttribute("data-page",e.page),this.pdfDom.node=this,this.assistDom.appendChild(this.pdfDom),this.pdfDom.style="width:20px;height:20px;margin-top: -2px;margin-right: 4px;line-height:20px;text-align:center;font-size:16px;color:rgb(120 120 125);display:inline-block;"}}initMark(){}_refreshTodo(){this.data.todoDone?this.liDom.classList.contains("node-todo-done")||this.liDom.classList.add("node-todo-done"):this.liDom.classList.contains("node-todo-done")&&this.liDom.classList.remove("node-todo-done")}toggleTodoState(){if(this.data.isTodo){var e=this.getData(),t=Object.assign(Object.assign({},e),{todoDone:!e.todoDone});this.list.execute("changeNode",{node:this,oldData:e,newData:t})}}initRemark(){}removeImageEvent(){}addImageEvent(){}init(){this.liDom=document.createElement("li"),this.liDom.classList.add("li-node"),this.divDom=document.createElement("div"),this.divDom.classList.add("node-control"),this.liDom.appendChild(this.divDom),this.openDom=document.createElement("span"),this.dottDom=document.createElement("span");var e=document.createElement("span");this.dottDom.appendChild(e),this.dottDom.classList.add("icon-dott"),this.editDom=document.createElement("div"),this.divDom.appendChild(this.openDom),this.divDom.appendChild(this.dottDom),this.divDom.appendChild(this.editDom),this.openDom.innerHTML=yn,this.childrenDom=document.createElement("ul"),this.liDom.appendChild(this.childrenDom),this.marksDom=document.createElement("div"),this.marksDom.classList.add("node-markList"),this.divDom.appendChild(this.marksDom),this.assistDom=document.createElement("div"),this.assistDom.classList.add("node-assist"),this.assistDom.setAttribute("contenteditable",!1),this.assistDom.style="float:left",this.editDom.appendChild(this.assistDom),this.textDom=document.createElement("div"),this.textDom.classList.add("text"),this.editDom.appendChild(this.textDom),this.textDom.setAttribute("contenteditable",!0),this.list&&this.list.closeSpellcheck&&this.textDom.setAttribute("spellcheck",!1),this.textDom.setAttribute("tabindex",-1),this.parent&&this.parent.childrenDom.appendChild(this.liDom),this.liDom.node=this,this.refreshAssist(),this.addEvent()}cancelEdit(){var e=this;this.shoudRender&&(this.isEdit=!1,this.data.text=this.textDom.innerText,this._oldMdText!=this.data.text?e.list.execute("changeText",{oldText:e._oldMdText,newText:e.data.text,node:e}):(this.data.text=this._oldMdText,e.parseText()),e.list._editNode=null)}addEvent(){}parseMdText(){var t;this.textDom.innerHTML="";var i="";this.list&&(i=this.list.path),e.MarkdownRenderer.renderMarkdown(this.data.text,this.textDom,i,null===(t=this.list.view)||void 0===t?void 0:t.plugin).then((()=>{this._delay()}))}isMindmap(e){if(e&&e.frontmatter){var t=e.frontmatter["mindmap-plugin"];return"rich"==t||"basic"==t}return!1}isMindmapRichMode(e){return!!(e&&e.frontmatter&&e.frontmatter["mindmap-plugin"]&&"rich"==e.frontmatter["mindmap-plugin"])}_delay(){this.textDom.findAll(".internal-embed").forEach((i=>t(this,void 0,void 0,(function*(){const t=i.getAttribute("src");if("string"==typeof t){if(i.querySelector(".markdown-embed"))return;var n=e.parseLinktext(t),s="";if(this.list&&this.list.view){var r=this.list.view.app.metadataCache.getFirstLinkpathDest(n.path,this.list.path||"");if(r instanceof e.TFile&&"md"===r.extension){if(this.textDom.querySelector(`.markdown-embed[data-name="${r.path}"]`))return;var o=this.list.view.app.metadataCache.getFileCache(r);if(this.isMindmap(o)){if((h=document.createElement("div")).classList.add("markdown-embed"),h.setAttribute("tabindex","-1"),h.setAttribute("contenteditable","false"),i.appendChild(h),h.setAttribute("data-name",r.path),(l=document.createElement("div")).classList.add("markdown-embed-content"),(d=document.createElement("div")).classList.add("markdown-preview-view"),l.appendChild(d),(p=document.createElement("div")).classList.add("markdown-embed-link"),p.setAttribute("aria-label","Open link"),p.innerHTML=`<a data-href="${t}" href="${t}" class="internal-link" target="_blank" rel="noopener"><svg viewBox="0 0 100 100" class="link" width="20" height="20"><path fill="currentColor" stroke="currentColor" d="M74,8c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-2.9,2.9-4.7,6.6-5.1,10.6C46,34.6,46,35.3,46,36c0,2.7,0.6,5.4,1.8,7.8l3.1-3.1 C50.3,39.2,50,37.6,50,36c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1s7.3,1.5,9.9,4.1c2.6,2.6,4.1,6.2,4.1,9.9 s-1.5,7.3-4.1,9.9l-10,10C71.3,48.5,67.7,50,64,50c-1.6,0-3.2-0.3-4.7-0.8l-3.1,3.1c2.4,1.1,5,1.8,7.8,1.8c4.8,0,9.3-1.9,12.7-5.3 l10-10C90.1,35.3,92,30.8,92,26s-1.9-9.3-5.3-12.7C83.3,9.9,78.8,8,74,8L74,8z M62,36c-0.5,0-1,0.2-1.4,0.6l-24,24 c-0.5,0.5-0.7,1.2-0.6,1.9c0.2,0.7,0.7,1.2,1.4,1.4c0.7,0.2,1.4,0,1.9-0.6l24-24c0.6-0.6,0.8-1.5,0.4-2.2C63.5,36.4,62.8,36,62,36 z M36,46c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-3.1,3.1-5,7.2-5.2,11.6c0,0.4,0,0.8,0,1.2c0,4.8,1.9,9.3,5.3,12.7 C16.7,90.1,21.2,92,26,92s9.3-1.9,12.7-5.3l10-10C52.1,73.3,54,68.8,54,64c0-2.7-0.6-5.4-1.8-7.8l-3.1,3.1 c0.5,1.5,0.8,3.1,0.8,4.7c0,3.7-1.5,7.3-4.1,9.9l-10,10C33.3,86.5,29.7,88,26,88s-7.3-1.5-9.9-4.1S12,77.7,12,74 c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1c1.6,0,3.2,0.3,4.7,0.8l3.1-3.1C41.4,46.6,38.7,46,36,46L36,46z"></path></svg></a>`,this.textDom.style.overflow="auto",h.appendChild(l),h.appendChild(p),this.isMindmapRichMode(o))yield u(this.list.view.app,r,i,this,this.list.colors,this.list.setting,(e=>{setTimeout((()=>{e.toDiv(!0),e.containerEL.style.visibility="visible",e.center(),e.root.unSelect()}),600)}));else{var a=o&&o.frontmatter;a&&a["display-mode"]&&a["display-mode"],yield c(this.list.view.app,r,i,this,this.list.colors,this.list.setting,(e=>{setTimeout((()=>{e.toDiv(!0),e.containerEL.style.visibility="visible",e.center(),e.root.unSelect()}),600)}),!1)}}else{var h,l,d,p;if(s=yield this.list.view.app.vault.adapter.read(r.path),(h=document.createElement("div")).classList.add("markdown-embed"),h.setAttribute("data-name",r.path),(l=document.createElement("div")).classList.add("markdown-embed-content"),(d=document.createElement("div")).classList.add("markdown-preview-view"),l.appendChild(d),(p=document.createElement("div")).classList.add("markdown-embed-link"),p.setAttribute("aria-label","Open link"),p.innerHTML=`<a data-href="${t}" href="${t}" class="internal-link" target="_blank" rel="noopener"><svg viewBox="0 0 100 100" class="link" width="20" height="20"><path fill="currentColor" stroke="currentColor" d="M74,8c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-2.9,2.9-4.7,6.6-5.1,10.6C46,34.6,46,35.3,46,36c0,2.7,0.6,5.4,1.8,7.8l3.1-3.1 C50.3,39.2,50,37.6,50,36c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1s7.3,1.5,9.9,4.1c2.6,2.6,4.1,6.2,4.1,9.9 s-1.5,7.3-4.1,9.9l-10,10C71.3,48.5,67.7,50,64,50c-1.6,0-3.2-0.3-4.7-0.8l-3.1,3.1c2.4,1.1,5,1.8,7.8,1.8c4.8,0,9.3-1.9,12.7-5.3 l10-10C90.1,35.3,92,30.8,92,26s-1.9-9.3-5.3-12.7C83.3,9.9,78.8,8,74,8L74,8z M62,36c-0.5,0-1,0.2-1.4,0.6l-24,24 c-0.5,0.5-0.7,1.2-0.6,1.9c0.2,0.7,0.7,1.2,1.4,1.4c0.7,0.2,1.4,0,1.9-0.6l24-24c0.6-0.6,0.8-1.5,0.4-2.2C63.5,36.4,62.8,36,62,36 z M36,46c-4.8,0-9.3,1.9-12.7,5.3l-10,10c-3.1,3.1-5,7.2-5.2,11.6c0,0.4,0,0.8,0,1.2c0,4.8,1.9,9.3,5.3,12.7 C16.7,90.1,21.2,92,26,92s9.3-1.9,12.7-5.3l10-10C52.1,73.3,54,68.8,54,64c0-2.7-0.6-5.4-1.8-7.8l-3.1,3.1 c0.5,1.5,0.8,3.1,0.8,4.7c0,3.7-1.5,7.3-4.1,9.9l-10,10C33.3,86.5,29.7,88,26,88s-7.3-1.5-9.9-4.1S12,77.7,12,74 c0-3.7,1.5-7.3,4.1-9.9l10-10c2.6-2.6,6.2-4.1,9.9-4.1c1.6,0,3.2,0.3,4.7,0.8l3.1-3.1C41.4,46.6,38.7,46,36,46L36,46z"></path></svg></a>`,i.appendChild(h),h.appendChild(l),h.appendChild(p),n.subpath){var m=this.list.view.app.metadataCache.getFileCache(r),f=e.resolveSubpath(m,n.subpath);if(f&&f.start&&f.end)var g=s.substring(f.start.offset,f.end.offset);else if(f&&f.start&&!f.end)g=s.substr(f.start.offset);else g=s||""}else g=s||"";g&&e.MarkdownRenderer.renderMarkdown(g,d,this.list.path||"",null)}}}}})))),setTimeout((()=>{this.textDom.findAll(".internal-embed").forEach((t=>{var i;const n=t.getAttribute("src"),s="string"==typeof n&&this.list&&(null===(i=this.list.view)||void 0===i?void 0:i.app.metadataCache.getFirstLinkpathDest(n,this.list.path));if(s instanceof e.TFile&&"md"!==s.extension&&this.list){t.innerText="";var r=this.list.view.app.vault.getResourcePath(s);t.createEl("img",{attr:{src:r}},(e=>{t.hasAttribute("width")&&e.setAttribute("width",t.getAttribute("width")),t.hasAttribute("alt")&&e.setAttribute("alt",t.getAttribute("alt"))})),t.addClasses(["image-embed","is-loaded"])}})),this.textDom.querySelectorAll("img").forEach((e=>{e.setAttribute("draggble","false")})),this.textDom.querySelectorAll("a").forEach((e=>{e.setAttribute("tabindex",-1),e.style.cursor="pointer",e.setAttribute("contenteditable",!1)})),this.textDom.querySelectorAll("pre").forEach((e=>{e&&e.hasAttribute("tabindex")&&e.removeAttribute("tabindex")}))}),100)}parseText(){this.parseMdText()}renderMdText(){this._oldMdText=this.data.text,this.textDom.innerText=this._oldMdText,this.list._selectNode=this}refreshMdText(){this.data.mdText=this.textDom.innerHTML}removeEvent(){this.dottDom.onmouseenter=null,this.dottDom.onmouseleave=null,this.divDom.ondragstart=null,this.divDom.ondrop=null,this.divDom.ondragover=null,this.divDom.ondragend=null,this.divDom.ondragleave=null,this.textDom.onfocus=null,this.textDom.onblur=null,this.openDom.onclick=null,this.removeImageEvent()}setPdfAnnotate(){this.refreshAssist()}collapse(){this.isExpand=!1,this.childrenDom.style.display="none",this.refreshClass()}expand(){this.isExpand=!0,this.childrenDom.style.display="",this.refreshClass()}getSiblings(){if(this.parent)return this.parent.children.filter((e=>e!=this))}show(){this.liDom.style.display=""}hide(){this.liDom.style.display="none"}showNode(){this.divDom.style.display="block"}hideNode(){this.divDom.style.display="none"}isShow(){return"none"!=this.divDom.style.display&&"none"!=this.liDom.style.display}isLeaf(){return!this.children.length}getLevel(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}remove(){this.parent?this.parent.childrenDom.removeChild(this.liDom):this.list.el.removeChild(this.liDom),this.removeEvent()}refreshClass(){this.isExpand?(this.openDom.classList=[],this.liDom.classList.add("node-expand"),this.openDom.classList.add("node-open"),this.openDom.classList.add("iconfont"),this.openDom.classList.add("icon-min"),this.openDom.innerHTML=yn):(this.openDom.classList=[],this.openDom.classList.add("node-open"),this.openDom.classList.add("iconfont"),this.openDom.classList.add("icon-iconjia"),this.liDom.classList.remove("node-expand"),this.openDom.innerHTML='<svg t="1630198999941" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5923" width="10" height="10" style="margin-top:5px"><path d="M549.2308673 976.3910087l468.65392326-468.65392322-467.23381477-467.23381474z" p-id="5924"></path></svg>'),this.isLeaf()?this.liDom.classList.add("node-leaf"):this.liDom.classList.contains("node-leaf")&&this.liDom.classList.remove("node-leaf")}getPlainData(){var e={color:this.data.color,fontSize:this.data.fontSize,todoDone:this.data.todoDone,isTodo:this.data.isTodo,priority:this.data.priority,percent:this.data.percent,isImageNode:this.data.isImageNode,imageWidth:this.data.imageWidth,imageHeight:this.data.imageHeight,image:this.data.image,link:this.data.link,remark:this.data.remark,marks:this.data.marks.slice()};return Object.assign(Object.assign({},this.data),{data:e})}setPlainData(e){this.data=e,this.refresh()}getText(){return this.data.mdText}setMdText(e){this.data.text=e,this.parseText()}focusLink(){}focusNote(){}refresh(){this.refreshClass(),this.refreshAssist()}offsetTop(e){return gn(e||this.liDom)}offsetLeft(e){return vn(e||this.liDom)}getData(e,t){var i=this.data.text,n=Object.assign(Object.assign({},this.data),{text:i.trim(),isExpand:this.isExpand,children:[],isExpanded:this.isExpand});return delete n.mdText,delete n.children,t&&this.removeEvent(),n}getTxt(){return this.textDom.textContent.trim()}getNodeText(){return this.liDom.textContent.trim()}setText(e){this.textDom.innerHTML=e}}function xn(e){var t=e.offsetTop;return null!=e.offsetParent?e.offsetParent.hasClass("mm-app-container")||(t+=xn(e.offsetParent)):t=0,t}function bn(e){var t=e.offsetLeft;return null!=e.offsetParent?e.offsetParent.hasClass("mm-app-container")||(t+=bn(e.offsetParent)):t=0,t}function wn(e){var t=null;return 1==e.nodeType?t=wn(e.firstChild):3==e.nodeType&&(t=e),t}function kn(e){if(e){var t=window.getSelection().getRangeAt(0),i=document.createRange();if(i.selectNodeContents(wn(e.textDom.firstChild)),t.compareBoundaryPoints(Range.START_TO_START,i)<=0)return"beginning";if(i.collapsed&&0==i.startOffset)return"beginning";var n=document.createRange();return n.selectNodeContents(wn(e.textDom.lastChild)),n.collapsed&&0==n.startOffset||t.compareBoundaryPoints(Range.END_TO_END,n)>=0?"end":void 0}}function Cn(e){if(e.isExpand&&e.childrenDom.children.length)return e.childrenDom.children[0].node;for(var t=null,i=e;i;){if(i.liDom.nextSibling&&i.liDom.nextSibling.node){t=i.liDom.nextSibling.node;break}i=i.parent}return t}function En(e){var t=null,i=e;if(i.liDom.previousSibling){var n=Dn(i.liDom.previousSibling);t=n||i.liDom.previousSibling.node}else t=i.parent;return t}function Dn(e){var t=e.node;if(t.isExpand&&t.childrenDom){var i=t.childrenDom.lastElementChild;i&&(t=Dn(i))}return t}class Nn{constructor(e,t){this.el=e,this.data=t,this.routes=[],this.searchNode=[],this.stack=new Me(60),this._doubleMark=0;var i=this.el.parentNode||this.el.parentElement;i&&(this.routeDom=i.querySelector(".mm-router"),this._linkboard=i.querySelector(".mm-link-board")),this._blockDom=document.createElement("div"),this._blockDom.classList.add("mm-block"),this.initEvent(),this.outlineChange=this.outlineChange.bind(this),this.hideFn=this.hideFn.bind(this),this.on("change",this.outlineChange),this.on("hide",this.hideFn)}hideFn(){this.showFilter=!1,this._linkboard.style.display="none"}outlineChange(e){this.view.outlineChange()}dirty(){return this.stack.dirty()}traverseDF(e,t,i){!function t(n){if(n&&n.children){i&&e(n);for(var s=0,r=n.children.length;s<r;s++)t(n.children[s]);i||e(n)}}(t||this.root)}getMarkdown(){var e="",t=this.view.plugin.settings.headLevel;return this.traverseDF((i=>{var n=i.getLevel()+1,s="",r="";if(n>1&&(s="\n"),i.getLevel()<t){for(let e=0;e<n;e++)s+="#";e+=s+" ",e+=i.getData().text.trim()+"\n"}else{for(var o=0;o<i.getLevel()-t;o++)r+="   ";var a=i.getData().text.trim();if(a){var h=a.split("\n"),l=h.length;1==l?e+=`${r}- ${a}\n`:l>1&&(a.startsWith("```")?(e+="\n",e+=`${r}-\n`,h.forEach(((t,i)=>{e+=`${r}  ${t}\n`})),e+="\n"):(e+=`${r}- `,h.forEach(((t,i)=>{e+=i>0?`${r}   ${t.trim()}\n`:`${t.trim()}\n`}))))}else e+="-\n"}}),this.root,!0),e.trim()}renderRoutes(){if(this.routeDom.innerHTML="",this.routes.length){var e=[];this.routes.forEach((t=>{var i=`<span class="mm-route-item" data-id="${t.id}">${t.text}</span> > `;e.push(i)})),this.routeDom&&(this.routeDom.innerHTML=e.join(""))}}save(){this.stack.save(),this.emit("save")}execute(e,t){switch(e){case"deleteNodeAnnotate":var i=t.node;this.stack.execute(new fn(i));break;case"addPdfNnotate":i=t.node;var n=t.id,s=t.text,r=t.type;this.stack.execute(new mn(i,n,s,r));break;case"changeText":i=t.node;var o=t.oldText,a=t.newText;this.stack.execute(new rn(i,o,a));break;case"changeNode":i=t.node;var h=t.oldData,l=t.newData;this.stack.execute(new on(i,h,l));break;case"expandNode":i=t.node;this.stack.execute(new an(i));break;case"collapseNode":i=t.node;this.stack.execute(new hn(i));break;case"addNode":t.parent,this.stack.execute(new Ji(t.node,t.parent,t.index));break;case"removeNode":this.stack.execute(new sn(t.node,t.parent));break;case"addSameNode":t.parent,this.stack.execute(new Zi(t.node,t.focusNode,t.parent,t.index));break;case"tabNode":this.stack.execute(new $i(t.node,t.index,t.oldParent,t.parent));break;case"tabNodes":this.stack.execute(new un(t.nodes,t.index,t.oldParent,t.parent));break;case"shiftTabNode":this.stack.execute(new en(t.node,t.oldParent,t.newParent));break;case"shiftTabNodes":this.stack.execute(new pn(t.nodes,t.oldParent,t.newParent));break;case"shiftCtrlTabNode":this.stack.execute(new tn(t.node,t.oldParent,t.newParent));break;case"dragNode":this.stack.execute(new nn(t.node,t.oldParent,t.newParent,t.dropNode,t.type));break;case"replaceText":var d=t.nodes;if(d&&d.length){var c=[];d.forEach((e=>{var i=new ln(e,t.word,t.replaceWord);c.push(i)})),this.stack.execute(new dn(c))}break;case"dragNodes":this.stack.execute(new cn(t.nodes,t.oldParent,t.newParent,t.dropNode,t.type))}}undo(){this.stack.undo()}redo(){this.stack.redo()}init(e,t){e&&(this.data=e),t&&(t.img||t.image);var i=this,n=[];if(this.data){if(function e(t,n){var s=new An(t,n,i);t.main&&(i.root=s,i.el.appendChild(s.liDom)),s.parent=n,n&&n.children.push(s)&&n.refreshClass(),s.list=i,t.children&&t.children.forEach((t=>{e(t,s)}))}(this.data,null),this.data.showingNode){var s=this.getNodeById(this.data.showingNode);s&&this.showNode(s)}else this.showNode(this.root);n.length&&n.forEach((e=>{e.collapse()})),this.emit("mounted",{routes:this.routes})}}showRangeNode(e){e||(e=this.root);var t=this.showingNode;if(t){var i=e.getLevel(),n=t.getLevel();i>n?this.traverseBF((t=>{t.getLevel()<i?t.hideNode():t.getLevel()==i&&(t!==e?t.hide():t.isExpand||t.expand())})):this.traverseBF((t=>{var s=t.getLevel();s<i?t.hideNode():s==i?t!=e?t.hide():t.isExpand||t.expand():s>i&&s<=n&&(t.isShow()||(t.show(),t.showNode()))}))}else this.showAllNode(e)}showAllNode(){this.traverseBF((e=>{e.isExpand||e.expand(),e.isShow()||(e.show(),e.showNode(),e.refreshClass()),e.liDom.classList.contains("node-no-border")&&e.liDom.classList.remove("node-no-border"),e.liDom.classList.contains("node-showNode")&&e.liDom.classList.remove("node-showNode")}))}openMindView(e,t){this.view.openMindView(e,t)}openPDFView(e,t){this.view.showAnnotate(e,t)}showNode(e){if(e||(e=this.root),this.showingNode)for(var t=this.showingNode;t;)t.liDom.classList.contains("node-no-border")&&t.liDom.classList.remove("node-no-border"),t.liDom.classList.contains("node-showNode")&&t.liDom.classList.remove("node-showNode"),t=t.parent;this.showRangeNode(e),this.routes=[],this.showingNode=e;var i=e;for(e.showNode(),e.liDom.classList.contains("node-showNode")||e.liDom.classList.add("node-showNode");i;)i&&i!=e&&(this.routes.unshift({text:i.getTxt(),id:i.getId()}),i.hideNode(),i.liDom.classList.contains("node-no-border")||i.liDom.classList.add("node-no-border")),i=i.parent;this.renderRoutes(),this.el.scrollTop=0}getAnnotations(){var e={},t=[];return this.traverseBF((i=>{if(i.data.isPDFRefer){var n=JSON.parse(i.data.pdf);if(e[n.id])return;e[n.id]=1;var s={id:n.id,page:n.page,text:i.data.pdf,type:n.type,pdfName:n.pdfName};"highlight"==n.type&&(s.selectText=n.selectText),t.push(n)}})),t}collapse(){this.traverseBF((e=>{e.collapse()}))}expand(){this.traverseBF((e=>{e.expand()}))}expandLevel(e){this.traverseBF((t=>{t.getLevel()<e?t.expand():t.getLevel()==e&&(t.isLeaf()||t.collapse())}),this.root)}backHistory(){this.searchNode.length&&this.searchNode.forEach((e=>{}))}search(e){var t=this;this.backHistory(),this.showAllNode(),this.searchNode=[],e&&(wi(".li-node .node-control").hide(),wi(".search_key").each(((e,i)=>{var n=wi(i).closest(".li-node");if(n){var s=n.get(0).node;-1==t.searchNode.indexOf(s)&&t.searchNode.push(s)}})),this.searchNode.forEach((e=>{for(var t=e;t;)t.showNode(),t=t.parent})))}clear(){this.removeEvent()}getNodeThemeStyle(e,t){return{}}getRoot(){return this.root}traverseBF(e,t){var i=[];i.push(t||this.root);for(var n=i.shift();n;){for(let e=0,t=n.children.length;e<t;e++)i.push(n.children[e]);e(n),n=i.shift()}}getNodeById(e){var t=null;return this.traverseBF((i=>{i.getId()==e&&(t=i)})),t}getSelectNode(){if(this._selectNode)return this._selectNode;var e=null;return this.traverseBF((t=>{t.selected&&(e=t)})),e}clearSelectNode(){this.traverseBF((e=>{e.unSelect()}))}addNode(e,t,i){i||(i=t.children.length),t.addChild(e,i)}selecNode(e){this.clearSelectNode(),e.select(),this._selectNode=e}getData(e,t,i){var n={},s=this;return function r(o,a){var h=o.getData(t,i);if(h.children=[],o==s.root?n=h:a.push(h),e&&o.data.isImageNode){if(h.image.startsWith("http"))return void(o.data.isImageNode="");var l=h.image.replace(/^data:image\/(\w|\+)+;base64,/,"");e.file(h.id+"-"+h.imageName,l,{base64:!0}),h.image=""}o.children.forEach((e=>{e.isRoot||"induce"==e.nodeType||"induce"==e.rootType||(e.data.pid=o.getId()),r(e,h.children)}))}(this.root),this.showingNode&&(n.showingNode=this.showingNode.getId()),n}census(){var e=0;return this.traverseBF((t=>{e++})),e}remove(){this.traverseBF((e=>{e.remove()})),this.el.innerHTML="",this.root=null}getEditNode(){return this._editNode||null}emit(e,t){var i=new CustomEvent(e,{detail:t});this.el.dispatchEvent(i)}on(e,t){this.el.addEventListener(e,t,!1)}off(e,t){t?this.el.removeEventListener(e,t):this.el.removeEventListener(e)}dragNodes(e,t){var i=t.liDom;if(!wi(i).closest(".shiftSelect").length&&e.length){var n=t.parent;if(n){if("top"==t.dropType)var s="top";else s="down";t.list.execute("dragNodes",{nodes:e,newParent:n,type:s,dropNode:t,oldParent:e[0].parent})}}}moveNode(e,t){if(t){var i=this.getNodeById(e);if(i!=t&&i){for(var n=!1,s=t;s;)s==i&&(n=!0),s=s.parent;if(n)return;if(i.parent){var r,o=i.parent;if("top"==t.dropType)(r=t.parent)&&this.execute("dragNode",{node:i,newParent:r,dropNode:t,oldParent:o,type:"top"});else(r=t.parent)&&this.execute("dragNode",{node:i,newParent:r,oldParent:o,dropNode:t,type:"down"})}}}}_completeFile(e,t){if(this.selectionObj){var i=function(e,t,i){var n=0,s=document.createRange();s.setStart(e,0),s.collapse(!0);for(var r,o=[e],a=!1,h=!1;!h&&(r=o.pop());)if(3==r.nodeType){var l=n+r.length;!a&&t>=n&&t<=l&&(s.setStart(r,t-n),a=!0),a&&i>=n&&i<=l&&(s.setEnd(r,i-n),h=!0),n=l}else for(var d=r.childNodes.length;d--;)o.push(r.childNodes[d]);var c=window.getSelection();return c.removeAllRanges(),c.addRange(s),c}(e.textDom,this.selectionObj.index+2,this.selectionObj.index+2+this.selectionObj.text.length),n=i.getRangeAt(0);n.deleteContents(),n.insertNode(document.createTextNode(t)),i.collapseToEnd(),this.showFilter=!1,this.selectionObj=null,this._linkboard.style.display="none",setTimeout((()=>{i.modify("move","right","character"),i.modify("move","right","character"),e.shoudRender=!0}),0)}}_completeBlock(e){if(this._blockDom.innerHTML="",this._blockDom.style.display="none",this.view&&e){var t=this.view.app.metadataCache.getFirstLinkpathDest(e,this.path||"");if(t&&"md"==t.extension){var i=this.view.app.metadataCache.getFileCache(t);if(i.headings&&i.headings.length){this._blockDom.style.display="block";for(var n=document.createElement("ul"),s=0;s<i.headings.length;s++){var r=document.createElement("li"),o=document.createElement("span");o.classList.add("mm-block-ext"),o.innerText="H"+i.headings[s].level,r.classList.add("mm-block-name");var a=document.createElement("span");a.innerText=i.headings[s].heading,r.setAttribute("data-head",i.headings[s].heading),n.appendChild(r),r.appendChild(o),r.appendChild(a)}this._blockDom.appendChild(n)}}}}_searchFiles(e){if(!e)return;if(this.timeOut&&clearTimeout(this.timeOut),!this.files){var t=this.view.app.vault.getFiles();this.files=t}this.timeOut=setTimeout((()=>{this.files=null}),5e3);var i=new bi(this.files,{keys:["name"]}).search(e);if(this._linkboard.innerHTML="",i.length){i=i.slice(0,20);for(var n=document.createElement("ul"),s=0;s<i.length;s++){var r=document.createElement("li"),o=document.createElement("span");o.classList.add("mm-file-ext"),o.innerText=i[s].item.extension,r.classList.add("mm-file-name"),i[s];var a=i[s].item.extension.length,h=i[s].item.path.substr(0,i[s].item.path.length-(a+1)),l=document.createElement("span");l.innerText=h,r.setAttribute("data-path",i[s].item.path),r.setAttribute("data-name",i[s].item.basename),n.appendChild(r),r.appendChild(o),r.appendChild(l)}this._linkboard.appendChild(n),this._linkboard.appendChild(this._blockDom);var d=this._linkboard.querySelector(".mm-file-name");d.classList.add("active");h=d.getAttribute("data-path");this._completeBlock(h)}}removeEvent(){wi(this.el).off("mouseenter"),wi(this.el).off("mouseleave"),wi(this.el).off("dragstart"),wi(this.el).off("drag"),wi(this.el).off("dragover"),wi(this.el).off("dragend"),wi(this.el).off("dragleave"),wi(this.el).off("drop"),wi(this.el).off("dblclick"),wi(this.el).off("click"),wi(this.el).off("focus"),wi(this.el).off("blur"),wi(this.el).off("mouseover"),wi(this.routeDom).off("click"),wi(document).off("keydown"),wi(document).off("keyup"),this.off("change",this.outlineChange),this.off("hide",this.hideFn),wi(this._linkboard).off("click"),wi(this._linkboard).off("mouseover")}parseQueryString(e){for(var t,i,n,s={},r=e.split("?")[1].split("&"),o=0,a=r.length;o<a;o++)i=(t=r[o].split("="))[0],n=t[1],s[i]=n;return s}initEvent(){var t=this;function i(e){(e.clientX<160||e.clientX>1e3)&&(e.clientY<window.innerHeight/2&&(document.getElementById("cicada-list").scrollTop-=30),e.clientY>window.innerHeight/2&&(document.getElementById("cicada-list").scrollTop+=30))}wi(this.el).off("mouseenter"),wi(this.el).off("mouseleave"),wi(this.el).off("dragstart"),wi(this.el).off("dragover"),wi(this.el).off("dragend"),wi(this.el).off("dragleave"),wi(this.el).off("drop"),wi(this.el).off("dblclick"),wi(this.el).off("click"),wi(this.el).off("drag"),wi(document).off("keydown"),wi(this.el).on("mouseenter",".li-node .icon-dott",(e=>{wi(e.target).closest(".li-node").get(0).node.divDom.setAttribute("draggable",!0)})),wi(this.el).on("dblclick",".li-node .icon-dott",(e=>{var t=wi(e.target).closest(".li-node").get(0).node;t.list.emit("showNode",{node:t}),t.list.showNode(t)})),wi(this.el).on("mouseleave",".li-node .icon-dott",(e=>{wi(e.target).closest(".li-node").get(0).node.divDom.setAttribute("draggable",!1)})),wi(this.el).on("dragstart",".li-node .node-control",(e=>{var t=wi(e.target).closest(".li-node").get(0).node;e.originalEvent.dataTransfer.setData("dragNodeId",t.getId())})),wi(this.el).on("drop",".li-node .node-control",(e=>{e.preventDefault();var i=wi(e.target).closest(".li-node"),n=e.originalEvent.dataTransfer.getData("dragNodeId");if(t.getNodeById(n).liDom.classList.contains("shiftSelect")){var s=t.shiftNodes;(r=i.get(0).node).list.dragNodes(s,r)}else{var r=i.get(0).node;n=e.originalEvent.dataTransfer.getData("dragNodeId");r.list.moveNode(n,r)}r.liDom.classList.contains("node-add-top")&&r.liDom.classList.remove("node-add-top"),r.liDom.classList.contains("node-add-bottom")&&r.liDom.classList.remove("node-add-bottom")})),wi(this.el).on("click",".li-node .node-open",(e=>{e.preventDefault(),e.stopPropagation();var i=wi(e.target).closest(".li-node").get(0).node;i.isExpand?t.execute("collapseNode",{node:i}):t.execute("expandNode",{node:i})})),wi(this.el).off("focus").on("focus",".li-node .text",(e=>{if(e.target&&e.target.closest(".markdown-embed"))return e.stopPropagation(),void e.preventDefault();if("A"==e.target.tagName||e.target.closest("a"))return e.stopPropagation(),void e.preventDefault();var t=wi(e.target).closest(".li-node").get(0).node;t&&!t.isEdit&&(t.renderMdText(),t.focus());var i=this._linkboard.node;i&&i!=t&&(i.shoudRender||(i.shoudRender=!0,i.cancelEdit(),this.hideFn(),this._linkboard.node=null))})),wi(this.el).off("blur").on("blur",".li-node .text",(e=>{if(e.target&&e.target.closest(".markdown-embed"))return e.stopPropagation(),void e.preventDefault();if("A"==e.target.tagName||e.target.closest("a"))e.stopPropagation();else{var t=wi(e.target).closest(".li-node").get(0).node;t&&t.shoudRender&&t.cancelEdit()}})),wi(document).off("keydown").on("keydown",(e=>{var i=e.ctrlKey||e.metaKey,n=e.keyCode||e.which||e.charCode,s=e.shiftKey,r=myListNode||this.getSelectNode();if(8!=n)if(s&&9==n){if(e.preventDefault(),e.stopPropagation(),r){if((g=r.parent)&&g==t.showingNode)return;var o=g.parent;if(o){if(r.list.shiftNodes&&r.list.shiftNodes.length)return void r.list.execute("shiftTabNodes",{nodes:t.list.shiftNodes,newParent:o,oldParent:g});r.shoudRender=!1,r.list.execute("shiftTabNode",{node:r,newParent:o,oldParent:g}),r.list.selecNode(r),r.focus(),r.shoudRender=!0}}}else{if(9==n&&(e.preventDefault(),e.stopPropagation(),r)){g=r.parent;if(r.list.shiftNodes&&r.list.shiftNodes.length){if((v=g.children.indexOf(r.list.shiftNodes[0]))>0){var a=g.children[v-1];r.list.execute("tabNodes",{nodes:this.shiftNodes,index:v,parent:a,oldParent:g})}return}if((v=g.children.indexOf(r))>0){a=g.children[v-1];r.shoudRender=!1,r.list.execute("tabNode",{node:r,index:v,parent:a,oldParent:g}),r.list.selecNode(r),r.refresh(),g.refresh(),a.refresh(),r.focus(),setTimeout((()=>{r.shoudRender=!0}),50)}}if(!i&&!s&&13==n){if(this.showFilter&&r){e.preventDefault(),e.stopPropagation();var h=this._linkboard.querySelector(".mm-file-name.active");if(h){if("md"==h.querySelector(".mm-file-ext").innerText)var l=h.getAttribute("data-name");else l=h.getAttribute("data-path");this._completeFile(r,l)}return}if(e.preventDefault(),r){if(r==t.showingNode)return(p=new An({id:bs(),text:""},null,this)).list=this,r.list.execute("addNode",{node:p,parent:r}),r.list.selecNode(p),p.focus(),p.refresh(),void r.refresh();if(g=r.parent){v=g.children.indexOf(r);(p=new An({id:bs(),text:""},null,this)).list=this,r.list.execute("addSameNode",{node:p,focusNode:r,parent:g,index:v+1}),r.list.selecNode(p),p.focus(),r.refresh(),g.refresh()}}}if(i&&221==n&&r&&r.list.showNode(r),i&&219==n&&r.list.showingNode&&r.list.showingNode.parent&&r.list.showNode(t.showingNode.parent),i&&38==n){if(e.preventDefault(),r){var d=r.getId();(y=En(r)).dropType="top",r.shoudRender=!1,r.list.moveNode(d,y),r.list.selecNode(r),r.focus(),setTimeout((()=>{r.keepFocusEnd(),r.shoudRender=!0}),0)}}else if(i&&40==n){if(e.preventDefault(),r){d=r.getId();for(var c=Cn(r);c&&c.parent==r;){var u=Cn(c);if(u==c)break;c=u}c.children.length?(c=c.children[0]).dropType="top":c.dropType="down",r.shoudRender=!1,r.list.moveNode(d,c),r.list.selecNode(r),r.focus(),setTimeout((()=>{r.keepFocusEnd(),r.shoudRender=!0}),0)}}else{if(38==n&&r){var p;if(""==r.getTxt())return void((p=En(r))&&(r.list.selecNode(p),p.isEdit||(p.renderMdText(),p.focus()),setTimeout((()=>{p.keepFocusEnd()}),0)));if("beginning"==kn(r))(p=En(r))&&(r.list.selecNode(p),p.isEdit||(p.renderMdText(),p.focus()),setTimeout((()=>{p.keepFocusEnd()}),0))}if(40==n&&r){if(""==r.getTxt())return void((c=Cn(r))&&(r.list.selecNode(c),c.isEdit||(c.renderMdText(),c.focus()),setTimeout((()=>{c.keepFocusEnd()}),0)));if("end"==kn(r))(c=Cn(r))&&(r.list.selecNode(c),c.isEdit||(c.renderMdText(),c.focus()),setTimeout((()=>{c.keepFocusEnd()}),0))}if(i&&"90"==n&&this.undo(),i&&"89"==n&&this.redo(),!i&&!s&&"["==e.key&&this._selectNode)if(this._doubleMark<1)this._doubleMark++;else{this._doubleMark=0;var m=window.getSelection(),f=m.anchorNode;if(f.closest||(f=f.parentElement),f.closest(".li-node")&&f.closest(".li-node")!=this._selectNode.liDom)return;m.getRangeAt(0).insertNode(document.createTextNode("]]")),m.collapseToStart()}38!=n&&"ArrowUp"!=e.key||this.showFilter&&e.preventDefault(),40!=n&&"ArrowDown"!=e.key||this.showFilter&&e.preventDefault()}}else if(r&&!r.getTxt().trim()){var g,v,y=En(r);if(0==(v=(g=r.parent).children.indexOf(r))){if(t.showingNode==g)return;r.list.execute("removeNode",{node:r,parent:g})}else v>0&&r.list.execute("removeNode",{node:r,parent:g});e.preventDefault(),r.list.selecNode(y),y&&!y.isEdit&&(y.renderMdText(),y.focus()),setTimeout((()=>{y&&y.keepFocusEnd()}),0)}})),wi(document).on("keyup",(e=>{var t,i=e.keyCode||e.which||e.charCode;if(38!=i&&"ArrowUp"!=e.key||!this.showFilter){if(40!=i&&"ArrowDown"!=e.key||!this.showFilter){if(this._selectNode&&this._selectNode.isEdit){var n=this._selectNode,s=function(e){var t,i=0,n=e.ownerDocument||e.document,s=n.defaultView||n.parentWindow;if(void 0!==s.getSelection){if((t=s.getSelection()).rangeCount>0){var r=s.getSelection().getRangeAt(0),o=r.cloneRange();o.selectNodeContents(e),o.setEnd(r.endContainer,r.endOffset),i=o.toString().length}}else if((t=n.selection)&&"Control"!=t.type){var a=t.createRange(),h=n.body.createTextRange();h.moveToElementText(e),h.setEndPoint("EndToEnd",a),i=h.text.length}return i}(this._selectNode.textDom),r=n.textDom.textContent;n.shoudRender=!0;var o=!1;this._linkboard.style.display="none",this.showFilter=!1;for(var a,h=/\[\[(.+?)\]\]/g,l=0;a=h.exec(r);)if(a.index+2<=s&&a.index+a[1].length+2>=s){o=!0,l=a.index,n.shoudRender=!1,this.showFilter=!0,this._linkboard.style.display="block",this._linkboard.node=n;break}if(o){this.selectionObj={num:s,index:l,text:a[1]},this._searchFiles(a[1]),wi(".mod-left-split").width();var d=bn(this._selectNode.liDom),c=xn(this._selectNode.liDom),u=wi(this._selectNode.textDom).height(),p=wi(this.el).closest(".mm-mindmap-container").get(0).scrollTop;this._linkboard.style.left=d+"px",this._linkboard.style.top=c+u-p+"px"}else this._searchFiles("")}}else if(e.preventDefault(),t=this._linkboard.querySelector(".mm-file-name.active")){var m=t.nextSibling;if(m)m.classList.add("active"),t.classList.remove("active"),(f=m.getAttribute("data-path"))&&this._completeBlock(f)}}else if(e.preventDefault(),t=this._linkboard.querySelector(".mm-file-name.active")){var f,g=t.previousSibling;if(g)g.classList.add("active"),t.classList.remove("active"),(f=g.getAttribute("data-path"))&&this._completeBlock(f)}})),wi(this._linkboard).on("click","li",(function(){if(wi(this).hasClass("mm-file-name")){var e=wi(this);if(e){if("md"==e.find(".mm-file-ext").text())var i=e.attr("data-name");else i=e.attr("data-path");t._selectNode&&t._selectNode.isEdit&&t._completeFile(t._selectNode,i)}}else if(wi(this).hasClass("mm-block-name")){var n=wi(t._linkboard).find(".mm-file-name.active");if(n){i=n.attr("data-name");var s=wi(this).attr("data-head");t._selectNode&&t._selectNode.isEdit&&t._completeFile(t._selectNode,i+"#"+s)}}})),wi(this.el).off("mouseover").on("mouseover","a",(e=>{var t=e.target;"A"===t.tagName&&t.hasClass("internal-link")&&this.view.app.workspace.trigger("hover-link",{event:e,source:a,hoverParent:this.view,targetEl:t,linktext:t.getAttr("href"),sourcePath:this.view.file.path})})),wi(this.el).on("click","a",(function(i){if(i.preventDefault(),wi(this).hasClass("internal-link")||wi(this).hasClass("external-link")){var n=wi(this).attr("href");if(n){if(n.startsWith("obsidian://jump-to-pdf")){var s=t.parseQueryString(n);if(s.pdf&&s.annotate)return void t.openPDFView(decodeURIComponent(s.annotate),decodeURIComponent(s.pdf));if(s.pdf){var r=decodeURIComponent(s.pdf);return void(r.endsWith("pdf")&&t.view.app.workspace.openLinkText(r,t.view.file.path,i.ctrlKey||i.metaKey))}if(s.md&&s.node){var o=decodeURIComponent(s.md),a=decodeURIComponent(s.node);return Object.assign(window,{"show-mindmap-node":a}),void t.openMindView(a,o)}return s.md?void t.view.app.workspace.openLinkText(decodeURIComponent(s.md),t.view.file.path,!0):void 0}if(n.endsWith(".pdf"))return void t.view.openPDF(n);if(wi(this).closest(".markdown-embed").length){const i=e.parseLinktext(n),s=i.subpath.startsWith("#^")?i.subpath.substr(2):null;var h=wi(this).closest(".markdown-embed").data("name");const r=t.view.app.metadataCache.getFirstLinkpathDest(h,t.path||"");var l=t.view.app.metadataCache.getFileCache(r);if(l&&l.frontmatter&&l.frontmatter["annotate-type"]){var d=l.frontmatter["annotate-target"];return void t.openPDFView(s,d)}}t.view.app.workspace.openLinkText(n,t.view.file.path,i.ctrlKey||i.metaKey)}}})),wi(this._linkboard).on("mouseover","li",(function(e){if(wi(this).hasClass("mm-file-name")){var i=wi(t._linkboard).find(".mm-file-name.active");i.length&&i.get(0).classList.remove("active");var n=wi(this).get(0);if(n){n.classList.add("active");var s=n.getAttribute("data-path");s&&t._completeBlock(s)}}})),wi(this.el).on("drag",function(e,t){e.timer=null;let i=Date.now();return n=>{Date.now()-i>=t&&(clearTimeout(e.timer),e.timer=setTimeout(e.bind(this,n),t),i=Date.now())}}(i,10)),wi(this.el).on("dragover",".li-node .node-control",(e=>{e.preventDefault(),i.timer&&clearTimeout(i.timer);var t=wi(e.target).closest(".li-node").get(0).node,n=t.editDom.clientHeight/2;t.list._dropNode=t,e.offsetY<n?(t.dropType="top",t.liDom.classList.add("node-add-top"),t.liDom.classList.contains("node-add-bottom")&&t.liDom.classList.remove("node-add-bottom")):(t.liDom.classList.contains("node-add-top")&&t.liDom.classList.remove("node-add-top"),t.dropType="bottom",t.liDom.classList.add("node-add-bottom"))})),wi(this.el).on("dragend",".li-node .node-control",(e=>{e.preventDefault();var t=wi(e.target).closest(".li-node").get(0).node;t.liDom.classList.contains("node-add-top")&&t.liDom.classList.remove("node-add-top"),t.liDom.classList.contains("node-add-bottom")&&t.liDom.classList.remove("node-add-bottom"),t.divDom.setAttribute("draggable",!1)})),wi(this.el).on("dragleave",".li-node .node-control",(e=>{e.preventDefault();var t=wi(e.target).closest(".li-node").get(0).node;t.liDom.classList.contains("node-add-top")&&t.liDom.classList.remove("node-add-top"),t.liDom.classList.contains("node-add-bottom")&&t.liDom.classList.remove("node-add-bottom")})),wi(this.routeDom).off("click").on("click","span",(function(e){var i=wi(this).attr("data-id"),n=t.getNodeById(i);n&&t.showNode(n)}))}}function In(){this._dropEffect="move",this._effectAllowed="all",this._data={}}function Sn(e){if(this._lastClick=0,this.el=e,Sn._instance)throw"DragDropTouch instance already created.";this.ts=this._touchstart.bind(this),this.tm=this._touchmove.bind(this),this.te=this._touchend.bind(this);var t={passive:!1,capture:!1};return this.el.addEventListener("touchstart",this.ts,t),this.el.addEventListener("touchmove",this.tm,t),this.el.addEventListener("touchend",this.te),this.el.addEventListener("touchcancel",this.te),this}Object.defineProperty(In.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(e){this._dropEffect=e},enumerable:!0,configurable:!0}),Object.defineProperty(In.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(e){this._effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(In.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),In.prototype.clearData=function(e){null!=e?delete this._data[e.toLowerCase()]:this._data={}},In.prototype.getData=function(e){return this._data[e.toLowerCase()]||""},In.prototype.setData=function(e,t){this._data[e.toLowerCase()]=t},In.prototype.setDragImage=function(e,t,i){var n=DragDropTouch._instance;n._imgCustom=e,n._imgOffset={x:t,y:i}},Sn.prototype._removeEvent=function(){var e={passive:!1,capture:!1};this.el.removeEventListener("touchstart",this.ts,e),this.el.removeEventListener("touchmove",this.tm,e),this.el.removeEventListener("touchend",this.te),this.el.removeEventListener("touchcancel",this.te)},Sn.getInstance=function(){return Sn._instance},Sn.prototype._touchstart=function(e){var t=this;if(this._shouldHandle(e)){if(Date.now()-this._lastClick<Sn._DBLCLICK&&this._dispatchEvent(e,"dblclick",e.target))return e.preventDefault(),void this._reset();this._reset();var i=this._closestDraggable(e.target);i&&(this._dispatchEvent(e,"mousemove",e.target)||this._dispatchEvent(e,"mousedown",e.target)||(this._dragSource=i,this._ptDown=this._getPoint(e),this._lastTouch=e,e.preventDefault(),setTimeout((function(){t._dragSource==i&&null==t._img&&t._dispatchEvent(e,"contextmenu",i)&&t._reset()}),Sn._CTXMENU),Sn._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout((function(){t._isDragEnabled=!0,t._touchmove(e)}),Sn._PRESSHOLDAWAIT))))}},Sn.prototype._touchmove=function(e){if(this._shouldCancelPressHoldMove(e))this._reset();else if(this._shouldHandleMove(e)||this._shouldHandlePressHoldMove(e)){var t=this._getTarget(e);if(this._dispatchEvent(e,"mousemove",t))return this._lastTouch=e,void e.preventDefault();this._dragSource&&!this._img&&this._shouldStartDragging(e)&&(this._dispatchEvent(e,"dragstart",this._dragSource),this._createImage(e),this._dispatchEvent(e,"dragenter",t)),this._img&&(this._lastTouch=e,e.preventDefault(),this._dispatchEvent(e,"drag",this._dragSource),t!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(e,"dragenter",t),this._lastTarget=t),this._moveImage(e),this._isDropZone=this._dispatchEvent(e,"dragover",t))}},Sn.prototype._touchend=function(e){if(this._shouldHandle(e)){if(this._dispatchEvent(this._lastTouch,"mouseup",e.target))return void e.preventDefault();this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",e.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(e.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},Sn.prototype._shouldHandle=function(e){return e&&!e.defaultPrevented&&e.touches&&e.touches.length<2},Sn.prototype._shouldHandleMove=function(e){return!Sn._ISPRESSHOLDMODE&&this._shouldHandle(e)},Sn.prototype._shouldHandlePressHoldMove=function(e){return Sn._ISPRESSHOLDMODE&&this._isDragEnabled&&e&&e.touches&&e.touches.length},Sn.prototype._shouldCancelPressHoldMove=function(e){return Sn._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(e)>Sn._PRESSHOLDMARGIN},Sn.prototype._shouldStartDragging=function(e){var t=this._getDelta(e);return t>Sn._THRESHOLD||Sn._ISPRESSHOLDMODE&&t>=Sn._PRESSHOLDTHRESHOLD},Sn.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new In,clearInterval(this._pressHoldInterval)},Sn.prototype._getPoint=function(e,t){return e&&e.touches&&(e=e.touches[0]),{x:t?e.pageX:e.clientX,y:t?e.pageY:e.clientY}},Sn.prototype._getDelta=function(e){if(Sn._ISPRESSHOLDMODE&&!this._ptDown)return 0;var t=this._getPoint(e);return Math.abs(t.x-this._ptDown.x)+Math.abs(t.y-this._ptDown.y)},Sn.prototype._getTarget=function(e){for(var t=this._getPoint(e),i=document.elementFromPoint(t.x,t.y);i&&"none"==getComputedStyle(i).pointerEvents;)i=i.parentElement;return i},Sn.prototype._createImage=function(e){this._img&&this._destroyImage();var t=this._imgCustom||this._dragSource;if(this._img=t.cloneNode(!0),this._copyStyle(t,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var i=t.getBoundingClientRect(),n=this._getPoint(e);this._imgOffset={x:n.x-i.left,y:n.y-i.top},this._img.style.opacity=Sn._OPACITY.toString()}this._moveImage(e),document.body.appendChild(this._img)},Sn.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},Sn.prototype._moveImage=function(e){var t=this;requestAnimationFrame((function(){if(t._img){var i=t._getPoint(e,!0),n=t._img.style;n.position="absolute",n.pointerEvents="none",n.zIndex="999999",n.left=Math.round(i.x-t._imgOffset.x)+"px",n.top=Math.round(i.y-t._imgOffset.y)+"px"}}))},Sn.prototype._copyProps=function(e,t,i){for(var n=0;n<i.length;n++){var s=i[n];e[s]=t[s]}},Sn.prototype._copyStyle=function(e,t){if(Sn._rmvAtts.forEach((function(e){t.removeAttribute(e)})),e instanceof HTMLCanvasElement){var i=e,n=t;n.width=i.width,n.height=i.height,n.getContext("2d").drawImage(i,0,0)}for(var s=getComputedStyle(e),r=0;r<s.length;r++){var o=s[r];o.indexOf("transition")<0&&(t.style[o]=s[o])}t.style.pointerEvents="none";for(r=0;r<e.children.length;r++)this._copyStyle(e.children[r],t.children[r])},Sn.prototype._dispatchEvent=function(e,t,i){if(e&&i){var n=document.createEvent("Event"),s=e.touches?e.touches[0]:e;return n.initEvent(t,!0,!0),n.button=0,n.which=n.buttons=1,this._copyProps(n,e,Sn._kbdProps),this._copyProps(n,s,Sn._ptProps),n.dataTransfer=this._dataTransfer,i.dispatchEvent(n),n.defaultPrevented}return!1},Sn.prototype._closestDraggable=function(e){for(;e;e=e.parentElement)if(e.hasAttribute("draggable")&&e.draggable)return e;return null},Sn._THRESHOLD=5,Sn._OPACITY=.5,Sn._DBLCLICK=200,Sn._CTXMENU=900,Sn._ISPRESSHOLDMODE=!1,Sn._PRESSHOLDAWAIT=400,Sn._PRESSHOLDMARGIN=25,Sn._PRESSHOLDTHRESHOLD=0,Sn._rmvAtts="id,class,style,draggable".split(","),Sn._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),Sn._ptProps="pageX,pageY,clientX,clientY,screenX,screenY,offsetX,offsetY".split(",");var Bn=ke((function(e){!function(t){var i=function(){return{escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){var i=t(e).toLowerCase();return(n="application/font-woff",s="image/jpeg",{woff:n,woff2:n,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:s,jpeg:s,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[i]||"";var n,s},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise((function(t){e.toBlob(t)})):function(e){return new Promise((function(t){for(var i=window.atob(e.toDataURL().split(",")[1]),n=i.length,s=new Uint8Array(n),r=0;r<n;r++)s[r]=i.charCodeAt(r);t(new Blob([s],{type:"image/png"}))}))}(e)},resolveUrl:function(e,t){var i=document.implementation.createHTMLDocument(),n=i.createElement("base");i.head.appendChild(n);var s=i.createElement("a");return i.body.appendChild(s),n.href=t,s.href=e,s.href},getAndEncode:function(e){var t=3e4;a.impl.options.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());return new Promise((function(i){var n,s=new XMLHttpRequest;if(s.onreadystatechange=o,s.ontimeout=h,s.responseType="blob",s.timeout=t,s.open("GET",e,!0),s.send(),a.impl.options.imagePlaceholder){var r=a.impl.options.imagePlaceholder.split(/,/);r&&r[1]&&(n=r[1])}function o(){if(4===s.readyState)if(200===s.status){var t=new FileReader;t.onloadend=function(){var e=t.result.split(/,/)[1];i(e)},t.readAsDataURL(s.response)}else n?i(n):l("cannot fetch resource: "+e+", status: "+s.status)}function h(){n?i(n):l("timeout of "+t+"ms occured while fetching resource: "+e)}function l(e){console.error(e),i("")}}))},uid:(e=0,function(){return"u"+t()+e++;function t(){return("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)}}),delay:function(e){return function(t){return new Promise((function(i){setTimeout((function(){i(t)}),e)}))}},asArray:function(e){for(var t=[],i=e.length,n=0;n<i;n++)t.push(e[n]);return t},escapeXhtml:function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(e){return new Promise((function(t,i){var n=new Image;n.onload=function(){t(n)},n.onerror=i,n.src=e}))},width:function(e){var t=i(e,"border-left-width"),n=i(e,"border-right-width");return e.scrollWidth+t+n},height:function(e){var t=i(e,"border-top-width"),n=i(e,"border-bottom-width");return e.scrollHeight+t+n}};var e;function t(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function i(e,t){var i=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(i.replace("px",""))}}(),n=function(){var e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(e,i,r){return o()?Promise.resolve(e):Promise.resolve(e).then(n).then((function(t){var n=Promise.resolve(e);return t.forEach((function(e){n=n.then((function(t){return s(t,e,i,r)}))})),n}));function o(){return!t(e)}},shouldProcess:t,impl:{readUrls:n,inline:s}};function t(t){return-1!==t.search(e)}function n(t){for(var n,s=[];null!==(n=e.exec(t));)s.push(n[1]);return s.filter((function(e){return!i.isDataUrl(e)}))}function s(e,t,n,s){return Promise.resolve(t).then((function(e){return n?i.resolveUrl(e,n):e})).then(s||i.getAndEncode).then((function(e){return i.dataAsUrl(e,i.mimeType(t))})).then((function(n){return e.replace(function(e){return new RegExp("(url\\(['\"]?)("+i.escape(e)+")(['\"]?\\))","g")}(t),"$1"+n+"$3")}))}}(),s=function(){return{resolveAll:function(){return e().then((function(e){return Promise.all(e.map((function(e){return e.resolve()})))})).then((function(e){return e.join("\n")}))},impl:{readAll:e}};function e(){return Promise.resolve(i.asArray(document.styleSheets)).then((function(e){var t=[];return e.forEach((function(e){try{i.asArray(e.cssRules||[]).forEach(t.push.bind(t))}catch(t){console.log("Error while reading CSS rules from "+e.href,t.toString())}})),t})).then((function(e){return e.filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).filter((function(e){return n.shouldProcess(e.style.getPropertyValue("src"))}))})).then((function(t){return t.map(e)}));function e(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return n.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}}}(),r=function(){return{inlineAll:function t(s){return s instanceof Element?r(s).then((function(){return s instanceof HTMLImageElement?e(s).inline():Promise.all(i.asArray(s.childNodes).map((function(e){return t(e)})))})):Promise.resolve(s);function r(e){if(!e.style)return Promise.resolve(e);var t=e.style.getPropertyValue("background");return t?n.inlineAll(t).then((function(t){e.style&&e.style.setProperty&&e.style.setProperty("background",t,e.style.getPropertyPriority("background"))})).then((function(){return e})):Promise.resolve(e)}},impl:{newImage:e}};function e(e){return{inline:function(t){return i.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(t||i.getAndEncode).then((function(t){return i.dataAsUrl(t,i.mimeType(e.src))})).then((function(t){return new Promise((function(i,n){e.onload=i,e.onerror=n,e.src=t}))}))}}}}(),o={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:h,toPng:function(e,t){return l(e,t||{}).then((function(e){return e.toDataURL()}))},toJpeg:function(e,t){return l(e,t=t||{}).then((function(e){return e.toDataURL("image/jpeg",t.quality||1)}))},toBlob:function(e,t){return l(e,t||{}).then(i.canvasToBlob)},toPixelData:function(e,t){return l(e,t||{}).then((function(t){return t.getContext("2d").getImageData(0,0,i.width(e),i.height(e)).data}))},impl:{fontFaces:s,images:r,util:i,inliner:n,options:{}}};function h(e,t){return function(e){void 0===e.imagePlaceholder?a.impl.options.imagePlaceholder=o.imagePlaceholder:a.impl.options.imagePlaceholder=e.imagePlaceholder;void 0===e.cacheBust?a.impl.options.cacheBust=o.cacheBust:a.impl.options.cacheBust=e.cacheBust}(t=t||{}),Promise.resolve(e).then((function(e){return d(e,t.filter,!0)})).then(c).then(u).then((function(e){t.bgcolor&&(e.style.backgroundColor=t.bgcolor);t.width&&(e.style.width=t.width+"px");t.height&&(e.style.height=t.height+"px");t.style&&Object.keys(t.style).forEach((function(i){e.style[i]=t.style[i]}));return e})).then((function(n){return function(e,t,n){return Promise.resolve(e).then((function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)})).then(i.escapeXhtml).then((function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"})).then((function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+n+'">'+e+"</svg>"})).then((function(e){return"data:image/svg+xml;charset=utf-8,"+e}))}(n,t.width||i.width(e),t.height||i.height(e))}))}function l(e,t){return h(e,t).then(i.makeImage).then(i.delay(100)).then((function(n){var s=function(e){var n=document.createElement("canvas");if(n.width=t.width||i.width(e),n.height=t.height||i.height(e),t.bgcolor){var s=n.getContext("2d");s.fillStyle=t.bgcolor,s.fillRect(0,0,n.width,n.height)}return n}(e);return s.getContext("2d").drawImage(n,0,0),s}))}function d(e,t,n){return n||!t||t(e)?Promise.resolve(e).then((function(e){return e instanceof HTMLCanvasElement?i.makeImage(e.toDataURL()):e.cloneNode(!1)})).then((function(n){return function(e,t,n){var s=e.childNodes;return 0===s.length?Promise.resolve(t):r(t,i.asArray(s),n).then((function(){return t}));function r(e,t,i){var n=Promise.resolve();return t.forEach((function(t){n=n.then((function(){return d(t,i)})).then((function(t){t&&e.appendChild(t)}))})),n}}(e,n,t)})).then((function(t){return function(e,t){return t instanceof Element&&t.style?Promise.resolve().then(n).then(s).then(r).then(o).then((function(){return t})):t;function n(){function n(e,t){function n(e,t){t.setProperty&&i.asArray(e).forEach((function(i){e&&t.setProperty(i,e.getPropertyValue(i),e.getPropertyPriority(i))}))}e.cssText?t.cssText=e.cssText:n(e,t)}n(window.getComputedStyle(e),t.style)}function s(){function n(n){var s=window.getComputedStyle(e,n),r=s.getPropertyValue("content");if(""!==r&&"none"!==r){var o=i.uid();t.className=t.className+" "+o;var a=document.createElement("style");a.appendChild(h(o,n,s)),t.appendChild(a)}function h(e,t,n){var s="."+e+":"+t,r=n.cssText?o(n):a(n);return document.createTextNode(s+"{"+r+"}");function o(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}function a(e){return i.asArray(e).map(t).join("; ")+";";function t(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}}}}[":before",":after"].forEach((function(e){n(e)}))}function r(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}function o(){t instanceof SVGElement&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof SVGRectElement&&["width","height"].forEach((function(e){var i=t.getAttribute(e);i&&t.style&&t.style.setProperty&&t.style.setProperty(e,i)})))}}(e,t)})):Promise.resolve()}function c(e){return s.resolveAll().then((function(t){var i=document.createElement("style");return e.appendChild(i),i.appendChild(document.createTextNode(t)),e}))}function u(e){return r.inlineAll(e).then((function(){return e}))}e.exports=a}()}));function Mn(e,t){return Array(t+1).join(e)}var Tn=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function Ln(e){return _n(e,Tn)}var Pn=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function On(e){return _n(e,Pn)}var Rn=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function _n(e,t){return t.indexOf(e.nodeName)>=0}function Fn(e,t){return e.getElementsByTagName&&t.some((function(t){return e.getElementsByTagName(t).length}))}var zn={};function Qn(e){return e?e.replace(/(\n+\s*)+/g,"\n"):""}function Hn(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function jn(e,t,i){for(var n=0;n<e.length;n++){var s=e[n];if(qn(s,t,i))return s}}function qn(e,t,i){var n=e.filter;if("string"==typeof n){if(n===t.nodeName.toLowerCase())return!0}else if(Array.isArray(n)){if(n.indexOf(t.nodeName.toLowerCase())>-1)return!0}else{if("function"!=typeof n)throw new TypeError("`filter` needs to be a string, array, or function");if(n.call(e,t,i))return!0}}function Wn(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function Vn(e,t,i){return e&&e.parentNode===t||i(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}zn.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},zn.lineBreak={filter:"br",replacement:function(e,t,i){return i.br+"\n"}},zn.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,i){var n=Number(t.nodeName.charAt(1));return"setext"===i.headingStyle&&n<3?"\n\n"+e+"\n"+Mn(1===n?"=":"-",e.length)+"\n\n":"\n\n"+Mn("#",n)+" "+e+"\n\n"}},zn.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},zn.list={filter:["ul","ol"],replacement:function(e,t){var i=t.parentNode;return"LI"===i.nodeName&&i.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},zn.listItem={filter:"li",replacement:function(e,t,i){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var n=i.bulletListMarker+"   ",s=t.parentNode;if("OL"===s.nodeName){var r=s.getAttribute("start"),o=Array.prototype.indexOf.call(s.children,t);n=(r?Number(r)+o:o+1)+".  "}return n+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},zn.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,i){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},zn.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,i){for(var n,s=((t.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],r=t.firstChild.textContent,o=i.fence.charAt(0),a=3,h=new RegExp("^"+o+"{3,}","gm");n=h.exec(r);)n[0].length>=a&&(a=n[0].length+1);var l=Mn(o,a);return"\n\n"+l+s+"\n"+r.replace(/\n$/,"")+"\n"+l+"\n\n"}},zn.horizontalRule={filter:"hr",replacement:function(e,t,i){return"\n\n"+i.hr+"\n\n"}},zn.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var i=t.getAttribute("href"),n=Qn(t.getAttribute("title"));return n&&(n=' "'+n+'"'),"["+e+"]("+i+n+")"}},zn.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,i){var n,s,r=t.getAttribute("href"),o=Qn(t.getAttribute("title"));switch(o&&(o=' "'+o+'"'),i.linkReferenceStyle){case"collapsed":n="["+e+"][]",s="["+e+"]: "+r+o;break;case"shortcut":n="["+e+"]",s="["+e+"]: "+r+o;break;default:var a=this.references.length+1;n="["+e+"]["+a+"]",s="["+a+"]: "+r+o}return this.references.push(s),n},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},zn.emphasis={filter:["em","i"],replacement:function(e,t,i){return e.trim()?i.emDelimiter+e+i.emDelimiter:""}},zn.strong={filter:["strong","b"],replacement:function(e,t,i){return e.trim()?i.strongDelimiter+e+i.strongDelimiter:""}},zn.code={filter:function(e){var t=e.previousSibling||e.nextSibling,i="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!i},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",i="`",n=e.match(/`+/gm)||[];-1!==n.indexOf(i);)i+="`";return i+t+e+t+i}},zn.image={filter:"img",replacement:function(e,t){var i=Qn(t.getAttribute("alt")),n=t.getAttribute("src")||"",s=Qn(t.getAttribute("title"));return n?"!["+i+"]("+n+(s?' "'+s+'"':"")+")":""}},Hn.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=jn(this.array,e,this.options))||(t=jn(this._keep,e,this.options))||(t=jn(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var Un="undefined"!=typeof window?window:{};var Xn,Gn,Yn=function(){var e=Un.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?Un.DOMParser:(Xn=function(){},function(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){Un.ActiveXObject&&(e=!0)}return e}()?Xn.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t}:Xn.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t},Xn);function Kn(e,t){var i;"string"==typeof e?i=(Gn=Gn||new Yn).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):i=e.cloneNode(!0);return function(e){var t=e.element,i=e.isBlock,n=e.isVoid,s=e.isPre||function(e){return"PRE"===e.nodeName};if(t.firstChild&&!s(t)){for(var r=null,o=!1,a=null,h=Vn(a,t,s);h!==t;){if(3===h.nodeType||4===h.nodeType){var l=h.data.replace(/[ \r\n\t]+/g," ");if(r&&!/ $/.test(r.data)||o||" "!==l[0]||(l=l.substr(1)),!l){h=Wn(h);continue}h.data=l,r=h}else{if(1!==h.nodeType){h=Wn(h);continue}i(h)||"BR"===h.nodeName?(r&&(r.data=r.data.replace(/ $/,"")),r=null,o=!1):n(h)||s(h)?(r=null,o=!0):r&&(o=!1)}var d=Vn(a,h,s);a=h,h=d}r&&(r.data=r.data.replace(/ $/,""),r.data||Wn(r))}}({element:i,isBlock:Ln,isVoid:On,isPre:t.preformattedCode?Jn:null}),i}function Jn(e){return"PRE"===e.nodeName||"CODE"===e.nodeName}function Zn(e,t){return e.isBlock=Ln(e),e.isCode="CODE"===e.nodeName||e.parentNode.isCode,e.isBlank=function(e){return!On(e)&&!function(e){return _n(e,Rn)}(e)&&/^\s*$/i.test(e.textContent)&&!function(e){return Fn(e,Pn)}(e)&&!function(e){return Fn(e,Rn)}(e)}(e),e.flankingWhitespace=function(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var i=(n=e.textContent,s=n.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/),{leading:s[1],leadingAscii:s[2],leadingNonAscii:s[3],trailing:s[4],trailingNonAscii:s[5],trailingAscii:s[6]});var n,s;i.leadingAscii&&$n("left",e,t)&&(i.leading=i.leadingNonAscii);i.trailingAscii&&$n("right",e,t)&&(i.trailing=i.trailingNonAscii);return{leading:i.leading,trailing:i.trailing}}(e,t),e}function $n(e,t,i){var n,s,r;return"left"===e?(n=t.previousSibling,s=/ $/):(n=t.nextSibling,s=/^ /),n&&(3===n.nodeType?r=s.test(n.nodeValue):i.preformattedCode&&"CODE"===n.nodeName?r=!1:1!==n.nodeType||Ln(n)||(r=s.test(n.textContent))),r}var es=Array.prototype.reduce,ts=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function is(e){if(!(this instanceof is))return new is(e);var t={rules:zn,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}};this.options=function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}return e}({},t,e),this.rules=new Hn(this.options)}function ns(e){var t=this;return es.call(e.childNodes,(function(e,i){var n="";return 3===(i=new Zn(i,t.options)).nodeType?n=i.isCode?i.nodeValue:t.escape(i.nodeValue):1===i.nodeType&&(n=rs.call(t,i)),os(e,n)}),"")}function ss(e){var t=this;return this.rules.forEach((function(i){"function"==typeof i.append&&(e=os(e,i.append(t.options)))})),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function rs(e){var t=this.rules.forNode(e),i=ns.call(this,e),n=e.flankingWhitespace;return(n.leading||n.trailing)&&(i=i.trim()),n.leading+t.replacement(i,e,this.options)+n.trailing}function os(e,t){var i=function(e){for(var t=e.length;t>0&&"\n"===e[t-1];)t--;return e.substring(0,t)}(e),n=t.replace(/^\n*/,""),s=Math.max(e.length-i.length,t.length-n.length);return i+"\n\n".substring(0,s)+n}is.prototype={turndown:function(e){if(!function(e){return null!=e&&("string"==typeof e||e.nodeType&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))}(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(""===e)return"";var t=ns.call(this,new Kn(e,this.options));return ss.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!=typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return ts.reduce((function(e,t){return e.replace(t[0],t[1])}),e)}};class as{constructor(e){this.translations=[],this.dom=null,this.view=null,this.pdfPath="",this.translations=e,this.dom=document.createElement("div"),this.dom.classList.add("mm-translate"),this.clickFn=this.clickFn.bind(this),this.init(),this.addEvent()}init(){if(this.translations.length){var e=[];this.translations.forEach((t=>{e.push(this.createElement(t))})),this.dom.innerHTML=e.join("")}else this.dom.innerText="..."}createElement(e){return e.id?`\n          <div class="mm-translate-item" data-id="${e.id}">\n                  <div class="mm-translate-text">\n                   ${e.text}\n                  </div>\n                  <div class="mm-translate-ts">\n                    ${e.translate}\n                  </div>\n          </div>\n        `:""}addEvent(){this.dom.addEventListener("click",this.clickFn)}removeEvent(){this.dom.removeEventListener("click",this.clickFn)}clickFn(e){var t=e.target;if(t&&t.closest(".mm-translate-item")){var i=t.closest(".mm-translate-item").getAttribute("data-id");this.translations.forEach((e=>{var t;e.id==i&&(null===(t=this.view)||void 0===t||t.showAnnotateByJson(e,this.pdfPath))}))}}clear(){this.removeEvent(),this.dom.innerHTML=""}getTranslation(){var e="";return this.translations.forEach((t=>{e+=t.translate,e+="\n"})),e}}function hs(e,t,i){var n=e.querySelectorAll("*:not(head)");if(n.length)for(let e of n)if("p"==e.tagName&&e.children.length)for(let n=0;n<e.children.length;n++)t.push(ls(e.children[n],i))}function ls(e,t){if(!e.getAttribute("coords"))return e.textContent;let i=e.getAttribute("coords").split(";").map((e=>e.split(",").map(Number))),n=i[0][0];i=i.filter((e=>e[0]==n));const s=t.querySelector(`facsimile surface[n='${n}']`),r=Number(s.getAttribute("lrx")),o=Number(s.getAttribute("lry"));let a=i.map((e=>[(e=e.slice(1))[0],o-e[1]-e[3],e[0]+e[2],o-e[1]]));return{id:bs(),text:e.textContent,type:"highlight",position:{pageIndex:n-1,rects:a},translate:"",pageWidth:r}}if(e.Platform.isDesktop)var ds=require("electron"),cs=require("fs");var us=new is,ps=r("Mindmap is in read"),ms=Array.prototype.indexOf,fs=Array.prototype.every,gs={};function vs(e){var t,i,n=e.parentNode;return"THEAD"===n.nodeName||n.firstChild===e&&("TABLE"===n.nodeName||(i=(t=n).previousSibling,"TBODY"===t.nodeName&&(!i||"THEAD"===i.nodeName&&/^\s*$/i.test(i.textContent))))&&fs.call(e.childNodes,(function(e){return"TH"===e.nodeName}))}function ys(e,t){var i=" ";return 0===ms.call(t.parentNode.childNodes,t)&&(i="| "),i+e+" |"}if(gs.tableCell={filter:["th","td"],replacement:function(e,t){return ys(e,t)}},gs.tableRow={filter:"tr",replacement:function(e,t){var i="",n={left:":--",right:"--:",center:":-:"};if(vs(t))for(var s=0;s<t.childNodes.length;s++){var r="---",o=(t.childNodes[s].getAttribute("align")||"").toLowerCase();o&&(r=n[o]||r),i+=ys(r,t.childNodes[s])}return"\n"+e+(i?"\n"+i:"")}},gs.table={filter:function(e){return"TABLE"===e.nodeName&&vs(e.rows[0])},replacement:function(e){return"\n\n"+(e=e.replace("\n\n","\n"))+"\n\n"}},gs.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}},us.use([function(e){for(var t in e.keep((function(e){return"TABLE"===e.nodeName&&!vs(e.rows[0])})),gs)e.addRule(t,gs[t])}]),e.Platform.isDesktop)var As=require("crypto"),xs=(cs=require("fs"),require("path"));else As=null,cs=null,xs=null;function bs(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()}function ws(e){for(var t,i,n,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklopqrst",r=s.split(""),o="",a=0;a<e.length;a++)o+=r[(t=((t=((t=e.charCodeAt(a))-(i=t%54))/54)-(n=t%54))/54)%54]+r[n]+r[i];return o}function ks(e){var t,i,n,s,r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklopqrst",a=0;t=(r=new Array(Math.floor(e.length/3))).length;for(var h=0;h<t;h++)i=o.indexOf(e.charAt(a)),a++,n=o.indexOf(e.charAt(a)),a++,s=o.indexOf(e.charAt(a)),a++,r[h]=54*i*54+54*n+s;t="";for(var l=0;l<r.length;l++)t+=String.fromCharCode(r[l]);return t}function Cs(e){var t=!0;"blockquote"==e.t&&(t=!1,(e=e.c[0]).v="> "+e.v);const i=/^.+ \^([a-z0-9\-]+)$/gim.exec(e.v),n=null!=i?i[1]:null;var s={id:n||bs(),text:n?e.v.replace(` ^${n}`,""):e.v,children:[],isExpand:!n};return t&&e.c&&e.c.length&&e.c.forEach((e=>{s.children.push(Cs(e))})),s}const Es=new Xi.Transformer,Ds="mindmapview";var Ns=_i;class Is extends e.TextFileView{getViewType(){return Ds}getIcon(){return"blocks"}getDisplayText(){var e;return(null===(e=this.file)||void 0===e?void 0:e.basename)||"mindmap"}setColors(){for(var e=0;e<100;e++)this.colors.push(Ee())}showNeedNotice(){this.period&&new e.Notice(r("The probation period has ended"))}mindMapChange(){if(this.mindmap){this.plugin.statusBarItemEl&&(this.plugin.statusBarItemEl.innerText=r("Saving data")),this._saveTime&&clearTimeout(this._saveTime);var e=this.frontmatter,t=this.mindmap.getMarkdown();if("basic"==this.mindmap._mode||"table"==this.mindmap._mode)this.data=e+t;else{var i=this.mindmap.root.getData().text.trim();if(this.richFirstSave)this.data=e+`# ${i}\n\`\`\` json\n`+t+"\n```\n";else{var n=/^(\`\`\` json)$.+?^(\`\`\`)$.+?/ims;this.richFlag&&(n=/^(\`\`\`json)$.+?^(\`\`\`)$.+?/ims),this.data=this.data.replace(n,(()=>this.richFlag?"```json\n"+t+"\n```\n":"``` json\n"+t+"\n```\n"))}}this.requestSave(),this._saveTime=setTimeout((()=>{this.plugin.statusBarItemEl&&(this._saveTime=setTimeout((()=>{this.plugin.statusBarItemEl.innerText=r("Saved"),this._saveTime=setTimeout((()=>{this.plugin.statusBarItemEl.innerText=""}),1e3)}),1200))}),800)}}showChangelayoutMessage(){new e.Notice(r("Can not change layout"))}outlineChange(){if(this.list){var e=this.list.getMarkdown(),t=this.frontmatter;this.data=t+e,this.requestSave()}}getFrontMatter(){var e="";if(this.fileCache.frontmatter){e=/---(.*?)---/gs.exec(this.data)[0]||""}return e+="\n\n"}constructor(t,i){super(t),this.id=this.leaf.id,this.colors=[],this.timeOut=null,this.firstInit=!0,this.pdf_head=[],this.pdfFactory=null,this.pdfViewer=null,this.localPdfAnnotations=[],this.interval=null,this.annotate_path="",this._haveOpenPdf=!1,this._haveOpenEpub=!1,this._hasAddEpubEvent=!1,this._mode="rich",this.frontmatter="",this.period=!1,this.onlyPdf=!1,this.isShowOutline=!1,this.useMarkdown=null,this.firstExport=1,this.activeCode="",this.firstActive=0,this.iframe=null,this.win=null,this.richFirstSave=!1,this.forceMindMapMode=!1,this.dragDrop=null,this.book=null,this.isShowTable=!1,this._openIframeSrc="",this._extractHighlight=!1,this._useHandDraw=!1,this._saveTime=null,this.isTranslate=!1,this.translateView=null,this.translateContainer=null,this.richFlag=!1,this.plugin=i,this._viewMark=bs(),this.setColors(),this.plugin.settings.strokeArray&&(this.colors=this.plugin.settings.strokeArray.split(","),this.setColors()),"md"==this.plugin.settings.useMarkdownSaveAnnotation&&(this.useMarkdown=!0),this.firstActive=this.plugin.settings.firstActive,this.appContainer=document.createElement("div"),this.appContainer.style.width="100%",this.appContainer.style.height="100%",this.appContainer.style.overflow="hidden",this.appContainer.classList.add("mm-app-container"),e.Platform.isMobileApp&&this.appContainer.classList.add("mm-mobile-app"),this.contentEl.appendChild(this.appContainer),this.pdfContainer=document.createElement("div"),this.pdfContainer.classList.add("mm-pdf-container"),this.mindmapContainer=document.createElement("div"),this.mindmapContainer.classList.add("mm-mindmap-container"),this.translateContainer=document.createElement("div"),this.translateContainer.classList.add("mm-translate-container"),this.appContainer.appendChild(this.mindmapContainer),this.appContainer.appendChild(this.pdfContainer),this.appContainer.appendChild(this.translateContainer),window.onlyPdf&&(this.onlyPdf=window.onlyPdf,window.onlyPdf=!1),this.win=this.appContainer.win||window,this.appContainer.onWindowMigrated&&this.appContainer.onWindowMigrated((e=>{this.mindmap&&this.list&&((this.mindmap||this.list).clear(),this.mindmap=null,this.list=null),this._haveOpenPdf=!1,this._haveOpenEpub=!1,this._closePDF(),this.removeMessageEvent(),setTimeout((()=>{var t=this.data;this.win=e,this.setViewData(t)}),200)})),this.setOnlyPdf(),this._judgeTime(),(this.plugin.settings.activeCode||this.plugin.settings.mobileActiveCode)&&(this.activeCode=this.plugin.settings.activeCode||this.plugin.settings.mobileActiveCode||"",this.checkActive()),this.dragDropTouch(),this.fileCache={frontmatter:{"mindmap-plugin":"basic"}}}dragDropTouch(){e.Platform.isMobileApp&&!this.dragDrop&&(this.dragDrop=new Sn(this.contentEl))}_activeSoft(t){1==t.plan?(new Date).getTime()>new Date(t.endDate).getTime()?(this.period=!0,new e.Notice(`${r("The probation period has ended")}`)):(this.period=!1,this.firstActive||(new e.Notice(`${r("Active success")}`),this.firstActive=1,this.plugin.settings.firstActive=1,this.plugin.saveData(this.plugin.settings))):2==t.plan||6==t.plan?this.period=!1:this.period=!0}getData(){return this.mindmap?JSON.stringify(this.mindmap.getData()):""}exportToPng(){if(this.mindmap){if(this.plugin.statusBarItemEl&&(this.plugin.statusBarItemEl.innerText=r("Saving image")),"table"==this.mindmap._mode){var t=this.mindmap.containerEL.scrollLeft,i=this.mindmap.containerEL.scrollTop,n={x:this.mindmap.tableDom.style.left,y:this.mindmap.tableDom.style.top},s=this.mindmap.tableDom.clientWidth+200,o=this.mindmap.tableDom.clientHeight+200;this.mindmap.tableDom.style.left="100px",this.mindmap.tableDom.style.top="100px"}else{var a=[];this.mindmap.traverseDF((e=>{e.isShow()&&a.push(e)})),this.mindmap.freeNodes.forEach((e=>{this.mindmap.traverseDF((e=>{e.isShow()&&a.push(e)}),e)})),this.mindmap.induces.forEach((e=>{this.mindmap.traverseDF((e=>{e.isShow()&&a.push(e)}),e.root)})),this.mindmap.relateLinks.forEach((e=>{e.textNode&&e.textNode.isShow()&&a.push(e.textNode)}));t=this.mindmap.containerEL.scrollLeft,i=this.mindmap.containerEL.scrollTop;var h=this.mindmap.getBoundingRect(a),l=this.mindmap.root.getPosition();(n={})[this.mindmap.root.getId()]=l,this.mindmap.freeNodes.forEach((e=>{n[e.getId()]=e.getPosition()}));var d=0,c=0;h.x>100&&(d=h.x-100),h.y>100&&(c=h.y-100),this.mindmap.root.setPosition(l.x-d,l.y-c),this.mindmap.freeNodes.forEach((e=>{var t=e.getPosition();e.setPosition(t.x-d,t.y-c),e.layout.refresh()})),this.mindmap.refresh(),this.mindmap.updateAssist(),this.mindmap.refresh(),this.mindmap.updateRelateLink();s=h.width+200,o=h.height+200}this.mindmap.contentEL.style.width=s+"px",this.mindmap.contentEL.style.height=o+"px",(this._useHandDraw||"basic"==this._mode)&&(this.mindmap.root._createHandDrawFill(),this.mindmap.root.children.forEach((e=>{e._createHandDrawFill()}))),setTimeout((()=>{Bn.toPng(this.mindmap.contentEL,{}).then((s=>{var o=new Image;o.src=s;var a=o.outerHTML,h=this.mindmap.path.substr(0,this.mindmap.path.length-2);try{new e.Notice(h+"html"),this.app.vault.adapter.write(h+"html",a),this.restoreMindmap(n,t,i),this.plugin.statusBarItemEl&&(this.plugin.statusBarItemEl.innerText=r("Saved"),setTimeout((()=>{this.plugin.statusBarItemEl.innerText=""}),1e3))}catch(s){this.restoreMindmap(n,t,i),new e.Notice(s)}})).catch((s=>{this.restoreMindmap(n,t,i),new e.Notice(s),console.log(s)}))}),500)}}exportToPdf(t){if(this.period)new e.Notice(`${r("The probation period has ended")}`);else{if("table"==this.mindmap._mode){this.mindmap.containerEL.scrollLeft,this.mindmap.containerEL.scrollTop;var i={x:this.mindmap.tableDom.style.left,y:this.mindmap.tableDom.style.top},n=this.mindmap.tableDom.clientWidth+200,s=this.mindmap.tableDom.clientHeight+200;this.mindmap.tableDom.style.left="100px",this.mindmap.tableDom.style.top="100px"}else{var o=[];this.mindmap.traverseDF((e=>{e.isShow()&&o.push(e)})),this.mindmap.freeNodes.forEach((e=>{this.mindmap.traverseDF((e=>{e.isShow()&&o.push(e)}),e)})),this.mindmap.induces.forEach((e=>{this.mindmap.traverseDF((e=>{e.isShow()&&o.push(e)}),e.root)})),this.mindmap.relateLinks.forEach((e=>{e.textNode&&e.textNode.isShow()&&o.push(e.textNode)})),this.mindmap.containerEL.scrollLeft,this.mindmap.containerEL.scrollTop;var a=this.mindmap.getBoundingRect(o),h=this.mindmap.root.getPosition();(i={})[this.mindmap.root.getId()]=h,this.mindmap.freeNodes.forEach((e=>{i[e.getId()]=e.getPosition()}));var l=0,d=0;a.x>100&&(l=a.x-100),a.y>100&&(d=a.y-100),this.mindmap.root.setPosition(h.x-l,h.y-d),this.mindmap.freeNodes.forEach((e=>{var t=e.getPosition();e.setPosition(t.x-l,t.y-d),e.layout.refresh()})),this.mindmap.refresh(),this.mindmap.updateAssist(),this.mindmap.refresh(),this.mindmap.updateRelateLink();n=a.width+200,s=a.height+200}if(this.mindmap.contentEL.style.width=n+"px",this.mindmap.contentEL.style.height=s+"px",this.mindmap.containerEL.scrollLeft=0,this.mindmap.containerEL.scrollTop=0,(this._useHandDraw||"basic"==this._mode)&&(this.mindmap.root._createHandDrawFill(),this.mindmap.root.children.forEach((e=>{e._createHandDrawFill()}))),this.mindmap.doc){let i=this.mindmap.doc;var c=i.querySelector("base");if(i.querySelector("html").style.setProperty("width",n+"px","important"),i.querySelector("html").style.setProperty("height",s+"px","important"),i.querySelector("body").style.setProperty("width",n+"px","important"),i.querySelector("body").style.setProperty("height",s+"px","important"),c.getAttribute("href")){i.querySelector(".app-container").setAttribute("style","display:flex!important"),i.querySelector(".workspace-tab-header-container").style.display="none",i.querySelector(".titlebar").setAttribute("style","display:none!important"),i.querySelector(".view-header").style.display="none",i.querySelector(".workspace-leaf-content .view-content").style.padding="0",i.querySelector(".workspace-leaf-content .view-content").style.overflow="visible",i.querySelector(".mm-mindmap-container").style.overflow="visible",i.querySelector(".mm-mindmap-container").style.position="none",i.querySelector(".mm-mindmap-container").style.width=n+"px",i.querySelector(".mm-mindmap-container").style.height=s+"px",i.querySelector(".mm-mindmap").style.width=n+"px",i.querySelector(".mm-mindmap").style.height=s+"px",i.querySelector(".mm-mindmap").style.overflow="visible",i.querySelector(".mm-scale").style.display="none";var u=this.getDpi()[0]||96;setTimeout((()=>{if(ds){var o,a=ds.remote,h=a.webContents.getFocusedWebContents(),l=a.dialog;o=t?{marginsType:2,printBackground:!0,pageSize:{width:25400*(Math.ceil(n/u)+1),height:25400*(Math.ceil(s/u)+2)},pageRanges:{from:0,to:0}}:{printBackground:!0,pageSize:{width:Math.ceil(n/u)+1,height:Math.ceil(s/u)+2},margins:{top:0,bottom:0,left:0,right:0},pageRanges:"1"},h.printToPDF(o).then((t=>{l.showSaveDialog({filters:[{name:"pdf",extensions:["pdf"]}]}).then((n=>{i.querySelector(".titlebar").setAttribute("style",""),i.querySelector("html").style.setProperty("width","100%"),i.querySelector("html").style.setProperty("height","100%"),i.querySelector("body").style.setProperty("width","100%"),i.querySelector("body").style.setProperty("height","100%"),n.canceled||(cs.writeFileSync(n.filePath,t),new e.Notice(r("PDF save success")))}))})).catch((e=>{i.querySelector(".titlebar").setAttribute("style",""),i.querySelector("html").style.setProperty("width","100%"),i.querySelector("html").style.setProperty("height","100%"),i.querySelector("body").style.setProperty("width","100%"),i.querySelector("body").style.setProperty("height","100%")}))}}),1e3)}else new e.Notice(r("Please do this in a separate window"))}}}getDpi(){var e=new Array;if(null!=window.screen.deviceXDPI)e[0]=window.screen.deviceXDPI,e[1]=window.screen.deviceYDPI;else{var t=document.createElement("DIV");t.style.cssText="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document.body.appendChild(t),e[0]=parseInt(t.offsetWidth),e[1]=parseInt(t.offsetHeight),t.parentNode.removeChild(t)}return e}restoreMindmap(e,t,i){var n=this.plugin.settings.canvasSize;if(this.mindmap.contentEL.style.width=n+"px",this.mindmap.contentEL.style.height=n+"px",this.mindmap.containerEL.scrollTop=i,this.mindmap.containerEL.scrollLeft=t,"table"==this.mindmap._mode)this.mindmap.tableDom.style.left=e.x+"px",this.mindmap.tableDom.style.top=e.y+"px",this.mindmap.center();else{var s=this.mindmap.root.getId();this.mindmap.root.setPosition(e[s].x,e[s].y),this.mindmap.freeNodes.forEach((t=>{var i=t.getId();t.setPosition(e[i].x,e[i].y)})),this.mindmap.refresh(),this.mindmap.updateAssist(),this.mindmap.refresh(),this.mindmap.updateRelateLink()}(this._useHandDraw||"basic"==this._mode)&&(this.mindmap.root._createHandDrawFill(),this.mindmap.root.children.forEach((e=>{e._createHandDrawFill()})))}checkActive(){var t=this.activeCode.trim();if(e.Platform.isMobileApp){if(this.plugin.settings.mobileActiveCode)try{var i=ks(this.plugin.settings.mobileActiveCode),n=JSON.parse(i.trim());n&&this._activeSoft(n)}catch(t){console.log(t),new e.Notice(`${r("Active error")}`),this.period=!0}}else if(t){var s="";if(As){try{let e=As.createDecipher("aes-192-ctr","1qaz2wsxZX!@3edc4rfvCV#$@qwerasdf12qw3"),i=e.update(t,"hex","utf-8");i+=e.final("utf-8"),s=i,(o=JSON.parse(i.trim()))&&this._activeSoft(o)}catch(i){s="";try{let e=As.createDecipher("aes-192-ctr","whoisyourdaddy!@qwerasdf"),i=e.update(t,"hex","utf-8");i+=e.final("utf-8"),s=i,(o=JSON.parse(i.trim()))&&this._activeSoft(o)}catch(i){s="";try{let e=As.createDecipher("aes-192-ctr","1qaz2wsxZX!@3edc4rfvCV#$@qwerasdf12qw3@1234091wse"),i=e.update(t,"hex","utf-8");var o;i+=e.final("utf-8"),s=i,(o=JSON.parse(i.trim()))&&this._activeSoft(o)}catch(t){s="",this.period=!0,new e.Notice(`${r("Active error")}`)}}}!this.plugin.settings.mobileActiveCode&&s&&(this.plugin.settings.mobileActiveCode=ws(s.trim()),this.plugin.saveData(this.plugin.settings))}}}setOnlyPdf(){this.onlyPdf?(this.mindmapContainer.style.display="none",this.translateContainer.style.display="none",this.pdfContainer.style.width="100%"):(this.mindmapContainer.style.display="",this.mindmapContainer.style.width="100%",this.pdfContainer.style.display="none",this.translateContainer.style.display="none")}_judgeTime(){this.plugin.settings.uid?(new Date).getTime()>216e7+parseInt(ks(this.plugin.settings.uid))&&(e.Platform.isDesktopApp&&!this.plugin.settings.activeCode&&new e.Notice(r("The probation period has ended")),e.Platform.isMobileApp&&!this.plugin.settings.mobileActiveCode&&new e.Notice(r("The probation period has ended")),this.period=!0):(this.plugin.settings.uid=ws((new Date).getTime()+""),this.plugin.saveData(this.plugin.settings))}_close(){this.pdf_path&&(this.pdf_path=null,this.pdf_real_path=""),this.localPdfAnnotations=[],this.pdfContainer.innerHTML=""}onClose(){return t(this,void 0,void 0,(function*(){this.mindmap&&(this.mindmap.clear(),this.contentEl.innerHTML="",this.mindmap=null),e.Platform.isMobileApp&&this.dragDrop&&(this.dragDrop._removeEvent(),this.dragDrop=null)}))}clear(){}getViewData(){return this.data}setViewData(t){if(this.mindmap&&(this.mindmap.clear(),this.mindmapContainer.innerHTML="",this.mindmap.useHandMode&&(this._useHandDraw=!1),this.mindmap=null),this.list&&(this.list.clear(),this.mindmapContainer.innerHTML="",this.list=null),this.translateView&&(this.translateView.clear(),this.translateContainer.innerHTML="",this.translateView=null),this.mindmapContainer.style.visibility="hidden",this.data=t,this.firstInit)setTimeout((()=>{var t=this.leaf;if(t){var i=t.view;if(i.file){this.fileCache=this.app.metadataCache.getFileCache(i.file),this.frontmatter=this.getFrontMatter();var n=this.fileCache.frontmatter["translate-target"];if(n)return this.isTranslate=!0,this.onlyPdf=!1,this._haveOpenPdf=!1,this.showTranslate(n),this.translateContainer.style.display="block",this.pdfContainer.style.display="none",void(this.mindmapContainer.style.display="none");var s=this.fileCache.frontmatter["annotate-target"];if(s&&(s.toLowerCase().endsWith(".pdf")||s.toLowerCase().startsWith("http")))return this.onlyPdf=!0,this.setOnlyPdf(),void this.setPdfFrame(s);if(s&&s.toLowerCase().endsWith(".epub"))return this.onlyPdf=!0,this.setOnlyPdf(),void this.setEpub(s);if(this.onlyPdf=!1,this._haveOpenPdf=!1,this.pdfContainer.innerHTML="",this.iframe=null,this.pdf_path=null,this.pdf_real_path="",this.setOnlyPdf(),this.fileCache.frontmatter){if(this._mode=this.fileCache.frontmatter["mindmap-plugin"],this.fileCache.frontmatter["mindmap-theme"])var r=this.fileCache.frontmatter["mindmap-theme"],o=Ns[this.fileCache.frontmatter["mindmap-theme"]];"outline"==this.fileCache.frontmatter["display-mode"]?(this.isShowOutline=!0,this.isShowTable=!1):"table"==this.fileCache.frontmatter["display-mode"]?(this.isShowOutline=!1,this.isShowTable=!0):(this.isShowOutline=!1,this.isShowTable=!1)}if("basic"==this._mode){if(this.isShowOutline&&!this.forceMindMapMode)return this.showOutline(),void(this.firstInit=!1);if(this.isShowTable&&!this.forceMindMapMode)return this.showTableMode(),void(this.firstInit=!1);var a=this.fileCache.frontmatter["mindmap-layout"],h=this.fileCache.frontmatter["mindmap-layout-direct"],l=this.getMdText(this.data);(d=this.mdToData(l)).useHandMode=this._useHandDraw,d.isRoot=!0,d.useScale=!0,this.mindmap=new Vi(d,this.mindmapContainer,this.plugin.settings,!0),a&&(this.mindmap.basicLayoutInfo={layout:a,layoutDirect:h}),this.mindmap.path=null==i?void 0:i.file.path,this.mindmap.colors=this.colors,this.mindmap._mode="basic",this.mindmap.view=this,this.mindmap.isMobile=e.Platform.isMobileApp,this.mindmap.themeConfig=o,this.mindmap.useCustomShortcut=this.plugin.settings.useCustomShortcut,this.mindmap.xmindImageTarget=this.fileCache.frontmatter["xmind-image-target"]||"",this.mindmap._autoCenter=this.plugin.settings.autoCenter,this.mindmap.addCollapseNodeMark=this.plugin.settings.addCollapseNodeMark,o&&(this.mindmap.colors=new Array(150).fill(o.stroke)),this.mindmap.init()}else if("rich"==this._mode){var d;l=this.getMdText(this.data);(d=JSON.parse(l)).useScale=!0,this.mindmap=new Vi(d,this.mindmapContainer,this.plugin.settings,!0),this.mindmap.path=null==i?void 0:i.file.path,this.mindmap.colors=this.colors,this.mindmap.view=this,this.mindmap.isMobile=e.Platform.isMobileApp,this.mindmap.themeConfig=o,this.mindmap.useCustomShortcut=this.plugin.settings.useCustomShortcut,this.mindmap.xmindImageTarget=this.fileCache.frontmatter["xmind-image-target"]||"",this.mindmap._autoCenter=this.plugin.settings.autoCenter,this.mindmap.addCollapseNodeMark=this.plugin.settings.addCollapseNodeMark,o&&(this.mindmap.colors=new Array(150).fill(o.stroke)),r&&(this.mindmap.appEl.classList.add(`mm-theme-${r}`),this.mindmap._themeName=r),this.mindmap.initRich(d,{}),this.mindmap._mode="rich"}}}setTimeout((()=>{if(this.mindmap){this.mindmap.updateAllAssist(),this.mindmap.center(),this.mindmap.refresh();var t=this.fileCache.frontmatter.read;t&&"true"==t&&(this.mindmap.setReadMode(),ps&&new e.Notice(ps))}if(this.mindmapContainer.style.visibility="visible",window["show-mindmap-node"]){var i=window["show-mindmap-node"],n=this.mindmap.getNodeById(i);n&&setTimeout((()=>{this.mindmap.showNode(n),this.mindmap.clearSelectNode()}),200),window["show-mindmap-node"]=""}else this._checkSearch()}),50),this.firstInit=!1}),100);else{var i=this.leaf.view;this.fileCache=this.app.metadataCache.getFileCache(i.file),this.frontmatter=this.getFrontMatter();var n=this.fileCache.frontmatter["translate-target"];if(n)return this.isTranslate=!0,this.onlyPdf=!1,this._haveOpenPdf=!1,this.showTranslate(n),this.translateContainer.style.display="block",this.pdfContainer.style.display="none",void(this.mindmapContainer.style.display="none");var s=this.fileCache.frontmatter["annotate-target"];if(s&&(s.toLowerCase().endsWith(".pdf")||s.toLowerCase().startsWith("http")))return this.onlyPdf=!0,this.setOnlyPdf(),void this.setPdfFrame(s);if(s&&s.toLowerCase().endsWith(".epub"))return this.onlyPdf=!0,this.setOnlyPdf(),void this.setEpub(s);if(this.onlyPdf=!1,this._haveOpenPdf=!1,this.pdfContainer.innerHTML="",this.iframe=null,this.pdf_path=null,this.pdf_real_path="",this.setOnlyPdf(),this.fileCache.frontmatter){if(this._mode=this.fileCache.frontmatter["mindmap-plugin"],this.fileCache.frontmatter["mindmap-theme"])var r=Ns[this.fileCache.frontmatter["mindmap-theme"]],o=this.fileCache.frontmatter["mindmap-theme"];"outline"==this.fileCache.frontmatter["display-mode"]?(this.isShowOutline=!0,this.isShowTable=!1):"table"==this.fileCache.frontmatter["display-mode"]?(this.isShowOutline=!1,this.isShowTable=!0):(this.isShowOutline=!1,this.isShowTable=!1)}if("basic"==this._mode){if(this.isShowOutline&&!this.forceMindMapMode)return void this.showOutline();if(this.isShowTable&&!this.forceMindMapMode)return void this.showTableMode();var a=this.fileCache.frontmatter["mindmap-layout"],h=this.fileCache.frontmatter["mindmap-layout-direct"],l=this.getMdText(this.data);if((c=this.mdToData(l)).isRoot=!0,c.useScale=!0,c.useHandMode=this._useHandDraw,this.mindmap=new Vi(c,this.mindmapContainer,this.plugin.settings,!0),this.mindmap.path=null==i?void 0:i.file.path,this.mindmap.colors=this.colors,this.mindmap.view=this,this.mindmap._mode="basic",this.mindmap.isMobile=e.Platform.isMobileApp,this.mindmap.themeConfig=r,this.mindmap.useCustomShortcut=this.plugin.settings.useCustomShortcut,this.mindmap.xmindImageTarget=this.fileCache.frontmatter["xmind-image-target"]||"",this.mindmap._autoCenter=this.plugin.settings.autoCenter,this.mindmap.addCollapseNodeMark=this.plugin.settings.addCollapseNodeMark,r){this.mindmap.colors=[];for(var d=0;d<150;d++)this.mindmap.colors.push(r.stroke)}a&&(this.mindmap.basicLayoutInfo={layout:a,layoutDirect:h}),this.mindmap.init()}else{var c;l=this.getMdText(this.data);if((c=JSON.parse(l)).useScale=!0,this.mindmap=new Vi(c,this.mindmapContainer,this.plugin.settings,!0),this.mindmap.path=null==i?void 0:i.file.path,this.mindmap.colors=this.colors,this.mindmap.view=this,this.mindmap.isMobile=e.Platform.isMobileApp,this.mindmap.themeConfig=r,this.mindmap.useCustomShortcut=this.plugin.settings.useCustomShortcut,this.mindmap.xmindImageTarget=this.fileCache.frontmatter["xmind-image-target"]||"",this.mindmap._autoCenter=this.plugin.settings.autoCenter,this.mindmap.addCollapseNodeMark=this.plugin.settings.addCollapseNodeMark,r){this.mindmap.colors=[];for(d=0;d<150;d++)this.mindmap.colors.push(r.stroke)}o&&(this.mindmap.appEl.classList.add(`mm-theme-${o}`),this.mindmap._themeName=o),this.mindmap.initRich(c,{}),this.mindmap._mode="rich"}setTimeout((()=>{if(this.mindmap){this.mindmap.updateAllAssist(),this.mindmap.center(),this.mindmap.refresh();var t=this.fileCache.frontmatter.read;t&&"true"==t&&(this.mindmap.setReadMode(),ps&&new e.Notice(ps))}if(this.mindmapContainer.style.visibility="visible",window["show-mindmap-node"]){var i=window["show-mindmap-node"],n=this.mindmap.getNodeById(i);n&&setTimeout((()=>{this.mindmap.showNode(n),n.select()}),200),window["show-mindmap-node"]=""}else this._checkSearch()}),100)}}_checkSearch(){var e;const t=this.plugin.app.workspace.getLeavesOfType("search");if(0!=t.length&&this.plugin.settings.autoOpenSearch){var i=null===(e=t[0].view.searchQuery)||void 0===e?void 0:e.query;i&&this.mindmap&&(this.mindmap._searchDom&&this.mindmap.closeSearch(),this.mindmap.createSearchDom(i))}}basicToRich(){if("basic"==this._mode){var e=this.file,t=e.path;if(t=e.path.substring(0,t.length-3),t+="-rich.md",this.mindmap){var i=JSON.parse(JSON.stringify(this.mindmap.getData()));i.mindData.forEach(((e,t)=>{0==t&&e.forEach(((e,t)=>{0==t&&(e.layout={layoutName:"mindmap2",direct:"mindmap"}),e.children&&delete e.children}))}));var n=this.mindmap.root.getData().text.trim(),s=this.frontmatter.replace("basic","rich")+`# ${n}\n\`\`\` json\n`+JSON.stringify(i)+"\n```\n";this.app.vault.adapter.write(t,s)}}}richToBasic(){if("rich"==this._mode){var e=this.file,t=e.path;if(t=e.path.substring(0,t.length-3),t+="-basic.md",this.mindmap){var i=this.mindmap.getMarkdown(this.mindmap.root,!0),n=this.frontmatter.replace("rich","basic");this.app.vault.adapter.write(t,n+"\n"+i)}}}getPDFxml(t,i){var n=this;let s=new FormData;var o=new window.Uint8Array(t);const a=new window.Blob([o],{type:"application/pdf"});s.append("consolidateHeader","1"),s.append("segmentSentences","1"),s.append("teiCoordinates","s"),s.append("teiCoordinates","formula"),s.append("teiCoordinates","head"),s.append("input",a),new e.Notice(r("Parsing PDF structure"));var h=new XMLHttpRequest;h.open("post","https://kermitt2-grobid.hf.space/api/processFulltextDocument",!0),h.send(s),h.onreadystatechange=function(){if(4==h.readyState)if(200==h.status){var t=h.responseText;n.parsePDFXml(t,i)}else new e.Notice(r("Parsing PDF structure error"))},h.onerror=function(t){new e.Notice(r("Parsing PDF structure error"))}}parsePDFXml(e,i){return t(this,void 0,void 0,(function*(){var t=function(e){var t=(new DOMParser).parseFromString(e,"text/xml"),i=[];t.querySelector("abstract div")&&hs(t.querySelector("abstract div"),i,t);var n=t.querySelectorAll("text>body>div");if(n.length)for(let e of n){const n=e.querySelector("head");n&&i.push(ls(n,t)),hs(e,i,t)}return i}(e),n=i.substr(0,i.length-3)+"translation",s={pdf:i,translations:t};this.transLations(t,s,n),this.app.vault.adapter.write(n,JSON.stringify(s))}))}transLations(i,n,s){return t(this,void 0,void 0,(function*(){var t=this,o=i.slice(),a=n.pdf,h=o.shift(),l=i.length,d=o.length,c=this.plugin.settings.translateAppId,u=this.plugin.settings.translateKey;new e.Notice(`${r("Translate spend time")}`+o.length),function h(p){var m=p.text,f=(new Date).getTime(),g=function(e){function t(e,t){return e<<t|e>>>32-t}function i(e,t){var i,n,s,r,o;return s=2147483648&e,r=2147483648&t,o=(1073741823&e)+(1073741823&t),(i=1073741824&e)&(n=1073741824&t)?2147483648^o^s^r:i|n?1073741824&o?3221225472^o^s^r:1073741824^o^s^r:o^s^r}function n(e,n,s,r,o,a,h){return e=i(e,i(i(function(e,t,i){return e&t|~e&i}(n,s,r),o),h)),i(t(e,a),n)}function s(e,n,s,r,o,a,h){return e=i(e,i(i(function(e,t,i){return e&i|t&~i}(n,s,r),o),h)),i(t(e,a),n)}function r(e,n,s,r,o,a,h){return e=i(e,i(i(function(e,t,i){return e^t^i}(n,s,r),o),h)),i(t(e,a),n)}function o(e,n,s,r,o,a,h){return e=i(e,i(i(function(e,t,i){return t^(e|~i)}(n,s,r),o),h)),i(t(e,a),n)}function a(e){var t,i="",n="";for(t=0;t<=3;t++)i+=(n="0"+(e>>>8*t&255).toString(16)).substr(n.length-2,2);return i}var h,l,d,c,u,p,m,f,g,v=Array();for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(e),v=function(e){for(var t,i=e.length,n=i+8,s=16*((n-n%64)/64+1),r=Array(s-1),o=0,a=0;a<i;)o=a%4*8,r[t=(a-a%4)/4]=r[t]|e.charCodeAt(a)<<o,a++;return o=a%4*8,r[t=(a-a%4)/4]=r[t]|128<<o,r[s-2]=i<<3,r[s-1]=i>>>29,r}(e),p=1732584193,m=4023233417,f=2562383102,g=271733878,h=0;h<v.length;h+=16)l=p,d=m,c=f,u=g,p=n(p,m,f,g,v[h+0],7,3614090360),g=n(g,p,m,f,v[h+1],12,3905402710),f=n(f,g,p,m,v[h+2],17,606105819),m=n(m,f,g,p,v[h+3],22,3250441966),p=n(p,m,f,g,v[h+4],7,4118548399),g=n(g,p,m,f,v[h+5],12,1200080426),f=n(f,g,p,m,v[h+6],17,2821735955),m=n(m,f,g,p,v[h+7],22,4249261313),p=n(p,m,f,g,v[h+8],7,1770035416),g=n(g,p,m,f,v[h+9],12,2336552879),f=n(f,g,p,m,v[h+10],17,4294925233),m=n(m,f,g,p,v[h+11],22,2304563134),p=n(p,m,f,g,v[h+12],7,1804603682),g=n(g,p,m,f,v[h+13],12,4254626195),f=n(f,g,p,m,v[h+14],17,2792965006),p=s(p,m=n(m,f,g,p,v[h+15],22,1236535329),f,g,v[h+1],5,4129170786),g=s(g,p,m,f,v[h+6],9,3225465664),f=s(f,g,p,m,v[h+11],14,643717713),m=s(m,f,g,p,v[h+0],20,3921069994),p=s(p,m,f,g,v[h+5],5,3593408605),g=s(g,p,m,f,v[h+10],9,38016083),f=s(f,g,p,m,v[h+15],14,3634488961),m=s(m,f,g,p,v[h+4],20,3889429448),p=s(p,m,f,g,v[h+9],5,568446438),g=s(g,p,m,f,v[h+14],9,3275163606),f=s(f,g,p,m,v[h+3],14,4107603335),m=s(m,f,g,p,v[h+8],20,1163531501),p=s(p,m,f,g,v[h+13],5,2850285829),g=s(g,p,m,f,v[h+2],9,4243563512),f=s(f,g,p,m,v[h+7],14,1735328473),p=r(p,m=s(m,f,g,p,v[h+12],20,2368359562),f,g,v[h+5],4,4294588738),g=r(g,p,m,f,v[h+8],11,2272392833),f=r(f,g,p,m,v[h+11],16,1839030562),m=r(m,f,g,p,v[h+14],23,4259657740),p=r(p,m,f,g,v[h+1],4,2763975236),g=r(g,p,m,f,v[h+4],11,1272893353),f=r(f,g,p,m,v[h+7],16,4139469664),m=r(m,f,g,p,v[h+10],23,3200236656),p=r(p,m,f,g,v[h+13],4,681279174),g=r(g,p,m,f,v[h+0],11,3936430074),f=r(f,g,p,m,v[h+3],16,3572445317),m=r(m,f,g,p,v[h+6],23,76029189),p=r(p,m,f,g,v[h+9],4,3654602809),g=r(g,p,m,f,v[h+12],11,3873151461),f=r(f,g,p,m,v[h+15],16,530742520),p=o(p,m=r(m,f,g,p,v[h+2],23,3299628645),f,g,v[h+0],6,4096336452),g=o(g,p,m,f,v[h+7],10,1126891415),f=o(f,g,p,m,v[h+14],15,2878612391),m=o(m,f,g,p,v[h+5],21,4237533241),p=o(p,m,f,g,v[h+12],6,1700485571),g=o(g,p,m,f,v[h+3],10,2399980690),f=o(f,g,p,m,v[h+10],15,4293915773),m=o(m,f,g,p,v[h+1],21,2240044497),p=o(p,m,f,g,v[h+8],6,1873313359),g=o(g,p,m,f,v[h+15],10,4264355552),f=o(f,g,p,m,v[h+6],15,2734768916),m=o(m,f,g,p,v[h+13],21,1309151649),p=o(p,m,f,g,v[h+4],6,4149444226),g=o(g,p,m,f,v[h+11],10,3174756917),f=o(f,g,p,m,v[h+2],15,718787259),m=o(m,f,g,p,v[h+9],21,3951481745),p=i(p,l),m=i(m,d),f=i(f,c),g=i(g,u);return(a(p)+a(m)+a(f)+a(g)).toLowerCase()}(c+m+f+u);wi.ajax({url:"http://api.fanyi.baidu.com/api/trans/vip/translate",type:"POST",dataType:"jsonp",data:{q:m,appid:c,salt:f,from:"auto",to:"zh",sign:g},success:function(c){c&&c.trans_result&&c.trans_result.length?(p.translate=c.trans_result[0].dst,t.plugin.statusBarItemEl&&(t.plugin.statusBarItemEl.innerText=r("Completed translation")+`${l-d}/${l}`)):p.translate="fail",setTimeout((()=>{var l=o.shift();l?(d=o.length,h(l)):(n.translations=i,t.app.vault.adapter.write(s,JSON.stringify(n)),t.openFullText(a),new e.Notice(r("Translate success")),t.plugin.statusBarItemEl&&(t.plugin.statusBarItemEl.innerText=""))}),300)},error:function(){p.translate="fail",setTimeout((()=>{var i=o.shift();i?(h(i),t.plugin.statusBarItemEl&&(t.plugin.statusBarItemEl.innerText=r("Completed translation")+`${l-d}/${l}`)):(t.app.vault.adapter.write(s,JSON.stringify(n)),t.openFullText(a),new e.Notice(r("Translate success")),t.plugin.statusBarItemEl&&(t.plugin.statusBarItemEl.innerText=""))}),300)}})}(h)}))}openFullText(e){return t(this,void 0,void 0,(function*(){if(!e.startsWith("file")&&!e.startsWith("http")){var t=yield this.getTranslateMd(e);if(t)yield this.app.workspace.openLinkText(t.path,"","split");else{var i=`---\nid: ${bs()}\ntranslate-target: ${e}\n---\n`,n=e.replace(/.pdf/gi,`-translate-${(new Date).getTime()}.md`);yield this.app.vault.adapter.write(n,i),setTimeout((()=>{this.app.workspace.openLinkText(n,"","split")}),200)}}}))}showTranslate(i){return t(this,void 0,void 0,(function*(){var t=i.substr(0,i.length-3)+"translation";if(yield this.app.vault.adapter.exists(t)){var n=yield this.app.vault.adapter.read(t);if(n.trim()){var s=JSON.parse(n.trim());yield this.renderTranslate(s,i)}}else new e.Notice(r("Not have translations of pdf full text"))}))}renderTranslate(e,i){return t(this,void 0,void 0,(function*(){this.translateView=new as(e.translations),this.translateContainer.appendChild(this.translateView.dom),this.translateView.view=this,this.translateView.pdfPath=i}))}setPdfFrame(i,n){return t(this,void 0,void 0,(function*(){var t=this;if(this.period)new e.Notice(r("The probation period has ended"));else{var s=this.leaf.view;if(this.plugin.settings.isDecodeURl||!1)var o=decodeURI(i);else o=i;if(o.startsWith("file:/")){if(e.Platform.isMobileApp)return void new e.Notice(r("Mobile app not support"));if(!o.endsWith(".pdf"))return void new e.Notice(r("Not support file type"));if(cs){var a=o.replace("file://","");if(!cs.existsSync(a))return void new e.Notice(r("File Is Not Exist")+":"+o);var h={},l=xs.basename(o);h.path=o,h.basename=l,h.absolutePath=a;var d=o;if(this.pdf_real_path&&this.pdf_real_path==d)return}}else if(o.startsWith("http:/")||i.startsWith("https:/")){(h={}).path=o,h.basename=o,h.absolutePath=o;d=o;if(this.pdf_real_path&&this.pdf_real_path==d)return}else{if(!(h=this.app.metadataCache.getFirstLinkpathDest(o,null==s?void 0:s.file.path))){var c=e.normalizePath(this.app.vault.adapter.basePath)+"/"+o;return void new e.Notice(r("File Is Not Exist")+":"+o)}d=this.app.vault.getResourcePath(h);if(this.pdf_real_path&&this.pdf_real_path==d)return}this.pdf_real_path=d,this.pdf_path=h;try{c=e.normalizePath(h.path);if(this.useMarkdown||h.path.startsWith("file:/")||h.path.startsWith("http"))var u=this.getAnnotations(this.data);else{var p=c.substr(0,c.length-3)+"annos";if(this.annotate_path=p,yield this.app.vault.adapter.exists(p)){var m=yield this.app.vault.adapter.read(p);if(m.trim())u=JSON.parse(m.trim())}else this.localPdfAnnotations=[],this.app.vault.adapter.write(p,JSON.stringify(this.localPdfAnnotations)),u=[]}}catch(e){return void this.leaf.detach()}if(u.forEach((e=>{if(e&&e.type&&("rect"==e.type||"image"==e.type||"ink"==e.type))try{var i=JSON.parse(e.text),n=i.path;if(r=this.app.metadataCache.getFirstLinkpathDest(n,this.file.path))var s=t.app.vault.getResourcePath(r);e.text=JSON.stringify(i),i.imageAbsolutePath=s||""}catch(i){var r;if(r=this.app.metadataCache.getFirstLinkpathDest(e.path,this.file.path)){s=t.app.vault.getResourcePath(r);e.imageAbsolutePath=s||""}}})),h.path.startsWith("file:/"))var f=cs.readFileSync(h.absolutePath);else if(h.path.startsWith("http")){var g=this.plugin.settings.cacheFolder,v=!1,y=e.normalizePath(h.path),A=y.lastIndexOf("/"),x=y.substr(A);if(g&&(yield this.app.vault.adapter.exists(g+x))&&(v=!0,f=yield this.app.vault.adapter.readBinary(g+x)),!v){var b=yield e.requestUrl({url:h.path});if(!b||200!=b.status||!b.arrayBuffer)return void new e.Notice(r("File Is Not Exist")+":"+h.path);f=b.arrayBuffer,g&&this.app.vault.adapter.writeBinary(g+x,f)}}else f=yield this.app.vault.adapter.readBinary(c);if(this._haveOpenEpub&&(this._haveOpenPdf=!1,this._haveOpenEpub=!1,this.iframe&&this.pdfContainer.removeChild(this.iframe)),this._haveOpenPdf){if(h.path.startsWith("file://")||h.path.startsWith("http"))k=h.path;else k=e.normalizePath(h.path);this.iframe.contentWindow.postMessage({annotations:u||[],data:f,type:"openPDF",pdfName:k,id:n||window.waitPdfId||"",basename:h.basename,_viewMark:this._viewMark,isMobile:e.Platform.isMobileApp,imageFolder:t.plugin.settings.imageFolder||"",mdPath:t.file.path,language:e.moment.locale(),top:E,bottom:D,mdId:N||"",useTranslate:this.plugin.settings.useTranslate,translateAppId:this.plugin.settings.translateAppId,translateKey:this.plugin.settings.translateKey,translateType:this.plugin.settings.translateType,translateTo:this.plugin.settings.translateTo},"*"),Object.assign(window,{waitPdfId:""})}else{this._haveOpenPdf=!0,this.iframe=document.createElement("iframe"),this.pdfContainer.appendChild(this.iframe),this.iframe.style.width="100%",this.iframe.style.height="100%",this.iframe.style.borderWidth="0",this.plugin.settings.viewerTheme;var w=this.app.vault.adapter.getResourcePath(".obsidian/pdfjs/web/viewer.html");if(w=decodeURIComponent(w),e.Platform.isDesktopApp?this.iframe.src=w:e.Platform.isAndroidApp?this.plugin.settings.onlyUseObsidianFolder?this.iframe.src=w:this.iframe.src=decodeURIComponent(this.app.vault.adapter.getResourcePath("andriod/pdfjs/web/viewer.html")):e.Platform.isIosApp&&(this.plugin.settings.onlyUseObsidianFolder?this.iframe.src=w:this.iframe.src=decodeURIComponent(this.app.vault.adapter.getResourcePath("ios/pdfjs/web/viewer.html"))),h.path.startsWith("file://"))var k=h.path;else k=h.path.startsWith("http")?h.path:e.normalizePath(h.path);var C=t.plugin.settings.imageFolder||"";this.fileCache&&this.fileCache.frontmatter&&this.fileCache.frontmatter["annotate-image-target"]&&(C=this.fileCache.frontmatter["annotate-image-target"]);var E=0;this.plugin.settings.annotateTop&&this.plugin.settings.annotateTop&&(E=this.plugin.settings.annotateTop);var D=0;if(this.plugin.settings.annotateBottom&&this.plugin.settings.annotateBottom&&(D=this.plugin.settings.annotateBottom),this.fileCache&&this.fileCache.frontmatter&&this.fileCache.frontmatter.id)var N=this.fileCache.frontmatter.id;this.iframe.onload=function(){t.iframe.contentWindow.postMessage({annotations:u||[],data:f,type:"openPDF",pdfName:k,id:n||window.waitPdfId||"",basename:h.basename,_viewMark:t._viewMark,isMobile:e.Platform.isMobileApp,imageFolder:C,mdPath:t.file.path,language:e.moment.locale(),top:E,bottom:D,mdId:N||"",useTranslate:t.plugin.settings.useTranslate,translateAppId:t.plugin.settings.translateAppId,translateKey:t.plugin.settings.translateKey,translateType:t.plugin.settings.translateType,translateTo:t.plugin.settings.translateTo},"*"),Object.assign(window,{waitPdfId:""})},this.pdfContainer.style.display="block"}this.addMessageEvent()}}))}setEpub(i,n){return t(this,void 0,void 0,(function*(){var t=this.leaf.view,s=this;if(i){var o={};try{if(i.startsWith("file://")){if(e.Platform.isMobileApp)return void new e.Notice(r("Mobile app not support"));if(e.Platform.isDesktopApp){var a=i.replace("file://","");if(!cs.existsSync(a))return void new e.Notice(r("File Is Not Exist")+":"+i);var h=xs.basename(i);o.path=i,o.basename=h,o.absolutePath=a;var l=i;if(this.pdf_real_path&&this.pdf_real_path==l)return;this.pdf_real_path=l,this.pdf_path=o}}else{if(!(o=this.app.metadataCache.getFirstLinkpathDest(i,null==t?void 0:t.file.path))){var d=e.normalizePath(this.app.vault.adapter.basePath)+"/"+i;return void new e.Notice(r("File Is Not Exist")+":"+i)}l=this.app.vault.getResourcePath(o);if(this.pdf_real_path&&this.pdf_real_path==l)return}this.pdf_real_path=l,this.pdf_path=o;d=e.normalizePath(o.path);if(o.path.startsWith("file:/"))var c=cs.readFileSync(o.absolutePath);else c=yield this.app.vault.adapter.readBinary(d);this._haveOpenEpub=!0,this._haveOpenPdf=!0,this.iframe&&this.pdfContainer.removeChild(this.iframe),this.addEpubMessageEvent(),this.iframe=document.createElement("iframe"),this.pdfContainer.appendChild(this.iframe),this.iframe.style.width="100%",this.iframe.style.height="100%",this.iframe.style.borderWidth="0";var u=this.app.vault.adapter.getResourcePath(".obsidian/pdfjs/epub/viewer.html");u=decodeURIComponent(u),e.Platform.isDesktopApp?this.iframe.src=u:e.Platform.isAndroidApp?this.plugin.settings.onlyUseObsidianFolder?this.iframe.src=u:this.iframe.src=decodeURIComponent(this.app.vault.adapter.getResourcePath("andriod/pdfjs/epub/viewer.html")):e.Platform.isIosApp&&(this.plugin.settings.onlyUseObsidianFolder?this.iframe.src=u:this.iframe.src=decodeURIComponent(this.app.vault.adapter.getResourcePath("ios/pdfjs/epub/viewer.html")));var p=this.getAnnotations(this.data);this.iframe.onload=function(){setTimeout((()=>{s.iframe.contentWindow.postMessage({annotations:p||[],data:c,type:"openEpub",pdfName:o.path,id:n||window.waitPdfId||"",basename:o.basename,_viewMark:s._viewMark,isMobile:e.Platform.isMobileApp,language:e.moment.locale()},"*"),Object.assign(window,{waitPdfId:""})}),800)},this.pdfContainer.style.display="block"}catch(t){new e.Notice("Open epub file error")}}}))}setPdfjsVersion(e){if(this.iframe){var t="useOldVersion";e&&(t="useNewVersion"),this.iframe.contentWindow.postMessage({type:t},"*")}}addEpubMessageEvent(){var e=this;this.removeMessageEvent(),this.messageEvent=function(t){if(t.data._viewMark==e._viewMark)switch(t.data.type){case"saveAnnotations":var i=t.data.annotations;e.saveEpubAnnotations(i);break;case"showMindmapAnnotate":var n=e.app.workspace.getLeavesOfType(Ds),s=t.data.id;n.length&&n.forEach((e=>{e&&e.view&&e.view.mindmap&&e.view.mindmap.traverseDF((t=>{if(t){if(t.getData().text.indexOf(s)>-1){if(!t.isShow())for(var i=!0,n=t;n;)n.isExpand||n.expand(),n=n.parent||n.belongInduce&&n.belongInduce.node;return i&&e.view.mindmap.refresh(),void e.view.mindmap.showNode(t)}t.getAnnotateId()==s&&e.view.mindmap.showNode(t)}}))}));var r=t.data,o=t.data.annotateType;if(e.plugin.settings.openProtocol&&e.plugin.settings.protocol){if("epub-rect"==o){var a=`obsidian://${e.plugin.settings.protocol}?pdf=${encodeURIComponent(e.pdf_path.path)}&annotate=${encodeURIComponent(r.id)}`;e.win.navigator.clipboard.writeText(`![[${r.path}]] [📌](${a})`)}else if("epub-highlight"==o){a=`obsidian://${e.plugin.settings.protocol}?pdf=${encodeURIComponent(e.pdf_path.path)}&annotate=${encodeURIComponent(r.id)}`;if(e.plugin.settings.removeSpace)var h=(r.text||"").replace(/\s/g,"");else h=r.text||"";e.win.navigator.clipboard.writeText(`${h} [📌](${a})`)}}else e.win.navigator.clipboard.writeText(JSON.stringify(r))}}.bind(this),this.win.addEventListener("message",this.messageEvent,!1)}_exportHighlights(){return t(this,void 0,void 0,(function*(){var e=[];if(this.useMarkdown||this.pdf_path.path.startsWith("file:/")||this.pdf_path.path.startsWith("http"))e=this.getAnnotations(this.data);else{var t=this.annotate_path;if(yield this.app.vault.adapter.exists(t)){var i=yield this.app.vault.adapter.read(t);i.trim()&&(e=JSON.parse(i.trim()))}}var n=this.plugin.settings.highlightFormat,s=this;if(n&&e&&e.length){var r=[],o="";e.forEach(((e,t)=>{var i;try{var a=JSON.parse(e.text)}catch(t){a=e}0==t&&(o=e.pdfName);var h="",l="",d=new RegExp("{{highlightText}}","ig");if("highlight"==e.type||"underline"==e.type||"strokout"==e.type){var c=n.replace(d,e.selectText||e.text);a.color&&a.color.r?h=`${a.color.r},${a.color.g},${a.color.b}`:a.color&&(h=null===(i=a.color)||void 0===i?void 0:i.trim().substring(4,a.color.length-1)),l=`obsidian://${s.plugin.settings.protocol}?pdf=${encodeURIComponent(a.pdfName)}&annotate=${encodeURIComponent(e.id)}`}else{c=n.replace(d,"![["+a.path+"]]");l=`obsidian://${s.plugin.settings.protocol}?pdf=${encodeURIComponent(a.pdfName)}&annotate=${encodeURIComponent(e.id)}`}var u=new RegExp("{{page}}","ig"),p=new RegExp("{{comment}}","ig"),m=new RegExp("{{id}}","ig"),f=new RegExp("{{color}}","ig"),g=new RegExp("{{link}}","ig");c=(c=(c=(c=(c=c.replace(u,(e.page||e.position.pageIndex)+1)).replace(p,a.contents||a.comments||"")).replace(m,e.id)).replace(f,h)).replace(g,l),r.push(c)}));var a="[["+o+"]]\n\n"+r.join("\n"),h=this.file.path;h=h.substring(0,h.length-3),h+="-exportHighlight.md",this.app.vault.adapter.write(h,a)}}))}_ectractHighlightOfPdf(){return t(this,void 0,void 0,(function*(){var t=this;if(e.Platform.isDesktopApp){if(this._extractHighlight=!0,this._openIframeSrc=this.iframe.getAttribute("src"),this.iframe.src=this.app.vault.adapter.getResourcePath(".obsidian/pdfjs/pdfextract/extract.html"),this.pdf_path.path.startsWith("file:/"))var i=cs.readFileSync(this.pdf_path.absolutePath);else i=yield this.app.vault.adapter.readBinary(this.pdf_path.path);setTimeout((()=>{t.iframe.contentWindow.postMessage({data:i,type:"openPDF",_viewMark:t._viewMark,language:e.moment.locale()},"*")}),800)}}))}addMessageEvent(){var i=this;this.removeMessageEvent(),this.messageEvent=function(n){return t(this,void 0,void 0,(function*(){if(n.data._viewMark==i._viewMark)switch(n.data.type){case"translate":if(f=n.data.url){var s=yield e.requestUrl({url:f});if(s&&200==s.status&&s.arrayBuffer)var o=String.fromCharCode.apply(null,new Uint8Array(s.arrayBuffer))}break;case"touchstart":new e.Notice("touchstart");break;case"showMindmapAnnotate":var a=i.app.workspace.getLeavesOfType(Ds),h=n.data.id;a.length&&a.forEach((e=>{e&&e.view&&e.view.mindmap&&e.view.mindmap.traverseDF((t=>{if(t){if(t.getData().text.indexOf(h)>-1){if(!t.isShow())for(var i=!0,n=t;n;)n.isExpand||n.expand(),n=n.parent||n.belongInduce&&n.belongInduce.node;return i&&e.view.mindmap.refresh(),void e.view.mindmap.showNode(t)}t.getAnnotateId()==h&&e.view.mindmap.showNode(t)}}))}));var l=n.data.data,d=n.data.annotateType,c=n.data.mdId;if(i.plugin.settings.openProtocol&&i.plugin.settings.protocol){var u=JSON.parse(l.text);if("rect"==d){var p=(_=u.path.replace(/\\/g,"/")).lastIndexOf("/"),m=_.substr(p+1);if(c)var f=`obsidian://${i.plugin.settings.protocol}?id=${c}&annotate=${encodeURIComponent(l.id)}`;else f=`obsidian://${i.plugin.settings.protocol}?pdf=${encodeURIComponent(u.pdfName)}&annotate=${encodeURIComponent(l.id)}`;if(this.plugin.settings.annotateFormat){var g="",v=new RegExp("{{highlightText}}","ig"),y=new RegExp("{{page}}","ig"),A=new RegExp("{{id}}","ig"),x=new RegExp("{{link}}","ig");return g=(g=(g=(g=this.plugin.settings.annotateFormat.replace(v,`![[${m||u.path}]]`)).replace(y,l.page+1)).replace(A,l.id)).replace(x,f),void i.win.navigator.clipboard.writeText(g)}i.plugin.settings.onlyCopyLink?i.win.navigator.clipboard.writeText(`[📌](${f})`):i.win.navigator.clipboard.writeText(`![[${m||u.path}]] [📌](${f})`)}else{if(c)f=`obsidian://${i.plugin.settings.protocol}?id=${c}&annotate=${encodeURIComponent(l.id)}`;else f=`obsidian://${i.plugin.settings.protocol}?pdf=${encodeURIComponent(u.pdfName)}&annotate=${encodeURIComponent(l.id)}`;if(R=i.plugin.settings.removeSpace)var b=(l.selectText||"").replace(/\s/g,"");else b=l.selectText||"";if(this.plugin.settings.annotateFormat){g="",v=new RegExp("{{highlightText}}","ig"),y=new RegExp("{{page}}","ig"),A=new RegExp("{{id}}","ig"),x=new RegExp("{{link}}","ig");return g=(g=(g=(g=this.plugin.settings.annotateFormat.replace(v,`${b}`)).replace(y,l.page+1)).replace(A,l.id)).replace(x,f),void i.win.navigator.clipboard.writeText(g)}i.plugin.settings.onlyCopyLink?(i.win.navigator.clipboard.writeText(""),i.win.navigator.clipboard.writeText(`[📌](${f})`)):(i.win.navigator.clipboard.writeText(""),i.win.navigator.clipboard.writeText(`${b} [📌](${f})`))}}else i.win.navigator.clipboard.writeText(JSON.stringify(l));break;case"createHighlight":case"updateHighlight":case"deleteAnnotate":var w=n.data.annotations,k=n.data.newAnnotate;i.saveAnnotations(w);break;case"create rect annotate":new e.Notice(r("Creating Rect Annotate"));break;case"cancel create rect annotate":new e.Notice(r("Cancel Create Rect Annotate"));break;case"delete mindmap annotate":a=i.app.workspace.getLeavesOfType(Ds),h=n.data.id;a.length&&a.forEach((e=>{e&&e.view&&e.view.mindmap&&e.view.mindmap.traverseDF((e=>{e&&e.getAnnotateId()==h&&e.deleteAnnotate()}))}));break;case"createRect":var C=n.data.isNew,E=n.data.imagePath,D=n.data.dataBuffer,N=(l=n.data.data,n.data.relateRect),I=n.data.imageOptions;w=n.data.annotations,c=n.data.mdId;i.app.vault.adapter.writeBinary(E,D).then((()=>{l.relateRect=N||[],l.pdfName=i.pdf_path.path,l.path=E;var e=l.path.replace(/\\/g,"/"),t=e.lastIndexOf("/"),n=e.substr(t+1);if(i.plugin.settings.openProtocol){if(c)var s=`obsidian://${i.plugin.settings.protocol}?id=${c}&annotate=${encodeURIComponent(l.id)}`;else s=`obsidian://${i.plugin.settings.protocol}?pdf=${encodeURIComponent(i.pdf_path.path)}&annotate=${encodeURIComponent(l.id)}`;i.plugin.settings.onlyCopyLink?i.win.navigator.clipboard.writeText(`[📌](${s})`):i.win.navigator.clipboard.writeText(`![[${n||l.path}]] [📌](${s})`)}else i.win.navigator.clipboard.writeText(JSON.stringify({id:l.id,type:"rect",action:"create pdf annotate",path:E,width:I.width,height:I.height,page:l.page,text:JSON.stringify(l),pdfName:i.pdf_path.path}));var r=this.app.metadataCache.getFirstLinkpathDest(E,this.file.path);if(i.iframe.contentWindow.postMessage({type:"saveImagePath",_viewMark:i._viewMark,id:l.id,imagePath:i.app.vault.getResourcePath(r)},"*"),i.saveAnnotations(w),this.plugin.settings.autoCreateNodeWhenAnnotate){var o=i.app.workspace.getLeavesOfType(Ds);if(o&&o.length){var a=o.filter((e=>e&&e.view&&e.view.mindmap));if(a&&a.length&&C){var h=a[0].view.mindmap,d=h.selectNode||h.root;if(c)s=`obsidian://${i.plugin.settings.protocol}?id=${c}&annotate=${encodeURIComponent(l.id)}`;else s=`obsidian://${i.plugin.settings.protocol}?pdf=${encodeURIComponent(i.pdf_path.path)}&annotate=${encodeURIComponent(l.id)}`;if(this.plugin.settings.annotateFormat){var u="",p=new RegExp("{{highlightText}}","ig"),m=new RegExp("{{page}}","ig"),f=new RegExp("{{id}}","ig"),g=new RegExp("{{link}}","ig");u=(u=(u=(u=this.plugin.settings.annotateFormat.replace(p,`![[${n||l.path}]]`)).replace(m,l.page+1)).replace(f,l.id)).replace(g,s)}h.execute("addChildNode",{parent:d,data:{text:u||`![[${n||l.path}]] [📌](${s})`,note:l.contents||""}}),h._hideMenu()}}}})).catch((t=>{new e.Notice(r("Save Image error,Please try again"))}));break;case"comment":w=n.data.annotations;i.saveAnnotations(w);break;case"exportAnnotatePDF":var S=n.data.pdfData;setTimeout((()=>t(this,void 0,void 0,(function*(){var t=i.pdf_path.path,n=t.substr(0,t.length-4);n+="-annotate.pdf";var s=e.normalizePath(n);yield i.app.vault.adapter.writeBinary(s,S),new e.Notice(`${r("Export annotate pdf success")}`)}))),200);break;case"extractHighlight":w=n.data.annotations;var B=n.data.width,M=n.data.height,T=[];w.length&&w.forEach((e=>{var t=bs(),i={id:t,page:e.page-1,type:"highlight",selectText:e.markup,pdfName:this.pdf_path.path,text:{id:t,page:e.page-1,rect:e.rect,contents:e.content,author:"",color:{r:e.color[0],g:e.color[1],b:e.color[2]},opacity:1,quadPoints:null,selectText:e.markup,relateRect:null,pdfName:this.pdf_path.path}};e.quadPoints&&(i.text.relateRect=[],e.quadPoints.forEach((e=>{i.text.relateRect.push({x:e.x/B,y:(M-e.y-e.height)/B,width:e.width/B,height:e.height/B})}))),i.text=JSON.stringify(i.text),T.push(i)})),i.saveAnnotations(T),new e.Notice(r("extract highlight success")),this.plugin.mindmapFileModes[this.id||this.file.path]="markdown",this.plugin.setMarkdownView(this.leaf),this._extractHighlight=!1;break;case"saveAnnotations":w=n.data.annotations;if(i.saveAnnotations(w),this.plugin.settings.autoCreateNodeWhenAnnotate){k=n.data.newAnnotate,c=n.data.mdId;if(k)if((a=i.app.workspace.getLeavesOfType(Ds))&&a.length)if((P=a.filter((e=>e&&e.view&&e.view.mindmap)))&&P.length){var L=(O=P[0].view.mindmap).selectNode||O.root;u=JSON.parse(k.text);if(c)f=`obsidian://${i.plugin.settings.protocol}?id=${c}&annotate=${encodeURIComponent(k.id)}`;else f=`obsidian://${i.plugin.settings.protocol}?pdf=${encodeURIComponent(u.pdfName)}&annotate=${encodeURIComponent(k.id)}`;if(this.plugin.settings.annotateFormat){g="",v=new RegExp("{{highlightText}}","ig"),y=new RegExp("{{page}}","ig"),A=new RegExp("{{id}}","ig"),x=new RegExp("{{link}}","ig");g=(g=(g=(g=this.plugin.settings.annotateFormat.replace(v,`${k.selectText}`)).replace(y,k.page+1)).replace(A,k.id)).replace(x,f)}O.execute("addChildNode",{parent:L,data:{text:g||`${k.selectText} [📌](${f})`,note:k.contents||""}}),O._hideMenu()}}break;case"copyText":o=n.data.text;i.win.navigator.clipboard.writeText(""),i.win.navigator.clipboard.writeText(o);break;case"saveNewAnnotations":w=n.data.annotations;if(i.saveNewAnnotations(w),this.plugin.settings.autoCreateNodeWhenAnnotate){var P;k=n.data.newAnnotate,c=n.data.mdId;if(k)if((a=i.app.workspace.getLeavesOfType(Ds))&&a.length)if((P=a.filter((e=>e&&e.view&&e.view.mindmap)))&&P.length){var O;L=(O=P[0].view.mindmap).selectNode||O.root;if(c)f=`obsidian://${i.plugin.settings.protocol}?id=${c}&annotate=${encodeURIComponent(k.id)}`;else f=`obsidian://${i.plugin.settings.protocol}?pdf=${encodeURIComponent(k.pdfName)}&annotate=${encodeURIComponent(k.id)}`;var R=this.plugin.settings.removeSpace;if(this.plugin.settings.annotateFormat){g="",v=new RegExp("{{highlightText}}","ig"),y=new RegExp("{{page}}","ig"),A=new RegExp("{{id}}","ig"),x=new RegExp("{{link}}","ig");g=(g=(g=(g=this.plugin.settings.annotateFormat.replace(v,`${k.text}`)).replace(y,k.position.pageIndex+1)).replace(A,k.id)).replace(x,f),R&&(g=g.replace(/\s/g,""))}R&&!g&&(k.text=k.text.replace(/\s/g,"")),O.execute("addChildNode",{parent:L,data:{text:g||`${k.text} [📌](${f})`,note:k.comments||""}}),O._hideMenu()}}break;case"showNewMindmapAnnotate":a=i.app.workspace.getLeavesOfType(Ds),h=n.data.id;a.length&&a.forEach((e=>{e&&e.view&&e.view.mindmap&&e.view.mindmap.traverseDF((t=>{if(t){if(t.getData().text.indexOf(h)>-1){if(!t.isShow())for(var i=!0,n=t;n;)n.isExpand||n.expand(),n=n.parent||n.belongInduce&&n.belongInduce.node;return i&&e.view.mindmap.refresh(),void e.view.mindmap.showNode(t)}t.getAnnotateId()==h&&e.view.mindmap.showNode(t)}}))}));l=n.data.data,d=n.data.annotateType,c=n.data.mdId;if(i.plugin.settings.openProtocol&&i.plugin.settings.protocol)if("image"==d||"ink"==d){var _;p=(_=l.path.replace(/\\/g,"/")).lastIndexOf("/"),m=_.substr(p+1);if(c)f=`obsidian://${i.plugin.settings.protocol}?id=${c}&annotate=${encodeURIComponent(l.id)}`;else f=`obsidian://${i.plugin.settings.protocol}?pdf=${encodeURIComponent(l.pdfName)}&annotate=${encodeURIComponent(l.id)}`;if(this.plugin.settings.annotateFormat){g="",v=new RegExp("{{highlightText}}","ig"),y=new RegExp("{{page}}","ig"),A=new RegExp("{{id}}","ig"),x=new RegExp("{{link}}","ig");return g=(g=(g=(g=this.plugin.settings.annotateFormat.replace(v,`![[${m||l.path}]]`)).replace(y,l.position.pageIndex+1)).replace(A,l.id)).replace(x,f),void i.win.navigator.clipboard.writeText(g)}i.plugin.settings.onlyCopyLink?i.win.navigator.clipboard.writeText(`[📌](${f})`):i.win.navigator.clipboard.writeText(`![[${m||l.path}]] [📌](${f})`)}else{if(c)f=`obsidian://${i.plugin.settings.protocol}?id=${c}&annotate=${encodeURIComponent(l.id)}`;else f=`obsidian://${i.plugin.settings.protocol}?pdf=${encodeURIComponent(l.pdfName)}&annotate=${encodeURIComponent(l.id)}`;if(R=i.plugin.settings.removeSpace)b=(l.text||"").replace(/\s/g,"");else b=l.text||"";if(this.plugin.settings.annotateFormat){g="",v=new RegExp("{{highlightText}}","ig"),y=new RegExp("{{page}}","ig"),A=new RegExp("{{id}}","ig"),x=new RegExp("{{link}}","ig");return g=(g=(g=(g=this.plugin.settings.annotateFormat.replace(v,`${b}`)).replace(y,l.position.pageIndex+1)).replace(A,l.id)).replace(x,f),void i.win.navigator.clipboard.writeText(g)}i.plugin.settings.onlyCopyLink?(i.win.navigator.clipboard.writeText(""),i.win.navigator.clipboard.writeText(`[📌](${f})`)):(i.win.navigator.clipboard.writeText(""),i.win.navigator.clipboard.writeText(`${b} [📌](${f})`))}else i.win.navigator.clipboard.writeText(JSON.stringify(l));break;case"createNewRect":C=n.data.isNew,E=n.data.imagePath,D=n.data.dataBuffer,l=n.data.data,I=n.data.imageOptions,w=n.data.annotations,c=n.data.mdId;i.app.vault.adapter.writeBinary(E,D).then((()=>{l.pdfName=i.pdf_path.path,l.path=E;var e=l.path.replace(/\\/g,"/"),t=e.lastIndexOf("/"),n=e.substr(t+1);if(i.plugin.settings.openProtocol){if(c)var s=`obsidian://${i.plugin.settings.protocol}?id=${c}&annotate=${encodeURIComponent(l.id)}`;else s=`obsidian://${i.plugin.settings.protocol}?pdf=${encodeURIComponent(i.pdf_path.path)}&annotate=${encodeURIComponent(l.id)}`;i.plugin.settings.onlyCopyLink?i.win.navigator.clipboard.writeText(`[📌](${s})`):i.win.navigator.clipboard.writeText(`![[${n||l.path}]] [📌](${s})`)}else i.win.navigator.clipboard.writeText(JSON.stringify({id:l.id,type:"rect",action:"create pdf annotate",path:E,width:I.width,height:I.height,page:l.page,text:JSON.stringify(l),pdfName:i.pdf_path.path}));var r=this.app.metadataCache.getFirstLinkpathDest(E,this.file.path);if(i.iframe.contentWindow.postMessage({type:"saveImagePath",_viewMark:i._viewMark,id:l.id,imagePath:i.app.vault.getResourcePath(r)},"*"),i.saveNewAnnotations(w),this.plugin.settings.autoCreateNodeWhenAnnotate){var o=i.app.workspace.getLeavesOfType(Ds);if(o&&o.length){var a=o.filter((e=>e&&e.view&&e.view.mindmap));if(a&&a.length&&C){var h=a[0].view.mindmap,d=h.selectNode||h.root;if(c)s=`obsidian://${i.plugin.settings.protocol}?id=${c}&annotate=${encodeURIComponent(l.id)}`;else s=`obsidian://${i.plugin.settings.protocol}?pdf=${encodeURIComponent(i.pdf_path.path)}&annotate=${encodeURIComponent(l.id)}`;if(this.plugin.settings.annotateFormat){var u="",p=new RegExp("{{highlightText}}","ig"),m=new RegExp("{{page}}","ig"),f=new RegExp("{{id}}","ig"),g=new RegExp("{{link}}","ig");u=(u=(u=(u=this.plugin.settings.annotateFormat.replace(p,`![[${n||l.path}]]`)).replace(m,l.position.pageIndex+1)).replace(f,l.id)).replace(g,s)}h.execute("addChildNode",{parent:d,data:{text:u||`![[${n||l.path}]] [📌](${s})`,note:l.comments||""}}),h._hideMenu()}}}})).catch((t=>{console.log(t),new e.Notice(r("Save Image error,Please try again"))}))}}))}.bind(this),this.win.addEventListener("message",this.messageEvent,!1)}removeMessageEvent(){this.messageEvent&&this.win.removeEventListener("message",this.messageEvent,!1)}saveAnnotations(e){if(this.useMarkdown||this.pdf_path.path.startsWith("file:")||this.pdf_path.path.startsWith("http")){var t=this.getAnnotateMarkdown(e);this.data=t,this.requestSave()}else this.app.vault.adapter.write(this.annotate_path,JSON.stringify(e))}saveNewAnnotations(e){if(this.useMarkdown||this.pdf_path.path.startsWith("file:")||this.pdf_path.path.startsWith("http")){var t=this.getNewAnnotateMarkdown(e);this.data=t,this.requestSave()}else this.app.vault.adapter.write(this.annotate_path,JSON.stringify(e))}saveEpubAnnotations(e){if(this.useMarkdown||this.pdf_path.path.startsWith("file:")){var t=this.getEpubAnnotationsMarkdown(e);this.data=t,this.requestSave()}else this.app.vault.adapter.write(this.annotate_path,JSON.stringify(e))}showOutline(){var e=this.leaf.view;this.isShowOutline=!0;var t=document.createElement("div");t.classList.add("mm-router"),this.list&&(this.list.clear(),this.mindmapContainer.innerHTML=""),this.mindmapContainer.appendChild(t);var i=document.createElement("div");i.classList.add("mm-link-board"),this.mindmapContainer.appendChild(i),i.style.display="none";var n=document.createElement("ul");if(n.classList.add("mm-list"),this.mindmapContainer.appendChild(n),"basic"==this._mode){var s=this.getMdText(this.data);(r=this.mdToData(s)).isRoot=!0,r.main=!0,this.list=new Nn(n,r),this.list.path=null==e?void 0:e.file.path,this.list.colors=this.colors,this.list._mode="basic",this.list.view=this,this.list.setting=this.plugin.settings,this.list.init()}else{s=this.getMdText(this.data);var r=JSON.parse(s);this.list=new Nn(n,r),this.list.path=null==e?void 0:e.file.path,this.list.colors=this.colors,this.list.view=this,this.list.setting=this.plugin.settings,this.list.initRich(r,{}),this.list._mode="rich"}this.mindmapContainer.style.visibility="visible",this.mindmapContainer.scrollTop=0}showTableMode(){if(this.leaf.view,this.isShowTable=!0,"basic"==this._mode){var t=this.getMdText(this.data),i=this.mdToData(t);i.isRoot=!0,i.main=!0,this.mindmap=new Vi(i,this.mindmapContainer,this.plugin.settings,!0),this.mindmap.view=this,this.mindmap.path=this.file.path,this.mindmap.colors=this.colors,this.mindmap._mode="table",this.mindmap.isMobile=e.Platform.isMobileApp,this.mindmap.themeConfig=r,this.mindmap.initTable(i),this.mindmapContainer.style.visibility="visible",this.mindmap.center()}}showTable(e){this.mindmap&&(this.mindmap.initTable(e),this.mindmap.view=this)}onunload(){this.app.workspace.offref("quick-preview"),this.app.workspace.offref("resize"),this.mindmap&&(this.mindmap.clear(),this.contentEl.innerHTML="",this.mindmap=null),this.list&&(this.list.clear(),this.contentEl.innerHTML="",this.list=null),this.translateView&&(this.translateView.clear(),this.contentEl.innerHTML="",this.translateView=null),this._haveOpenPdf&&this._closePDF(),Object.assign(window,{onlyPdf:!1}),this.plugin.setMarkdownView(this.leaf)}onload(){super.onload(),this.registerEvent(this.app.workspace.on("quick-preview",(()=>this.onQuickPreview),this)),this.registerEvent(this.app.workspace.on("resize",(()=>{this.mindmap&&e.Platform.isDesktopApp&&(this.mindmap.selectNode||this.mindmap.root)}),this))}onQuickPreview(e,t){}updateMindMap(){this.mindmap&&this.mindmap.center()}onFileRename(e,t){this.mindmap&&this.mindmap.path&&this.mindmap.path==t&&(this.mindmap.path=e.path)}onFileMetadataChange(e){return t(this,void 0,void 0,(function*(){var t=e.path;let i=yield this.app.vault.adapter.read(t);this.onQuickPreview(e,i),this.fileCache=this.app.metadataCache.getFileCache(e)}))}getMdText(e){if("basic"==this._mode)return e.trim().replace(o,"").trim();var t=e.match(/^(\`\`\` json)$.+?^(\`\`\`)$.+?/ims),i=!1;if(!t){t=e.match(/^(\`\`\`json)$.+?^(\`\`\`)$.+?/ims),i=!0,this.richFlag=!0}return t&&t.length>0?(this.richFirstSave=!1,i?t[0].substring(7,t[0].length-4).trim():t[0].substring(8,t[0].length-4).trim()):(this.richFirstSave=!0,JSON.stringify({mindData:[[{id:bs(),text:"Root",isRoot:!0,main:!0,x:this.plugin.settings.canvasSize/2,y:this.plugin.settings.canvasSize/2,isExpand:!0,layout:{layoutName:"mindmap2",direct:"mindmap"}}]]}))}mdToData(e){var t;if(e){const{root:t}=Es.transform(e);return Cs(t)}return{id:bs(),text:(null===(t=this.app.workspace.getActiveFile())||void 0===t?void 0:t.basename)||`${r("Untitled mindmap")}`}}onMoreOptionsMenu(i){this.translateView&&i.addItem((e=>{e.setTitle(`${r("Copy full text translations")}`).setIcon("document").onClick((()=>{if(this.translateView){var e=this.translateView.getTranslation();this.win.navigator.clipboard.writeText(""),this.win.navigator.clipboard.writeText(e)}}))})),this._haveOpenPdf?(i.addItem((e=>{e.setTitle(`${r("Open as markdown")}`).setIcon("document").onClick((()=>{this.plugin.mindmapFileModes[this.id||this.file.path]="markdown",this.plugin.setMarkdownView(this.leaf)}))})),i.addItem((i=>{i.setTitle(`${r("Full text translate")}`).setIcon("document").onClick((()=>t(this,void 0,void 0,(function*(){var t=this.pdf_path.path||"";if(t.startsWith("http")||t.startsWith("file"))new e.Notice(r("Pdf in vault"));else{var i=t.substr(0,t.length-3)+"translation";if(yield this.app.vault.adapter.exists(i))this.openFullText(t);else{var n=yield this.app.vault.adapter.readBinary(e.normalizePath(t));this.getPDFxml(n,e.normalizePath(t))}}}))))})),e.Platform.isDesktopApp&&(i.addItem((i=>{i.setTitle(`${r("Export annotate pdf")}`).setIcon("document").onClick((()=>t(this,void 0,void 0,(function*(){new e.Notice(`${r("Export annotate pdf tip")}`),this.iframe.contentWindow.postMessage({type:"exportAnnotatePDF"},"*")}))))})),i.addItem((e=>{e.setTitle(`${r("Export pdf annotations")}`).setIcon("document").onClick((()=>t(this,void 0,void 0,(function*(){yield this._exportHighlights()}))))})),i.addItem((i=>{i.setTitle(`${r("Get pdf annotations")}`).setIcon("document").onClick((()=>t(this,void 0,void 0,(function*(){new e.Notice(`${r("Export annotate pdf tip")}`),yield this._ectractHighlightOfPdf()}))))})),this.plugin.settings.activeCode)):(i.addItem((e=>{e.setTitle(`${r("Open as markdown")}`).setIcon("document").onClick((()=>{this.plugin.mindmapFileModes[this.id||this.file.path]="markdown",this.plugin.setMarkdownView(this.leaf)}))})),this.mindmap&&"basic"==this._mode&&(i.addItem((e=>{e.setTitle(`${r("Open as outline")}`).setIcon("document").onClick((()=>{this.mindmap.clear(),this.mindmapContainer.innerHTML="",this.mindmap=null,this.forceMindMapMode=!1,this.showOutline()}))})),i.addItem((e=>{e.setTitle(`${r("Open as table")}`).setIcon("document").onClick((()=>{this.forceMindMapMode=!1,this.isShowOutline=!1,this.isShowTable=!0,this.showTable(this.mindmap.data)}))})),i.addItem((e=>{e.setTitle(`${r("Create hand drawn mindmap")}`).setIcon("document").onClick((()=>{this.mindmap&&(this.mindmap.useHandMode&&(this.mindmap.useHandMode=!1),this._useHandDraw=!0,this.setViewData(this.data),setTimeout((()=>{this.mindmap&&this.mindmap.refresh(),this.mindmap&&this.mindmap.clearSelectNode()}),1200))}))})),this.isShowTable&&(i.addItem((e=>{e.setTitle(`${r("Open as mindmap board")}`).setIcon("document").onClick((()=>t(this,void 0,void 0,(function*(){this.mindmapContainer.innerHTML="",this.isShowOutline=!1,this.isShowTable=!1,this.forceMindMapMode=!0,this.setViewData(this.data)}))))})),i.addItem((e=>{e.setTitle(`${r("get table html")}`).setIcon("document").onClick((()=>t(this,void 0,void 0,(function*(){if(this.isShowTable&&this.mindmap){var e=JSON.parse(JSON.stringify(this.mindmap.data)),t=this.mindmap.getTableHtml(e);this.win.navigator.clipboard.writeText(""),this.win.navigator.clipboard.writeText(t),this.mindmap.initTable()}}))))})),i.addItem((e=>{e.setTitle(`${r("get table markdown")}`).setIcon("document").onClick((()=>t(this,void 0,void 0,(function*(){if(this.isShowTable&&this.mindmap){var e=JSON.parse(JSON.stringify(this.mindmap.data)),t=this.mindmap.getMarkdownOfTable(e);this.win.navigator.clipboard.writeText("");try{this.win.navigator.clipboard.writeText(us.turndown(t))}catch(e){console.log(e)}this.mindmap.initTable()}}))))})))),this.mindmap&&(i.addItem((e=>{e.setTitle(`${r("Toggle search box")}`).setIcon("document").onClick((()=>{this.mindmap._searchDom?this.mindmap.closeSearch():this.mindmap.createSearchDom()}))})),i.addItem((e=>{e.setTitle(`${r("Set mindmap to center")}`).setIcon("document").onClick((()=>{this.mindmap&&this.mindmap.center()}))})),i.addItem((e=>{e.setTitle(`${r("Copy as markdown")}`).setIcon("document").onClick((()=>{var e=this.mindmap.selectNode;if(e)var t=e.getLevel(),i=this.mindmap.getMarkdown(e,!0,t);else i=this.mindmap.getMarkdown();i&&(this.win.navigator.clipboard.writeText(""),this.win.navigator.clipboard.writeText(i))}))})),i.addItem((e=>{e.setTitle(`${r("Copy node text")}`).setIcon("document").onClick((()=>{var e=this.mindmap.selectNode;if(e){var t=e.getData().text;t&&(this.win.navigator.clipboard.writeText(""),this.win.navigator.clipboard.writeText(t))}}))}))),this.mindmap&&"rich"==this._mode&&(i.addItem((e=>{e.setTitle(`${r("Copy node link")}`).setIcon("document").onClick((()=>{var e=this.mindmap.selectNode;if(e){const{text:i,id:n}=e.getData();var t=`${i} [🔖](obsidian://jump-to-pdf?md=${encodeURIComponent(this.file.path)}&node=${encodeURIComponent(n)})`;this.win.navigator.clipboard.writeText(""),this.win.navigator.clipboard.writeText(t)}}))})),i.addItem((e=>{e.setTitle(`${r("Copy node id")}`).setIcon("document").onClick((()=>{var e=this.mindmap.selectNode;if(e){const{text:t,id:i}=e.getData();this.win.navigator.clipboard.writeText(""),this.win.navigator.clipboard.writeText(i)}}))}))),this.list&&i.addItem((e=>{e.setTitle(`${r("Open as mindmap board")}`).setIcon("document").onClick((()=>t(this,void 0,void 0,(function*(){this.list.clear(),this.mindmapContainer.innerHTML="",this.isShowOutline=!1,this.isShowTable=!1,this.list=null,this.forceMindMapMode=!0,this.setViewData(this.data)}))))}))),super.onMoreOptionsMenu(i)}openPDF(i){return t(this,void 0,void 0,(function*(){if(this.plugin.settings.pdfjsPath){if(this.period)new e.Notice(r("The probation period has ended"));else if(this.setTime&&clearTimeout(this.setTime),!this.pdf_path){if(document.querySelector(".pdfViewer"))return void new e.Notice(r("PDF Cannot Open More Instances"));new e.Notice(r("Open PDF File"))}}else new e.Notice(r("Miss PDF Reader Path"))}))}getAnnotations(e){var t=[],i=e.match(/(\n>\`\`\`annotate-json\n)(.+?)(\n>\`\`\`\n)/gm),n=!1;if(!i){i=e.match(/(\n> \`\`\`annotate-json\n)(.+?)(\n> \`\`\`\n)/gm),n=!0}return i&&i.length&&i.forEach((e=>{try{e=n?e.substring(21,e.length-6):e.substring(20,e.length-5);var i=JSON.parse(e.trim());t.push(i)}catch(e){console.log(e)}})),t}getEpubAnnotationsMarkdown(e){var t=this,i="",n=this.plugin.settings.removeSpace;return e.forEach((e=>{var s=">%%\n>```annotate-json\n>";(s+=JSON.stringify(e),s+="\n>```\n>%%\n",t.pdf_path.path,"epub-highlight"==e.type)?s+=n?`>*${e.text.replace(/\s/g,"")}*\n`:`>*${e.text}*\n`:s+=`>![[${t.pdf_path.path}]]\n`;s+=`>[[#^${e.id}|${r("Show Annotate")}]]\n>\n^${e.id}\n\n`,i+=s})),`---\n\nannotate-type: epub\nannotate-target: ${this.pdf_path.path}\n\n---\n\n`+i}getAnnotateMarkdown(e){var t="",i=this.plugin.settings.removeSpace;e.forEach((e=>{var n=">%%\n>```annotate-json\n>";n+=JSON.stringify(e),n+="\n>```\n>%%\n";var s=JSON.parse(e.text);(s.pdfName,"highlight"==e.type)?n+=i?`>*${e.selectText.replace(/\s/g,"")}*\n`:`>*${e.selectText}*\n`:n+=`>![[${s.path}]]\n`;n+=`>[[#^${e.id}|${r("Show Annotate")}]]\n>\n^${e.id}\n\n`,t+=n}));var n=`---\n\nannotate-type: pdf\nannotate-target: ${this.pdf_path.path}\n\n---\n\n`;return this.frontmatter&&(n=this.frontmatter),n+t}getNewAnnotateMarkdown(e){var t="",i=this.plugin.settings.removeSpace;e.forEach((e=>{var n=">%%\n>```annotate-json\n>";(n+=JSON.stringify(e),n+="\n>```\n>%%\n","highlight"==e.type||"underline"==e.type||"strokeout"==e.type)?n+=i?`>*${e.text.replace(/\s/g,"")}*\n`:`>*${e.text}*\n`:n+=`>![[${e.path}]]\n`;n+=`>[[#^${e.id}|${r("Show Annotate")}]]\n>\n^${e.id}\n\n`,t+=n}));var n=`---\n\nannotate-type: pdf\nannotate-target: ${this.pdf_path.path}\n\n---\n\n`;return this.frontmatter&&(n=this.frontmatter),n+t}_closePDF(){this._close(),this.mindmapContainer.style.width="100%",this.pdfContainer.style.display="none",this.mindmap&&this.mindmap.center(),this.removeMessageEvent()}openMindView(i,n){return t(this,void 0,void 0,(function*(){var t=this.app.metadataCache.getFirstLinkpathDest(n,null==this?void 0:this.file.path);const s=this.app.workspace.getLeavesOfType(Ds);if(s.length){var r=null;if(s.forEach((i=>{i.view&&i.view.mindmap&&e.View.mindmap.path==t.path&&(r=i.view)})),r){var o=r.mindmap,a=o.getNodeById(i);a&&o.showNode(a)}else Object.assign(window,{"show-mindmap-node":i}),this.app.workspace.openLinkText(n,"","split")}else Object.assign(window,{"show-mindmap-node":i}),this.app.workspace.openLinkText(n,"","split")}))}getAnnoateById(e){var i;return t(this,void 0,void 0,(function*(){var t=null,n=this.app.vault.getMarkdownFiles();for(let r of n){var s=null===(i=this.app.metadataCache.getFileCache(r))||void 0===i?void 0:i.frontmatter;if(s&&s.id&&s.id==e){t=r;break}}return t}))}showAnnotateByJson(e,i){return t(this,void 0,void 0,(function*(){const t=this.app.workspace.getLeavesOfType(Ds);(this.plugin.settings.isDecodeURl||!1)&&(i=decodeURI(i)),t.forEach((t=>{t.view&&t.view._haveOpenPdf&&t.view.pdf_path&&t.view.pdf_path.path.indexOf(i)>-1&&t.view.iframe.contentWindow.postMessage({type:"showAnnotateByJson",json:e},"*")}))}))}showAnnotateById(i,n){var s;return t(this,void 0,void 0,(function*(){var t=yield this.getAnnoateById(n);if(t){var o=null===(s=this.app.metadataCache.getFileCache(t))||void 0===s?void 0:s.frontmatter,a=o&&o["annotate-target"];a&&this.showAnnotate(i,a)}else new e.Notice(r("Not find md file")+", Yaml id is:"+n)}))}showAnnotate(i,n){return t(this,void 0,void 0,(function*(){var t={};if((this.plugin.settings.isDecodeURl||!1)&&(n=decodeURI(n)),n.startsWith("file:/")){t.path=n,t.basename=xs.basename(n),t.absolutePath=n.replace("file://","");var s=n}else if(n.startsWith("http://")||n.startsWith("https://")){t.path=n,t.basename=n,t.absolutePath=n;s=n}else{t=this.app.metadataCache.getFirstLinkpathDest(n,null==this?void 0:this.file.path);s=this.app.vault.getResourcePath(t)}const o=this.app.workspace.getLeavesOfType(Ds);if(o.length){var a=null;if(o.forEach((e=>{e.view&&e.view._haveOpenPdf&&e.view.pdf_real_path==s&&(a=e.view)})),a)a.iframe.contentWindow.postMessage({id:i,type:"showAnnotate"},"*");else{if(n.startsWith("file:/")||n.startsWith("http"));else if((c=e.normalizePath(t.path)).endsWith(".pdf"))var h=c.substr(0,c.length-4)+"-annotate.md";else if(c.endsWith(".epub"))h=c.substr(0,c.length-5)+"-annotate.md";var l=yield this.getAnnoate(t.path);if(Object.assign(window,{waitPdfId:i}),l)yield this.app.workspace.openLinkText(l.path,"","split");else{if(n.startsWith("file:/")||n.startsWith("http"))return void new e.Notice(r("Not find md file"));var d=`---\nid: ${bs()}\nannotate-target: ${t.path}\n---\n`;yield this.app.vault.adapter.write(h,d),setTimeout((()=>{this.app.workspace.openLinkText(h,"","split")}),200)}}}else{var c;h=(c=e.normalizePath(t.path)).substr(0,c.length-4)+"-annotate.md";if(yield this.app.vault.adapter.exists(h))yield this.app.workspace.openLinkText(h,"","split");else{d=`---\nid: ${bs()}\nannotate-target: ${n}\n---\n`;yield this.app.vault.adapter.write(h,d),setTimeout((()=>{this.app.workspace.openLinkText(h,"","split")}),100)}}}))}getAnnoate(e){var i;return t(this,void 0,void 0,(function*(){var t=null,n=this.app.vault.getMarkdownFiles(),s=encodeURI(e),r=encodeURIComponent(e);for(let a of n){var o=null===(i=this.app.metadataCache.getFileCache(a))||void 0===i?void 0:i.frontmatter;if(o&&o["annotate-target"]&&(o["annotate-target"]==e||o["annotate-target"]==s||o["annotate-target"]==r)){t=a;break}}return t}))}getTranslateMd(e){var i;return t(this,void 0,void 0,(function*(){var t=null,n=this.app.vault.getMarkdownFiles(),s=encodeURI(e),r=encodeURIComponent(e);for(let a of n){var o=null===(i=this.app.metadataCache.getFileCache(a))||void 0===i?void 0:i.frontmatter;if(o&&o["translate-target"]&&(o["translate-target"]==e||o["translate-target"]==s||o["translate-target"]==r)){t=a;break}}return t}))}exportXmind(){return t(this,void 0,void 0,(function*(){if(this.period)new e.Notice(`${r("The probation period has ended")}`);else if(this.mindmap){var t=this.mindmap.exportXmind(),i=new ki;this.mindmap.relateLinks&&this.mindmap.relateLinks.length&&(t[0].relationships=[],this.mindmap.relateLinks.forEach((e=>{var i=e.getData(),n={end1Id:i.startNodeId,end2Id:i.endNodeId,id:bs(),style:{id:bs(),properties:{}}};i.nodeData&&(n.title=i.nodeData.text),n.style.properties["line-color"]=i.color,t[0].relationships.push(n)})));i.file("content.json",JSON.stringify(t)),i.folder("resources"),i.folder("Thumbnails"),i.file("metadata.json",'{"dataStructureVersion":"2","layoutEngineVersion":"3","creator":{"name":"Vana","version":"23.11.04336"}}'),i.file("manifest.json",'{"file-entries":{"content.json":{},"metadata.json":{},"Thumbnails/thumbnail.png":{}}}'),i.file("content.xml",'<?xml version="1.0" encoding="UTF-8" standalone="no"?><xmap-content xmlns="urn:xmind:xmap:xmlns:content:2.0" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" modified-by="bruce" timestamp="1503058545540" version="2.0"><sheet id="7abtd0ssc7n4pi1nu6i7b6lsdh" modified-by="bruce" theme="0kdeemiijde6nuk97e4t0vpp54" timestamp="1503058545540"><topic id="1vr0lcte2og4t2sopiogvdmifc" modified-by="bruce" structure-class="org.xmind.ui.logic.right" timestamp="1503058545417"><title>Warning\n警告\nAttention\nWarnung\n경고</title><children><topics type="attached"><topic id="71h1aip2t1o8vvm0a41nausaar" modified-by="bruce" timestamp="1503058545423"><title svg:width="500">This file can not be opened normally, please do not modify and save, otherwise the contents will be permanently lost！</title><children><topics type="attached"><topic id="428akmkh9a0tog6c91qj995qdl" modified-by="bruce" timestamp="1503058545427"><title>You can try using XMind 8 Update 3 or later version to open</title></topic></topics></children></topic><topic id="2kb87f8m38b3hnfhp450c7q35e" modified-by="bruce" timestamp="1503058545434"><title svg:width="500">该文件无法正常打开，请勿修改并保存，否则文件内容将会永久性丢失！</title><children><topics type="attached"><topic id="3m9hoo4a09n53ofl6fohdun99f" modified-by="bruce" timestamp="1503058545438"><title>你可以尝试使用 XMind 8 Update 3 或更新版本打开</title></topic></topics></children></topic><topic id="7r3r4617hvh931ot9obi595r8f" modified-by="bruce" timestamp="1503058545444"><title svg:width="500">該文件無法正常打開，請勿修改並保存，否則文件內容將會永久性丟失！</title><children><topics type="attached"><topic id="691pgka6gmgpgkacaa0h3f1hjb" modified-by="bruce" timestamp="1503058545448"><title>你可以嘗試使用 XMind 8 Update 3 或更新版本打開</title></topic></topics></children></topic><topic id="0f2e3rpkfahg4spg4nda946r0b" modified-by="bruce" timestamp="1503058545453"><title svg:width="500">この文書は正常に開かないので、修正して保存しないようにしてください。そうでないと、書類の内容が永久に失われます。！</title><children><topics type="attached"><topic id="4vuubta53ksc1falk46mevge0t" modified-by="bruce" timestamp="1503058545457"><title>XMind 8 Update 3 や更新版を使って開くこともできます</title></topic></topics></children></topic><topic id="70n9i4u3lb89sq9l1m1bs255j5" modified-by="bruce" timestamp="1503058545463"><title svg:width="500">Datei kann nicht richtig geöffnet werden. Bitte ändern Sie diese Datei nicht und speichern Sie sie, sonst wird die Datei endgültig gelöscht werden.</title><children><topics type="attached"><topic id="1qpc5ee298p2sqeqbinpca46b7" modified-by="bruce" timestamp="1503058545466"><title svg:width="500">Bitte versuchen Sie, diese Datei mit XMind 8 Update 3 oder später zu öffnen.</title></topic></topics></children></topic><topic id="4dmes10uc19pq7enu8sc4bmvif" modified-by="bruce" timestamp="1503058545473"><title svg:width="500">Ce fichier ne peut pas ouvert normalement, veuillez le rédiger et sauvegarder, sinon le fichier sera perdu en permanence. </title><children><topics type="attached"><topic id="5f0rivgubii2launodiln7sdkt" modified-by="bruce" timestamp="1503058545476"><title svg:width="500">Vous pouvez essayer d\'ouvrir avec XMind 8 Update 3 ou avec une version plus récente.</title></topic></topics></children></topic><topic id="10pn1os1sgfsnqa8akabom5pej" modified-by="bruce" timestamp="1503058545481"><title svg:width="500">파일을 정상적으로 열 수 없으며, 수정 및 저장하지 마십시오. 그렇지 않으면 파일의 내용이 영구적으로 손실됩니다!</title><children><topics type="attached"><topic id="0l2nr0fq3em22rctapkj46ue58" modified-by="bruce" timestamp="1503058545484"><title svg:width="500">XMind 8 Update 3 또는 이후 버전을 사용하여</title></topic></topics></children></topic></topics></children><extensions><extension provider="org.xmind.ui.map.unbalanced"><content><right-number>-1</right-number></content></extension></extensions></topic><title>Sheet 1</title></sheet></xmap-content>\n');var n=this.file,s=n.path;if(s=n.path.substring(0,s.length-3),s+="-export.xmind",this.mindmap._exportImages.length){var o=JSON.parse('{"file-entries":{"content.json":{},"metadata.json":{},"Thumbnails/thumbnail.png":{}}}');this.mindmap._exportImages.forEach((e=>{i.folder("resources").file(`${e.name}.png`,e.image.substring(e.image.indexOf(",")+1),{base64:!0}),o["file-entries"][e.link]={}})),i.file("manifest.json",JSON.stringify(o)),this.mindmap._exportImages=[]}i.generateAsync({type:"arraybuffer"}).then((t=>{this.app.vault.adapter.writeBinary(s,t),new e.Notice(r("Export xmind success")+" : "+s)}))}}))}}class Ss extends e.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t}display(){const{containerEl:t}=this;this.plugin.settings.setup||(this.plugin.settings.setup=(new Date).getTime()),this.plugin.settings.firstActive&&(this.plugin.settings.firstActive=0,this.plugin.saveData(this.plugin.settings)),t.empty(),new e.Setting(t).setName(`${r("Canvas size")}`).setDesc(`${r("Canvas size desc")}`).addDropdown((e=>e.addOption("4000","4000").addOption("6000","6000").addOption("8000","8000").addOption("10000","10000").addOption("12000","12000").addOption("16000","16000").addOption("20000","20000").addOption("24000","24000").addOption("30000","30000").addOption("36000","36000").addOption("40000","40000").addOption("50000","50000").addOption("60000","60000").addOption("70000","70000").addOption("80000","80000").addOption("90000","90000").addOption("100000","100000").addOption("110000","110000").addOption("120000","120000").addOption("160000","160000").addOption("200000","200000").addOption("240000","240000").addOption("300000","300000").setValue(this.plugin.settings.canvasSize.toString()||"8000").onChange((e=>{var t=Number.parseInt(e);this.plugin.settings.canvasSize=t,this.plugin.saveData(this.plugin.settings);this.app.workspace.getLeavesOfType(Ds).forEach((e=>{var i=e.view;i.mindmap.setting.canvasSize=t,i.mindmap.setAppSetting();var n=i.mindmap.root.getBox();i.mindmap.root.setPosition(t/2-n.width/2,t/2-n.height/2),i.mindmap.refresh(),i.mindmap.center()}))})))),new e.Setting(t).setName(`${r("Canvas background")}`).setDesc(`${r("Canvas background desc")}`).addText((e=>e.setValue(this.plugin.settings.background||"transparent").setPlaceholder("Example: black|white|#ccc").onChange((e=>{this.plugin.settings.background=e,this.plugin.saveData(this.plugin.settings);this.app.workspace.getLeavesOfType(Ds).forEach((e=>{var t=e.view;t.mindmap.setting.background=this.plugin.settings.background,t.mindmap.setAppSetting()}))})))),new e.Setting(t).setName(`${r("Max level of node to markdown head")}`).setDesc(`${r("Max level of node to markdown head desc")}`).addDropdown((e=>e.addOption("0","0").addOption("1","1").addOption("2","2").addOption("3","3").addOption("4","4").addOption("5","5").addOption("6","6").setValue(this.plugin.settings.headLevel.toString()||"2").onChange((e=>{this.plugin.settings.headLevel=Number.parseInt(e),this.plugin.saveData(this.plugin.settings);this.app.workspace.getLeavesOfType(Ds).forEach((e=>{e.view.mindmap.setting.headLevel=this.plugin.settings.headLevel}))})))),new e.Setting(t).setName(`${r("Font size")}`).setDesc(`${r("Font size desc")}`).addText((e=>{var t;return e.setValue((null===(t=this.plugin.settings.fontSize)||void 0===t?void 0:t.toString())||"16").setPlaceholder("Example: 16").onChange((e=>{this.plugin.settings.fontSize=Number.parseInt(e),this.plugin.saveData(this.plugin.settings);this.app.workspace.getLeavesOfType(Ds).forEach((e=>{var t=e.view;t.mindmap.setting.fontSize=this.plugin.settings.fontSize,t.mindmap.setAppSetting(),t.mindmap.traverseBF((e=>{e.boundingRect=null,e.refreshBox()})),t.mindmap.refresh()}))}))})),new e.Setting(t).setName(`${r("Mind map layout direct")}`).setDesc(`${r("Mind map layout direct desc")}`).addDropdown((e=>e.addOption("mind map",r("Centered")).addOption("right",r("Right")).addOption("left",r("Left")).setValue(this.plugin.settings.layoutDirect.toString()||"mind map").onChange((e=>{this.plugin.settings.layoutDirect=e,this.plugin.saveData(this.plugin.settings);this.app.workspace.getLeavesOfType(Ds).forEach((e=>{var t=e.view;t.mindmap.setting.layoutDirect=this.plugin.settings.layoutDirect,t.mindmap.refresh()}))})))),new e.Setting(t).setName(`${r("Stroke Array")}`).setDesc(`${r("Stroke Array Desc")}`).addText((e=>{var t;return e.setValue((null===(t=this.plugin.settings.strokeArray)||void 0===t?void 0:t.toString())||"").setPlaceholder("Example: red,oragne,blue ...").onChange((e=>{this.plugin.settings.strokeArray=e,this.plugin.saveData(this.plugin.settings);this.app.workspace.getLeavesOfType(Ds).forEach((e=>{var t=e.view;t.mindmap.setting.strokeArray=this.plugin.settings.strokeArray.split(","),t.mindmap.traverseBF((e=>{e.boundingRect=null,e.refreshBox()})),t.mindmap.refresh()}))}))})),new e.Setting(t).setName(`${r("Open Protocol")}`).setDesc(`${r("Open Protocol Desc")}`).addDropdown((e=>e.addOption("0",r("Close")).addOption("1",r("Open")).setValue(this.plugin.settings.openProtocol||"0").onChange((e=>{this.plugin.settings.openProtocol=Number.parseInt(e),this.plugin.saveData(this.plugin.settings),this.plugin.settings.openProtocol&&this.plugin.settings.protocol&&this.plugin.registerObsidianProtocol()})))),new e.Setting(t).setName(`${r("Annotation save type")}`).setDesc(`${r("Annotation save type desc")}`).addDropdown((e=>e.addOption("annos","annos").addOption("md","markdown").setValue(this.plugin.settings.useMarkdownSaveAnnotation).onChange((e=>{this.plugin.settings.useMarkdownSaveAnnotation=e,this.plugin.saveData(this.plugin.settings);const t=this.app.workspace.getLeavesOfType(Ds);"md"==this.plugin.settings.useMarkdownSaveAnnotation?t.forEach((e=>{e.view.useMarkdown=!0})):t.forEach((e=>{e.view.useMarkdown=!1}))})))),new e.Setting(t).setName(`${r("Active Code")}`).setDesc(`${r("Active Code Desc")}`).addTextArea((e=>{var t;return e.setValue((null===(t=this.plugin.settings.activeCode)||void 0===t?void 0:t.toString())||"").setPlaceholder("").onChange((e=>{this.plugin.settings.activeCode=e,this.plugin.saveData(this.plugin.settings);this.app.workspace.getLeavesOfType(Ds).forEach((e=>{var t=e.view;t.activeCode=this.plugin.settings.activeCode,t.checkActive()}))}))})),new e.Setting(t).setName(`${r("Mobile Active Code")}`).setDesc(`${r("Mobile Active Code Desc")}`).addTextArea((e=>{var t;return e.setValue((null===(t=this.plugin.settings.mobileActiveCode)||void 0===t?void 0:t.toString())||"").setPlaceholder("").onChange((e=>{this.plugin.settings.mobileActiveCode=e,this.plugin.saveData(this.plugin.settings);this.app.workspace.getLeavesOfType(Ds).forEach((e=>{e.view.checkActive()}))}))})),new e.Setting(t).setName(`${r("PDF Viewer Theme")}`).setDesc(`${r("PDF Viewer Theme desc")}`).addDropdown((e=>e.addOption("1","Light").addOption("2","Dark").setValue(this.plugin.settings.viewerTheme.toString()||"2").onChange((e=>{this.plugin.settings.viewerTheme=Number.parseInt(e),this.plugin.saveData(this.plugin.settings)})))),new e.Setting(t).setName(`${r("Mindmap mode")}`).setDesc(`${r("Mindmap mode desc")}`).addDropdown((e=>e.addOption("basic","Basic").addOption("rich","Rich").setValue(this.plugin.settings.mindmapmode.toString()||"basic").onChange((e=>{this.plugin.settings.mindmapmode=e,this.plugin.saveData(this.plugin.settings)})))),new e.Setting(t).setName(`${r("Pdf screen short")}`).setDesc(`${r("Pdf screen short desc")}`).addText((e=>{var t;return e.setValue((null===(t=this.plugin.settings.imageFolder)||void 0===t?void 0:t.toString())||"").setPlaceholder("assets").onChange((e=>{this.plugin.settings.imageFolder=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Remove annotate space")}`).setDesc(`${r("Remove annotate space desc")}`).addToggle((e=>{e.setValue(this.plugin.settings.removeSpace).onChange((e=>{this.plugin.settings.removeSpace=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Smooth movement")}`).setDesc(`${r("Smooth movement desc")}`).addToggle((e=>{e.setValue(this.plugin.settings.removeSpace).onChange((e=>{this.plugin.settings.useAnimate=e,this.plugin.saveData(this.plugin.settings);this.app.workspace.getLeavesOfType(Ds).forEach((t=>{var i=t.view;i&&i.mindmap&&(i.mindmap.setting.useAnimate=e)}))}))})),new e.Setting(t).setName(`${r("Support code block")}`).setDesc(`${r("Support code block desc")}`).addToggle((e=>{e.setValue(this.plugin.settings.openCodeBlock).onChange((e=>{this.plugin.settings.openCodeBlock=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("nodeColor")}`).setDesc(`${r("nodeColorDesc")}`).addText((e=>{var t;return e.setValue((null===(t=this.plugin.settings.nodeColorArray)||void 0===t?void 0:t.toString())||"").setPlaceholder("Example: red,orange,#ccc").onChange((e=>{this.plugin.settings.nodeColorArray=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Format of pdf highlight")}`).setDesc(`${r("Format of pdf highlight desc")}`).addTextArea((e=>{var t;return e.setValue((null===(t=this.plugin.settings.highlightFormat)||void 0===t?void 0:t.toString())||"").setPlaceholder("").onChange((e=>{this.plugin.settings.highlightFormat=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Fine tune height of annotate")}`).setDesc(`${r("Fine tune height of annotate desc")}`).addText((e=>{var t;return e.setValue((null===(t=this.plugin.settings.annotateTop)||void 0===t?void 0:t.toString())||"0").setPlaceholder("Example: 0").onChange((e=>{this.plugin.settings.annotateTop=Number.parseInt(e),this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Fine tune height of annotate")}`).setDesc(`${r("Fine tune height of annotate desc one")}`).addText((e=>{var t;return e.setValue((null===(t=this.plugin.settings.annotateBottom)||void 0===t?void 0:t.toString())||"0").setPlaceholder("Example: 0").onChange((e=>{this.plugin.settings.annotateBottom=Number.parseInt(e),this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Decode URI pdf link")}`).setDesc(`${r("Decode URI pdf link desc")}`).addToggle((e=>{e.setValue(this.plugin.settings.isDecodeURl).onChange((e=>{this.plugin.settings.isDecodeURl=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Auto create node when annotate")}`).setDesc(`${r("Auto create node when annotate desc")}`).addToggle((e=>{e.setValue(this.plugin.settings.autoCreateNodeWhenAnnotate).onChange((e=>{this.plugin.settings.autoCreateNodeWhenAnnotate=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Use custom short cut")}`).setDesc(`${r("Use custom short cut desc")}`).addToggle((e=>{e.setValue(this.plugin.settings.useCustomShortcut).onChange((e=>{this.plugin.settings.useCustomShortcut=e,this.plugin.saveData(this.plugin.settings);this.app.workspace.getLeavesOfType(Ds).forEach((t=>{var i=t.view;i&&i.mindmap&&(i.mindmap.useCustomShortcut=e)}))}))})),new e.Setting(t).setName(`${r("PDF cache folder")}`).setDesc(`${r("PDF cache folder desc")}`).addText((e=>{var t;return e.setValue((null===(t=this.plugin.settings.cacheFolder)||void 0===t?void 0:t.toString())||"").setPlaceholder("cache").onChange((e=>{this.plugin.settings.cacheFolder=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Folder of paste image")}`).setDesc(`${r("Folder of paste image desc")}`).addText((e=>{var t;return e.setValue((null===(t=this.plugin.settings.pasteFolder)||void 0===t?void 0:t.toString())||"").setPlaceholder("asset").onChange((e=>{this.plugin.settings.pasteFolder=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Only copy annotate link")}`).setDesc(`${r("Only copy annotate link desc")}`).addToggle((e=>{e.setValue(this.plugin.settings.onlyCopyLink).onChange((e=>{this.plugin.settings.onlyCopyLink=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Auto set node to center when tab node of mindmap")}`).setDesc(`${r("Auto set node to center when tab node of mindmap desc")}`).addToggle((e=>{e.setValue(this.plugin.settings.autoCenter).onChange((e=>{this.plugin.settings.autoCenter=e,this.plugin.saveData(this.plugin.settings);this.app.workspace.getLeavesOfType(Ds).forEach((t=>{var i=t.view;i&&i.mindmap&&(i.mindmap._autoCenter=e)}))}))})),new e.Setting(t).setName(`${r("Auto open search box")}`).setDesc(`${r("Auto open search box desc")}`).addToggle((e=>{e.setValue(this.plugin.settings.autoOpenSearch).onChange((e=>{this.plugin.settings.autoOpenSearch=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Add collapse node mark")}`).setDesc(`${r("Add collapse node mark desc")}`).addToggle((e=>{e.setValue(this.plugin.settings.addCollapseNodeMark).onChange((e=>{this.plugin.settings.addCollapseNodeMark=e,this.plugin.saveData(this.plugin.settings);this.app.workspace.getLeavesOfType(Ds).forEach((t=>{var i=t.view;i&&i.mindmap&&(i.mindmap.addCollapseNodeMark=e)}))}))})),new e.Setting(t).setName(`${r("Only use obsidian folder for pdfjs plugin")}`).setDesc(`${r("Only use obsidian folder for pdfjs plugin desc")}`).addToggle((e=>{e.setValue(this.plugin.settings.onlyUseObsidianFolder).onChange((e=>{this.plugin.settings.onlyUseObsidianFolder=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("ChatGTP appkey")}`).setDesc(`${r("ChatGTP appkey desc")}`).addText((e=>{var t;return e.setValue((null===(t=this.plugin.settings.chatGTPKey)||void 0===t?void 0:t.toString())||"").setPlaceholder("").onChange((e=>{this.plugin.settings.chatGTPKey=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("ChatGTP model")}`).setDesc(`${r("ChatGTP model desc")}`).addDropdown((e=>{var t;return e.addOption("gpt-3.5-turbo","gpt-3.5-turbo").addOption("gpt-3.5-turbo-1106","gpt-3.5-turbo-1106").addOption("gpt-4","gpt-4").addOption("gpt-4-0125-preview","gpt-4-0125-preview").addOption("gpt-4-1106-preview","gpt-4-1106-preview").addOption("gpt-4-turbo-preview","gpt-4-turbo-preview").setValue((null===(t=this.plugin.settings.chatGTPModel)||void 0===t?void 0:t.toString())||"gpt-3.5-turbo").onChange((e=>{this.plugin.settings.chatGTPModel=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("ProxyServer")}`).setDesc(`${r("ProxyServer desc")}`).addText((e=>{var t;return e.setValue((null===(t=this.plugin.settings.proxyServer)||void 0===t?void 0:t.toString())||"").setPlaceholder("").onChange((e=>{this.plugin.settings.proxyServer=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Annotate template")}`).setDesc(`${r("Annotate template desc")}`).addTextArea((e=>{var t;return e.setValue((null===(t=this.plugin.settings.annotateFormat)||void 0===t?void 0:t.toString())||"").setPlaceholder("").onChange((e=>{this.plugin.settings.annotateFormat=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Support translate")}`).setDesc(`${r("Support translate desc")}`).addToggle((e=>{e.setValue(this.plugin.settings.useTranslate).onChange((e=>{this.plugin.settings.useTranslate=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Translation engine")}`).setDesc(`${r("Translation engine")}`).addDropdown((e=>{var t;return e.addOption("baidu",r("baidu")).setValue((null===(t=this.plugin.settings.translateType)||void 0===t?void 0:t.toString())||"baidu").onChange((e=>{this.plugin.settings.translateType=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Translate appid")}`).setDesc(`${r("Translate appid desc")}`).addText((e=>{var t;return e.setValue((null===(t=this.plugin.settings.translateAppId)||void 0===t?void 0:t.toString())||"").setPlaceholder("").onChange((e=>{this.plugin.settings.translateAppId=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Translate secret")}`).setDesc(`${r("Translate secret desc")}`).addText((e=>{var t;return e.setValue((null===(t=this.plugin.settings.translateKey)||void 0===t?void 0:t.toString())||"").setPlaceholder("").onChange((e=>{this.plugin.settings.translateKey=e,this.plugin.saveData(this.plugin.settings)}))})),new e.Setting(t).setName(`${r("Scale speed of mobile version")}`).setDesc(`${r("Scale speed of mobile version desc")}`).addText((e=>{var t;return e.setValue((null===(t=this.plugin.settings.scaleSpeed)||void 0===t?void 0:t.toString())||"5").setPlaceholder("Example: 5").onChange((e=>{this.plugin.settings.scaleSpeed=Number.parseInt(e),this.plugin.saveData(this.plugin.settings)}))}))}}const Bs="4.29.2";let Ms,Ts,Ls,Ps,Os,Rs,_s,Fs,zs,Qs=!1;class Hs{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}Ms||function(e,t={auto:!1}){if(Qs)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(Ms)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${Ms}'\``);Qs=t.auto,Ms=e.kind,Ts=e.fetch,e.Request,e.Response,e.Headers,Ls=e.FormData,e.Blob,Ps=e.File,Os=e.ReadableStream,Rs=e.getMultipartRequestOptions,_s=e.getDefaultAgent,Fs=e.fileFromPath,zs=e.isFsReadStream}(function({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let i,n,s,r;try{i=fetch,n=Request,s=Response,r=Headers}catch(e){throw new Error(`this environment is missing the following Web Fetch API type: ${e.message}. ${t}`)}return{kind:"web",fetch:i,Request:n,Response:s,Headers:r,FormData:"undefined"!=typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:"undefined"!=typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:"undefined"!=typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:"undefined"!=typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(e,t)=>({...t,body:new Hs(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0});class js extends Error{}class qs extends js{constructor(e,t,i,n){super(`${qs.makeMessage(e,t,i)}`),this.status=e,this.headers=n;const s=t;this.error=s,this.code=s?.code,this.param=s?.param,this.type=s?.type}static makeMessage(e,t,i){const n=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):i;return e&&n?`${e} ${n}`:e?`${e} status code (no body)`:n||"(no status code or body)"}static generate(e,t,i,n){if(!e)return new Vs({cause:Rr(t)});const s=t?.error;return 400===e?new Xs(e,s,i,n):401===e?new Gs(e,s,i,n):403===e?new Ys(e,s,i,n):404===e?new Ks(e,s,i,n):409===e?new Js(e,s,i,n):422===e?new Zs(e,s,i,n):429===e?new $s(e,s,i,n):e>=500?new er(e,s,i,n):new qs(e,s,i,n)}}class Ws extends qs{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class Vs extends qs{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,t&&(this.cause=t)}}class Us extends Vs{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Xs extends qs{constructor(){super(...arguments),this.status=400}}class Gs extends qs{constructor(){super(...arguments),this.status=401}}class Ys extends qs{constructor(){super(...arguments),this.status=403}}class Ks extends qs{constructor(){super(...arguments),this.status=404}}class Js extends qs{constructor(){super(...arguments),this.status=409}}class Zs extends qs{constructor(){super(...arguments),this.status=422}}class $s extends qs{constructor(){super(...arguments),this.status=429}}class er extends qs{}class tr{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let i=!1;const n=new ir;return new tr((async function*(){if(i)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let s=!1;try{for await(const i of async function*(){if(!e.body)throw t.abort(),new js("Attempted to iterate over a response with no body");const i=new nr,s=sr(e.body);for await(const e of s)for(const t of i.decode(e)){const e=n.decode(t);e&&(yield e)}for(const e of i.flush()){const t=n.decode(e);t&&(yield t)}}())if(!s)if(i.data.startsWith("[DONE]"))s=!0;else if(null===i.event){let e;try{e=JSON.parse(i.data)}catch(e){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),e}if(e&&e.error)throw new qs(void 0,e.error,void 0,void 0);yield e}else{let e;try{e=JSON.parse(i.data)}catch(e){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),e}if("error"==i.event)throw new qs(void 0,e.error,e.message,void 0);yield{event:i.event,data:e}}s=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{s||t.abort()}}),t)}static fromReadableStream(e,t){let i=!1;return new tr((async function*(){if(i)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let n=!1;try{for await(const t of async function*(){const t=new nr,i=sr(e);for await(const e of i)for(const i of t.decode(e))yield i;for(const e of t.flush())yield e}())n||t&&(yield JSON.parse(t));n=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{n||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],i=this.iterator(),n=n=>({next:()=>{if(0===n.length){const n=i.next();e.push(n),t.push(n)}return n.shift()}});return[new tr((()=>n(e)),this.controller),new tr((()=>n(t)),this.controller)]}toReadableStream(){const e=this;let t;const i=new TextEncoder;return new Os({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:s}=await t.next();if(s)return e.close();const r=i.encode(JSON.stringify(n)+"\n");e.enqueue(r)}catch(t){e.error(t)}},async cancel(){await(t.return?.())}})}}class ir{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,i,n]=function(e,t){const i=e.indexOf(t);if(-1!==i)return[e.substring(0,i),t,e.substring(i+t.length)];return[e,"",""]}(e,":");return n.startsWith(" ")&&(n=n.substring(1)),"event"===t?this.event=n:"data"===t&&this.data.push(n),null}}class nr{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const i=nr.NEWLINE_CHARS.has(t[t.length-1]||"");let n=t.split(nr.NEWLINE_REGEXP);return i&&n.pop(),1!==n.length||i?(this.buffer.length>0&&(n=[this.buffer.join("")+n[0],...n.slice(1)],this.buffer=[]),i||(this.buffer=[n.pop()||""]),n):(this.buffer.push(n[0]),[])}decodeText(e){if(null==e)return"";if("string"==typeof e)return e;if("undefined"!=typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new js(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!=typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new js(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new js("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}function sr(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}nr.NEWLINE_CHARS=new Set(["\n","\r","\v","\f","","","","","\u2028","\u2029"]),nr.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;const rr=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob,or=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer,ar=e=>(e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&or(e))(e)||rr(e)||zs(e);async function hr(e,t,i={}){if(e=await e,rr(e)){const n=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new Ps([n],t,i)}const n=await async function(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(or(e))t.push(await e.arrayBuffer());else{if(!dr(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${function(e){const t=Object.getOwnPropertyNames(e);return`[${t.map((e=>`"${e}"`)).join(", ")}]`}(e)}`);for await(const i of e)t.push(i)}return t}(e);if(t||(t=function(e){return lr(e.name)||lr(e.filename)||lr(e.path)?.split(/[\\/]/).pop()}(e)??"unknown_file"),!i.type){const e=n[0]?.type;"string"==typeof e&&(i={...i,type:e})}return new Ps(n,t,i)}const lr=e=>"string"==typeof e?e:"undefined"!=typeof Buffer&&e instanceof Buffer?String(e):void 0,dr=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator],cr=e=>e&&"object"==typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],ur=async e=>{const t=await pr(e.body);return Rs(t,e)},pr=async e=>{const t=new Ls;return await Promise.all(Object.entries(e||{}).map((([e,i])=>mr(t,e,i)))),t},mr=async(e,t,i)=>{if(void 0!==i){if(null==i)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof i||"number"==typeof i||"boolean"==typeof i)e.append(t,String(i));else if(ar(i)){const n=await hr(i);e.append(t,n)}else if(Array.isArray(i))await Promise.all(i.map((i=>mr(e,t+"[]",i))));else{if("object"!=typeof i)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${i} instead`);await Promise.all(Object.entries(i).map((([i,n])=>mr(e,`${t}[${i}]`,n))))}}};var fr,gr=function(e,t,i,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,i):s?s.value=i:t.set(e,i),i},vr=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};async function yr(e){const{response:t}=e;if(e.options.stream)return Hr("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):tr.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const i=t.headers.get("content-type");if(i?.includes("application/json")||i?.includes("application/vnd.api+json")){const e=await t.json();return Hr("response",t.status,t.url,t.headers,e),e}const n=await t.text();return Hr("response",t.status,t.url,t.headers,n),n}class Ar extends Promise{constructor(e,t=yr){super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Ar(this.responsePromise,(async t=>e(await this.parseResponse(t))))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class xr{constructor({baseURL:e,maxRetries:t=2,timeout:i=6e5,httpAgent:n,fetch:s}){this.baseURL=e,this.maxRetries=Or("maxRetries",t),this.timeout=Or("timeout",i),this.httpAgent=n,this.fetch=s??Ts}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Br(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${jr()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,i){return this.request(Promise.resolve(i).then((i=>({method:e,path:t,...i}))))}getAPIList(e,t,i){return this.requestAPIList(t,{method:"get",path:e,...i})}calculateContentLength(e){if("string"==typeof e){if("undefined"!=typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!=typeof TextEncoder){return(new TextEncoder).encode(e).length.toString()}}return null}buildRequest(e){const{method:t,path:i,query:n,headers:s={}}=e,r=cr(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,o=this.calculateContentLength(r),a=this.buildURL(i,n);"timeout"in e&&Or("timeout",e.timeout);const h=e.timeout??this.timeout,l=e.httpAgent??this.httpAgent??_s(a),d=h+1e3;"number"==typeof l?.options?.timeout&&d>(l.options.timeout??0)&&(l.options.timeout=d),this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);return{req:{method:t,...r&&{body:r},headers:this.buildHeaders({options:e,headers:s,contentLength:o}),...l&&{agent:l},signal:e.signal??null},url:a,timeout:h}}buildHeaders({options:e,headers:t,contentLength:i}){const n={};i&&(n["content-length"]=i);return Qr(n,this.defaultHeaders(e)),Qr(n,t),cr(e.body)&&"node"!==Ms&&delete n["content-type"],this.validateHeaders(n,t),n}async prepareOptions(e){}async prepareRequest(e,{url:t,options:i}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,i,n){return qs.generate(e,t,i,n)}request(e,t=null){return new Ar(this.makeRequest(e,t))}async makeRequest(e,t){const i=await e;null==t&&(t=i.maxRetries??this.maxRetries),await this.prepareOptions(i);const{req:n,url:s,timeout:r}=this.buildRequest(i);if(await this.prepareRequest(n,{url:s,options:i}),Hr("request",s,i,n.headers),i.signal?.aborted)throw new Ws;const o=new AbortController,a=await this.fetchWithTimeout(s,n,r,o).catch(Rr);if(a instanceof Error){if(i.signal?.aborted)throw new Ws;if(t)return this.retryRequest(i,t);if("AbortError"===a.name)throw new Us;throw new Vs({cause:a})}const h=kr(a.headers);if(!a.ok){if(t&&this.shouldRetry(a)){return Hr(`response (error; ${`retrying, ${t} attempts remaining`})`,a.status,s,h),this.retryRequest(i,t,h)}const e=await a.text().catch((e=>Rr(e).message)),n=Mr(e),r=n?void 0:e;Hr(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,a.status,s,h,r);throw this.makeStatusError(a.status,n,r,h)}return{response:a,options:i,controller:o}}requestAPIList(e,t){const i=this.makeRequest(t,null);return new wr(this,i,e)}buildURL(e,t){const i=Lr(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),n=this.defaultQuery();return Fr(n)||(t={...n,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(i.search=this.stringifyQuery(t)),i.toString()}stringifyQuery(e){return Object.entries(e).filter((([e,t])=>void 0!==t)).map((([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new js(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(e,t,i,n){const{signal:s,...r}=t||{};s&&s.addEventListener("abort",(()=>n.abort()));const o=setTimeout((()=>n.abort()),i);return this.getRequestClient().fetch.call(void 0,e,{signal:n.signal,...r}).finally((()=>{clearTimeout(o)}))}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,i){let n;const s=i?.["retry-after-ms"];if(s){const e=parseFloat(s);Number.isNaN(e)||(n=e)}const r=i?.["retry-after"];if(r&&!n){const e=parseFloat(r);n=Number.isNaN(e)?Date.parse(r)-Date.now():1e3*e}if(!(n&&0<=n&&n<6e4)){const i=e.maxRetries??this.maxRetries;n=this.calculateDefaultRetryTimeoutMillis(t,i)}return await Pr(n),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const i=t-e;return Math.min(.5*Math.pow(2,i),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Bs}`}}class br{constructor(e,t,i,n){fr.set(this,void 0),gr(this,fr,e,"f"),this.options=n,this.response=t,this.body=i}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new js("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&"object"==typeof t.query)t.query={...t.query,...e.params};else if("url"in e){const i=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[t,n]of i)e.url.searchParams.set(t,n);t.query=void 0,t.path=e.url.toString()}return await vr(this,fr,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(fr=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class wr extends Ar{constructor(e,t,i){super(t,(async t=>new i(e,t.response,await yr(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}const kr=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const i=t.toString();return e[i.toLowerCase()]||e[i]}}),Cr={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryResponse:!0,__streamClass:!0},Er=e=>"object"==typeof e&&null!==e&&!Fr(e)&&Object.keys(e).every((e=>zr(Cr,e))),Dr=()=>{if("undefined"!=typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bs,"X-Stainless-OS":Ir(Deno.build.os),"X-Stainless-Arch":Nr(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":Deno.version};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bs,"X-Stainless-OS":Ir(process.platform),"X-Stainless-Arch":Nr(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:i}of e){const e=i.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const Nr=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",Ir=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let Sr;const Br=()=>Sr??(Sr=Dr()),Mr=e=>{try{return JSON.parse(e)}catch(e){return}},Tr=new RegExp("^(?:[a-z]+:)?//","i"),Lr=e=>Tr.test(e),Pr=e=>new Promise((t=>setTimeout(t,e))),Or=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new js(`${e} must be an integer`);if(t<0)throw new js(`${e} must be a positive integer`);return t},Rr=e=>e instanceof Error?e:new Error(e),_r=e=>"undefined"!=typeof process?process.env?.[e]?.trim()??void 0:"undefined"!=typeof Deno?Deno.env?.get?.(e)?.trim():void 0;function Fr(e){if(!e)return!0;for(const t in e)return!1;return!0}function zr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qr(e,t){for(const i in t){if(!zr(t,i))continue;const n=i.toLowerCase();if(!n)continue;const s=t[i];null===s?delete e[n]:void 0!==s&&(e[n]=s)}}function Hr(e,...t){"undefined"!=typeof process&&"true"===process.env.DEBUG&&console.log(`OpenAI:DEBUG:${e}`,...t)}const jr=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));function qr(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)}class Wr extends br{constructor(e,t,i,n){super(e,t,i,n),this.data=i.data||[],this.object=i.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Vr extends br{constructor(e,t,i,n){super(e,t,i,n),this.data=i.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){const e=this.getPaginatedItems();if(!e.length)return null;const t=e[e.length-1]?.id;return t?{params:{after:t}}:null}}class Ur{constructor(e){this._client=e}}class Xr extends Ur{create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}}Xr||(Xr={});class Gr extends Ur{constructor(){super(...arguments),this.completions=new Xr(this._client)}}(Gr||(Gr={})).Completions=Xr;class Yr extends Ur{create(e,t){return this._client.post("/audio/speech",{body:e,...t,__binaryResponse:!0})}}Yr||(Yr={});class Kr extends Ur{create(e,t){return this._client.post("/audio/transcriptions",ur({body:e,...t}))}}Kr||(Kr={});class Jr extends Ur{create(e,t){return this._client.post("/audio/translations",ur({body:e,...t}))}}Jr||(Jr={});class Zr extends Ur{constructor(){super(...arguments),this.transcriptions=new Kr(this._client),this.translations=new Jr(this._client),this.speech=new Yr(this._client)}}!function(e){e.Transcriptions=Kr,e.Translations=Jr,e.Speech=Yr}(Zr||(Zr={}));class $r extends Ur{create(e,t,i){return this._client.post(`/assistants/${e}/files`,{body:t,...i,headers:{"OpenAI-Beta":"assistants=v1",...i?.headers}})}retrieve(e,t,i){return this._client.get(`/assistants/${e}/files/${t}`,{...i,headers:{"OpenAI-Beta":"assistants=v1",...i?.headers}})}list(e,t={},i){return Er(t)?this.list(e,{},t):this._client.getAPIList(`/assistants/${e}/files`,eo,{query:t,...i,headers:{"OpenAI-Beta":"assistants=v1",...i?.headers}})}del(e,t,i){return this._client.delete(`/assistants/${e}/files/${t}`,{...i,headers:{"OpenAI-Beta":"assistants=v1",...i?.headers}})}}class eo extends Vr{}($r||($r={})).AssistantFilesPage=eo;class to extends Ur{constructor(){super(...arguments),this.files=new $r(this._client)}create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v1",...t?.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v1",...t?.headers}})}update(e,t,i){return this._client.post(`/assistants/${e}`,{body:t,...i,headers:{"OpenAI-Beta":"assistants=v1",...i?.headers}})}list(e={},t){return Er(e)?this.list({},e):this._client.getAPIList("/assistants",io,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v1",...t?.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v1",...t?.headers}})}}class io extends Vr{}function no(e){return"function"==typeof e.parse}!function(e){e.AssistantsPage=io,e.Files=$r,e.AssistantFilesPage=eo}(to||(to={}));const so=e=>"assistant"===e?.role,ro=e=>"function"===e?.role,oo=e=>"tool"===e?.role;var ao,ho,lo,co,uo,po,mo,fo,go,vo,yo,Ao,xo,bo,wo,ko,Co,Eo,Do,No,Io=function(e,t,i,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,i):s?s.value=i:t.set(e,i),i},So=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};const Bo=10;class Mo{constructor(){ao.add(this),this.controller=new AbortController,ho.set(this,void 0),lo.set(this,(()=>{})),co.set(this,(()=>{})),uo.set(this,void 0),po.set(this,(()=>{})),mo.set(this,(()=>{})),fo.set(this,{}),this._chatCompletions=[],this.messages=[],go.set(this,!1),vo.set(this,!1),yo.set(this,!1),Ao.set(this,!1),Eo.set(this,(e=>{if(Io(this,vo,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new Ws),e instanceof Ws)return Io(this,yo,!0,"f"),this._emit("abort",e);if(e instanceof js)return this._emit("error",e);if(e instanceof Error){const t=new js(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new js(String(e)))})),Io(this,ho,new Promise(((e,t)=>{Io(this,lo,e,"f"),Io(this,co,t,"f")})),"f"),Io(this,uo,new Promise(((e,t)=>{Io(this,po,e,"f"),Io(this,mo,t,"f")})),"f"),So(this,ho,"f").catch((()=>{})),So(this,uo,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),So(this,Eo,"f"))}),0)}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(ro(e)||oo(e))&&e.content)this._emit("functionCallResult",e.content);else if(so(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(so(e)&&e.tool_calls)for(const t of e.tool_calls)"function"===t.type&&this._emit("functionCall",t.function)}_connected(){this.ended||(So(this,lo,"f").call(this),this._emit("connect"))}get ended(){return So(this,go,"f")}get errored(){return So(this,vo,"f")}get aborted(){return So(this,yo,"f")}abort(){this.controller.abort()}on(e,t){return(So(this,fo,"f")[e]||(So(this,fo,"f")[e]=[])).push({listener:t}),this}off(e,t){const i=So(this,fo,"f")[e];if(!i)return this;const n=i.findIndex((e=>e.listener===t));return n>=0&&i.splice(n,1),this}once(e,t){return(So(this,fo,"f")[e]||(So(this,fo,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,i)=>{Io(this,Ao,!0,"f"),"error"!==e&&this.once("error",i),this.once(e,t)}))}async done(){Io(this,Ao,!0,"f"),await So(this,uo,"f")}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new js("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),So(this,ao,"m",xo).call(this)}async finalMessage(){return await this.done(),So(this,ao,"m",bo).call(this)}async finalFunctionCall(){return await this.done(),So(this,ao,"m",wo).call(this)}async finalFunctionCallResult(){return await this.done(),So(this,ao,"m",ko).call(this)}async totalUsage(){return await this.done(),So(this,ao,"m",Co).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emit(e,...t){if(So(this,go,"f"))return;"end"===e&&(Io(this,go,!0,"f"),So(this,po,"f").call(this));const i=So(this,fo,"f")[e];if(i&&(So(this,fo,"f")[e]=i.filter((e=>!e.once)),i.forEach((({listener:e})=>e(...t)))),"abort"===e){const e=t[0];return So(this,Ao,"f")||i?.length||Promise.reject(e),So(this,co,"f").call(this,e),So(this,mo,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];So(this,Ao,"f")||i?.length||Promise.reject(e),So(this,co,"f").call(this,e),So(this,mo,"f").call(this,e),this._emit("end")}}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=So(this,ao,"m",bo).call(this);t&&this._emit("finalMessage",t);const i=So(this,ao,"m",xo).call(this);i&&this._emit("finalContent",i);const n=So(this,ao,"m",wo).call(this);n&&this._emit("finalFunctionCall",n);const s=So(this,ao,"m",ko).call(this);null!=s&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",So(this,ao,"m",Co).call(this))}async _createChatCompletion(e,t,i){const n=i?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),So(this,ao,"m",Do).call(this,t);const s=await e.create({...t,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addChatCompletion(s)}async _runChatCompletion(e,t,i){for(const e of t.messages)this._addMessage(e,!1);return await this._createChatCompletion(e,t,i)}async _runFunctions(e,t,i){const n="function",{function_call:s="auto",stream:r,...o}=t,a="string"!=typeof s&&s?.name,{maxChatCompletions:h=Bo}=i||{},l={};for(const e of t.functions)l[e.name||e.function.name]=e;const d=t.functions.map((e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description})));for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<h;++t){const t=await this._createChatCompletion(e,{...o,function_call:s,functions:d,messages:[...this.messages]},i),r=t.choices[0]?.message;if(!r)throw new js("missing message in ChatCompletion response");if(!r.function_call)return;const{name:h,arguments:c}=r.function_call,u=l[h];if(!u){const e=`Invalid function_call: ${JSON.stringify(h)}. Available options are: ${d.map((e=>JSON.stringify(e.name))).join(", ")}. Please try again`;this._addMessage({role:n,name:h,content:e});continue}if(a&&a!==h){const e=`Invalid function_call: ${JSON.stringify(h)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:n,name:h,content:e});continue}let p;try{p=no(u)?await u.parse(c):c}catch(e){this._addMessage({role:n,name:h,content:e instanceof Error?e.message:String(e)});continue}const m=await u.function(p,this),f=So(this,ao,"m",No).call(this,m);if(this._addMessage({role:n,name:h,content:f}),a)return}}async _runTools(e,t,i){const n="tool",{tool_choice:s="auto",stream:r,...o}=t,a="string"!=typeof s&&s?.function?.name,{maxChatCompletions:h=Bo}=i||{},l={};for(const e of t.tools)"function"===e.type&&(l[e.function.name||e.function.function.name]=e.function);const d="tools"in t?t.tools.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description}}:e)):void 0;for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<h;++t){const t=await this._createChatCompletion(e,{...o,tool_choice:s,tools:d,messages:[...this.messages]},i),r=t.choices[0]?.message;if(!r)throw new js("missing message in ChatCompletion response");if(!r.tool_calls)return;for(const e of r.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:i,arguments:s}=e.function,r=l[i];if(!r){const e=`Invalid tool_call: ${JSON.stringify(i)}. Available options are: ${d.map((e=>JSON.stringify(e.function.name))).join(", ")}. Please try again`;this._addMessage({role:n,tool_call_id:t,content:e});continue}if(a&&a!==i){const e=`Invalid tool_call: ${JSON.stringify(i)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:n,tool_call_id:t,content:e});continue}let o;try{o=no(r)?await r.parse(s):s}catch(e){const i=e instanceof Error?e.message:String(e);this._addMessage({role:n,tool_call_id:t,content:i});continue}const h=await r.function(o,this),c=So(this,ao,"m",No).call(this,h);if(this._addMessage({role:n,tool_call_id:t,content:c}),a)return}}}}ho=new WeakMap,lo=new WeakMap,co=new WeakMap,uo=new WeakMap,po=new WeakMap,mo=new WeakMap,fo=new WeakMap,go=new WeakMap,vo=new WeakMap,yo=new WeakMap,Ao=new WeakMap,Eo=new WeakMap,ao=new WeakSet,xo=function(){return So(this,ao,"m",bo).call(this).content??null},bo=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(so(t))return{...t,content:t.content??null}}throw new js("stream ended without producing a ChatCompletionMessage with role=assistant")},wo=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(so(t)&&t?.function_call)return t.function_call;if(so(t)&&t?.tool_calls?.length)return t.tool_calls.at(-1)?.function}},ko=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(ro(t)&&null!=t.content)return t.content;if(oo(t)&&null!=t.content&&this.messages.some((e=>"assistant"===e.role&&e.tool_calls?.some((e=>"function"===e.type&&e.id===t.tool_call_id)))))return t.content}},Co=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},Do=function(e){if(null!=e.n&&e.n>1)throw new js("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},No=function(e){return"string"==typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class To extends Mo{static runFunctions(e,t,i){const n=new To,s={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run((()=>n._runFunctions(e,t,s))),n}static runTools(e,t,i){const n=new To,s={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run((()=>n._runTools(e,t,s))),n}_addMessage(e){super._addMessage(e),so(e)&&e.content&&this._emit("content",e.content)}}var Lo,Po,Oo,Ro,_o,Fo,zo=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)},Qo=function(e,t,i,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,i):s?s.value=i:t.set(e,i),i};class Ho extends Mo{constructor(){super(...arguments),Lo.add(this),Po.set(this,void 0)}get currentChatCompletionSnapshot(){return zo(this,Po,"f")}static fromReadableStream(e){const t=new Ho;return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,i){const n=new Ho;return n._run((()=>n._runChatCompletion(e,{...t,stream:!0},{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}}))),n}async _createChatCompletion(e,t,i){const n=i?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),zo(this,Lo,"m",Oo).call(this);const s=await e.create({...t,stream:!0},{...i,signal:this.controller.signal});this._connected();for await(const e of s)zo(this,Lo,"m",Ro).call(this,e);if(s.controller.signal?.aborted)throw new Ws;return this._addChatCompletion(zo(this,Lo,"m",_o).call(this))}async _fromReadableStream(e,t){const i=t?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort()))),zo(this,Lo,"m",Oo).call(this),this._connected();const n=tr.fromReadableStream(e,this.controller);let s;for await(const e of n)s&&s!==e.id&&this._addChatCompletion(zo(this,Lo,"m",_o).call(this)),zo(this,Lo,"m",Ro).call(this,e),s=e.id;if(n.controller.signal?.aborted)throw new Ws;return this._addChatCompletion(zo(this,Lo,"m",_o).call(this))}[(Po=new WeakMap,Lo=new WeakSet,Oo=function(){this.ended||Qo(this,Po,void 0,"f")},Ro=function(e){if(this.ended)return;const t=zo(this,Lo,"m",Fo).call(this,e);this._emit("chunk",e,t);const i=e.choices[0]?.delta?.content,n=t.choices[0]?.message;null!=i&&"assistant"===n?.role&&n?.content&&this._emit("content",i,n.content)},_o=function(){if(this.ended)throw new js("stream has ended, this shouldn't happen");const e=zo(this,Po,"f");if(!e)throw new js("request ended without sending any chunks");return Qo(this,Po,void 0,"f"),function(e){const{id:t,choices:i,created:n,model:s,system_fingerprint:r,...o}=e;return{...o,id:t,choices:i.map((({message:t,finish_reason:i,index:n,logprobs:s,...r})=>{if(!i)throw new js(`missing finish_reason for choice ${n}`);const{content:o=null,function_call:a,tool_calls:h,...l}=t,d=t.role;if(!d)throw new js(`missing role for choice ${n}`);if(a){const{arguments:e,name:t}=a;if(null==e)throw new js(`missing function_call.arguments for choice ${n}`);if(!t)throw new js(`missing function_call.name for choice ${n}`);return{...r,message:{content:o,function_call:{arguments:e,name:t},role:d},finish_reason:i,index:n,logprobs:s}}return h?{...r,index:n,finish_reason:i,logprobs:s,message:{...l,role:d,content:o,tool_calls:h.map(((t,i)=>{const{function:s,type:r,id:o,...a}=t,{arguments:h,name:l,...d}=s||{};if(null==o)throw new js(`missing choices[${n}].tool_calls[${i}].id\n${jo(e)}`);if(null==r)throw new js(`missing choices[${n}].tool_calls[${i}].type\n${jo(e)}`);if(null==l)throw new js(`missing choices[${n}].tool_calls[${i}].function.name\n${jo(e)}`);if(null==h)throw new js(`missing choices[${n}].tool_calls[${i}].function.arguments\n${jo(e)}`);return{...a,id:o,type:r,function:{...d,name:l,arguments:h}}}))}}:{...r,message:{...l,content:o,role:d},finish_reason:i,index:n,logprobs:s}})),created:n,model:s,object:"chat.completion",...r?{system_fingerprint:r}:{}}}(e)},Fo=function(e){var t,i,n;let s=zo(this,Po,"f");const{choices:r,...o}=e;s?Object.assign(s,o):s=Qo(this,Po,{...o,choices:[]},"f");for(const{delta:r,finish_reason:o,index:a,logprobs:h=null,...l}of e.choices){let e=s.choices[a];if(e||(e=s.choices[a]={finish_reason:o,index:a,message:{},logprobs:h,...l}),h)if(e.logprobs){const{content:i,...n}=h;Object.assign(e.logprobs,n),i&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...i))}else e.logprobs=Object.assign({},h);if(o&&(e.finish_reason=o),Object.assign(e,l),!r)continue;const{content:d,function_call:c,role:u,tool_calls:p,...m}=r;if(Object.assign(e.message,m),d&&(e.message.content=(e.message.content||"")+d),u&&(e.message.role=u),c&&(e.message.function_call?(c.name&&(e.message.function_call.name=c.name),c.arguments&&((i=e.message.function_call).arguments??(i.arguments=""),e.message.function_call.arguments+=c.arguments)):e.message.function_call=c),p){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:i,type:s,function:r,...o}of p){const a=(n=e.message.tool_calls)[t]??(n[t]={});Object.assign(a,o),i&&(a.id=i),s&&(a.type=s),r&&(a.function??(a.function={arguments:""})),r?.name&&(a.function.name=r.name),r?.arguments&&(a.function.arguments+=r.arguments)}}}return s},Symbol.asyncIterator)](){const e=[],t=[];let i=!1;return this.on("chunk",(i=>{const n=t.shift();n?n.resolve(i):e.push(i)})),this.on("end",(()=>{i=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{i=!0;for(const i of t)i.reject(e);t.length=0})),this.on("error",(e=>{i=!0;for(const i of t)i.reject(e);t.length=0})),{next:async()=>{if(!e.length)return i?{value:void 0,done:!0}:new Promise(((e,i)=>t.push({resolve:e,reject:i}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new tr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function jo(e){return JSON.stringify(e)}class qo extends Ho{static fromReadableStream(e){const t=new qo;return t._run((()=>t._fromReadableStream(e))),t}static runFunctions(e,t,i){const n=new qo,s={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run((()=>n._runFunctions(e,t,s))),n}static runTools(e,t,i){const n=new qo,s={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run((()=>n._runTools(e,t,s))),n}}class Wo extends Ur{runFunctions(e,t){return e.stream?qo.runFunctions(this._client.chat.completions,e,t):To.runFunctions(this._client.chat.completions,e,t)}runTools(e,t){return e.stream?qo.runTools(this._client.chat.completions,e,t):To.runTools(this._client.chat.completions,e,t)}stream(e,t){return Ho.createChatCompletion(this._client.chat.completions,e,t)}}class Vo extends Ur{constructor(){super(...arguments),this.completions=new Wo(this._client)}}!function(e){e.Completions=Wo}(Vo||(Vo={}));var Uo,Xo,Go,Yo,Ko,Jo,Zo,$o,ea,ta,ia,na,sa=function(e,t,i,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,i):s?s.value=i:t.set(e,i),i},ra=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};class oa{constructor(){this.controller=new AbortController,Uo.set(this,void 0),Xo.set(this,(()=>{})),Go.set(this,(()=>{})),Yo.set(this,void 0),Ko.set(this,(()=>{})),Jo.set(this,(()=>{})),Zo.set(this,{}),$o.set(this,!1),ea.set(this,!1),ta.set(this,!1),ia.set(this,!1),na.set(this,(e=>{if(sa(this,ea,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new Ws),e instanceof Ws)return sa(this,ta,!0,"f"),this._emit("abort",e);if(e instanceof js)return this._emit("error",e);if(e instanceof Error){const t=new js(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new js(String(e)))})),sa(this,Uo,new Promise(((e,t)=>{sa(this,Xo,e,"f"),sa(this,Go,t,"f")})),"f"),sa(this,Yo,new Promise(((e,t)=>{sa(this,Ko,e,"f"),sa(this,Jo,t,"f")})),"f"),ra(this,Uo,"f").catch((()=>{})),ra(this,Yo,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emit("end")}),ra(this,na,"f"))}),0)}_addRun(e){return e}_connected(){this.ended||(ra(this,Xo,"f").call(this),this._emit("connect"))}get ended(){return ra(this,$o,"f")}get errored(){return ra(this,ea,"f")}get aborted(){return ra(this,ta,"f")}abort(){this.controller.abort()}on(e,t){return(ra(this,Zo,"f")[e]||(ra(this,Zo,"f")[e]=[])).push({listener:t}),this}off(e,t){const i=ra(this,Zo,"f")[e];if(!i)return this;const n=i.findIndex((e=>e.listener===t));return n>=0&&i.splice(n,1),this}once(e,t){return(ra(this,Zo,"f")[e]||(ra(this,Zo,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,i)=>{sa(this,ia,!0,"f"),"error"!==e&&this.once("error",i),this.once(e,t)}))}async done(){sa(this,ia,!0,"f"),await ra(this,Yo,"f")}_emit(e,...t){if(ra(this,$o,"f"))return;"end"===e&&(sa(this,$o,!0,"f"),ra(this,Ko,"f").call(this));const i=ra(this,Zo,"f")[e];if(i&&(ra(this,Zo,"f")[e]=i.filter((e=>!e.once)),i.forEach((({listener:e})=>e(...t)))),"abort"===e){const e=t[0];return ra(this,ia,"f")||i?.length||Promise.reject(e),ra(this,Go,"f").call(this,e),ra(this,Jo,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];ra(this,ia,"f")||i?.length||Promise.reject(e),ra(this,Go,"f").call(this,e),ra(this,Jo,"f").call(this,e),this._emit("end")}}async _threadAssistantStream(e,t,i){return await this._createThreadAssistantStream(t,e,i)}async _runAssistantStream(e,t,i,n){return await this._createAssistantStream(t,e,i,n)}async _runToolAssistantStream(e,t,i,n,s){return await this._createToolAssistantStream(i,e,t,n,s)}async _createThreadAssistantStream(e,t,i){const n=i?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort())));const s=await e.createAndRun({...t,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addRun(s)}async _createToolAssistantStream(e,t,i,n,s){const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort())));const o=await e.submitToolOutputs(t,i,{...n,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addRun(o)}async _createAssistantStream(e,t,i,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",(()=>this.controller.abort())));const r=await e.create(t,{...i,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addRun(r)}}Uo=new WeakMap,Xo=new WeakMap,Go=new WeakMap,Yo=new WeakMap,Ko=new WeakMap,Jo=new WeakMap,Zo=new WeakMap,$o=new WeakMap,ea=new WeakMap,ta=new WeakMap,ia=new WeakMap,na=new WeakMap;var aa,ha,la,da,ca,ua,pa,ma,fa,ga,va,ya,Aa,xa,ba,wa,ka,Ca,Ea,Da,Na,Ia,Sa,Ba=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)},Ma=function(e,t,i,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,i):s?s.value=i:t.set(e,i),i};class Ta extends oa{constructor(){super(...arguments),aa.add(this),ha.set(this,[]),la.set(this,{}),da.set(this,{}),ca.set(this,void 0),ua.set(this,void 0),pa.set(this,void 0),ma.set(this,void 0),fa.set(this,void 0),ga.set(this,void 0),va.set(this,void 0),ya.set(this,void 0),Aa.set(this,void 0)}[(ha=new WeakMap,la=new WeakMap,da=new WeakMap,ca=new WeakMap,ua=new WeakMap,pa=new WeakMap,ma=new WeakMap,fa=new WeakMap,ga=new WeakMap,va=new WeakMap,ya=new WeakMap,Aa=new WeakMap,aa=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let i=!1;return this.on("event",(i=>{const n=t.shift();n?n.resolve(i):e.push(i)})),this.on("end",(()=>{i=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{i=!0;for(const i of t)i.reject(e);t.length=0})),this.on("error",(e=>{i=!0;for(const i of t)i.reject(e);t.length=0})),{next:async()=>{if(!e.length)return i?{value:void 0,done:!0}:new Promise(((e,i)=>t.push({resolve:e,reject:i}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new tr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,i,n,s){const r=new Ta;return r._run((()=>r._runToolAssistantStream(e,t,i,n,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}async _createToolAssistantStream(e,t,i,n,s){const r=s?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort())));const o={...n,stream:!0},a=await e.submitToolOutputs(t,i,o,{...s,signal:this.controller.signal});this._connected();for await(const e of a)Ba(this,aa,"m",xa).call(this,e);if(a.controller.signal?.aborted)throw new Ws;return this._addRun(Ba(this,aa,"m",ba).call(this))}static createThreadAssistantStream(e,t,i){const n=new Ta;return n._run((()=>n._threadAssistantStream(e,t,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}}))),n}static createAssistantStream(e,t,i,n){const s=new Ta;return s._run((()=>s._runAssistantStream(e,t,i,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),s}currentEvent(){return Ba(this,va,"f")}currentRun(){return Ba(this,ya,"f")}currentMessageSnapshot(){return Ba(this,ca,"f")}currentRunStepSnapshot(){return Ba(this,Aa,"f")}async finalRunSteps(){return await this.done(),Object.values(Ba(this,la,"f"))}async finalMessages(){return await this.done(),Object.values(Ba(this,da,"f"))}async finalRun(){if(await this.done(),!Ba(this,ua,"f"))throw Error("Final run was not received.");return Ba(this,ua,"f")}async _createThreadAssistantStream(e,t,i){const n=i?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort())));const s={...t,stream:!0},r=await e.createAndRun(s,{...i,signal:this.controller.signal});this._connected();for await(const e of r)Ba(this,aa,"m",xa).call(this,e);if(r.controller.signal?.aborted)throw new Ws;return this._addRun(Ba(this,aa,"m",ba).call(this))}async _createAssistantStream(e,t,i,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",(()=>this.controller.abort())));const r={...i,stream:!0},o=await e.create(t,r,{...n,signal:this.controller.signal});this._connected();for await(const e of o)Ba(this,aa,"m",xa).call(this,e);if(o.controller.signal?.aborted)throw new Ws;return this._addRun(Ba(this,aa,"m",ba).call(this))}static accumulateDelta(e,t){for(const[i,n]of Object.entries(t)){if(!e.hasOwnProperty(i)){e[i]=n;continue}let t=e[i];if(null!=t)if("index"!==i&&"type"!==i){if("string"==typeof t&&"string"==typeof n)t+=n;else if("number"==typeof t&&"number"==typeof n)t+=n;else if(qr(t)&&qr(n))t=this.accumulateDelta(t,n);else{if(!Array.isArray(t)||!Array.isArray(n))throw Error(`Unhandled record type: ${i}, deltaValue: ${n}, accValue: ${t}`);if(t.every((e=>"string"==typeof e||"number"==typeof e))){t.push(...n);continue}}e[i]=t}else e[i]=n;else e[i]=n}return e}}xa=function(e){if(!this.ended)switch(Ma(this,va,e,"f"),Ba(this,aa,"m",Ca).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Ba(this,aa,"m",Ia).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ba(this,aa,"m",ka).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Ba(this,aa,"m",wa).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ba=function(){if(this.ended)throw new js("stream has ended, this shouldn't happen");if(!Ba(this,ua,"f"))throw Error("Final run has been been received");return Ba(this,ua,"f")},wa=function(e){const[t,i]=Ba(this,aa,"m",Da).call(this,e,Ba(this,ca,"f"));Ma(this,ca,t,"f"),Ba(this,da,"f")[t.id]=t;for(const e of i){const i=t.content[e.index];"text"==i?.type&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const i of e.data.delta.content){if("text"==i.type&&i.text){let e=i.text,n=t.content[i.index];if(!n||"text"!=n.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,n.text)}if(i.index!=Ba(this,pa,"f")){if(Ba(this,ma,"f"))switch(Ba(this,ma,"f").type){case"text":this._emit("textDone",Ba(this,ma,"f").text,Ba(this,ca,"f"));break;case"image_file":this._emit("imageFileDone",Ba(this,ma,"f").image_file,Ba(this,ca,"f"))}Ma(this,pa,i.index,"f")}Ma(this,ma,t.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==Ba(this,pa,"f")){const t=e.data.content[Ba(this,pa,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,Ba(this,ca,"f"));break;case"text":this._emit("textDone",t.text,Ba(this,ca,"f"))}}Ba(this,ca,"f")&&this._emit("messageDone",e.data),Ma(this,ca,void 0,"f")}},ka=function(e){const t=Ba(this,aa,"m",Ea).call(this,e);switch(Ma(this,Aa,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const i=e.data.delta;if(i.step_details&&"tool_calls"==i.step_details.type&&i.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of i.step_details.tool_calls)e.index==Ba(this,fa,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(Ba(this,ga,"f")&&this._emit("toolCallDone",Ba(this,ga,"f")),Ma(this,fa,e.index,"f"),Ma(this,ga,t.step_details.tool_calls[e.index],"f"),Ba(this,ga,"f")&&this._emit("toolCallCreated",Ba(this,ga,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ma(this,Aa,void 0,"f");"tool_calls"==e.data.step_details.type&&Ba(this,ga,"f")&&(this._emit("toolCallDone",Ba(this,ga,"f")),Ma(this,ga,void 0,"f")),this._emit("runStepDone",e.data,t)}},Ca=function(e){Ba(this,ha,"f").push(e),this._emit("event",e)},Ea=function(e){switch(e.event){case"thread.run.step.created":return Ba(this,la,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=Ba(this,la,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let i=e.data;if(i.delta){const n=Ta.accumulateDelta(t,i.delta);Ba(this,la,"f")[e.data.id]=n}return Ba(this,la,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Ba(this,la,"f")[e.data.id]=e.data}if(Ba(this,la,"f")[e.data.id])return Ba(this,la,"f")[e.data.id];throw new Error("No snapshot available")},Da=function(e,t){let i=[];switch(e.event){case"thread.message.created":return[e.data,i];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let n=e.data;if(n.delta.content)for(const e of n.delta.content)if(e.index in t.content){let i=t.content[e.index];t.content[e.index]=Ba(this,aa,"m",Na).call(this,e,i)}else t.content[e.index]=e,i.push(e);return[t,i];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,i];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Na=function(e,t){return Ta.accumulateDelta(t,e)},Ia=function(e){switch(Ma(this,ya,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Ma(this,ua,e.data,"f"),Ba(this,ga,"f")&&(this._emit("toolCallDone",Ba(this,ga,"f")),Ma(this,ga,void 0,"f"))}};class La extends Ur{retrieve(e,t,i,n){return this._client.get(`/threads/${e}/messages/${t}/files/${i}`,{...n,headers:{"OpenAI-Beta":"assistants=v1",...n?.headers}})}list(e,t,i={},n){return Er(i)?this.list(e,t,{},i):this._client.getAPIList(`/threads/${e}/messages/${t}/files`,Pa,{query:i,...n,headers:{"OpenAI-Beta":"assistants=v1",...n?.headers}})}}class Pa extends Vr{}(La||(La={})).MessageFilesPage=Pa;class Oa extends Ur{constructor(){super(...arguments),this.files=new La(this._client)}create(e,t,i){return this._client.post(`/threads/${e}/messages`,{body:t,...i,headers:{"OpenAI-Beta":"assistants=v1",...i?.headers}})}retrieve(e,t,i){return this._client.get(`/threads/${e}/messages/${t}`,{...i,headers:{"OpenAI-Beta":"assistants=v1",...i?.headers}})}update(e,t,i,n){return this._client.post(`/threads/${e}/messages/${t}`,{body:i,...n,headers:{"OpenAI-Beta":"assistants=v1",...n?.headers}})}list(e,t={},i){return Er(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,Ra,{query:t,...i,headers:{"OpenAI-Beta":"assistants=v1",...i?.headers}})}}class Ra extends Vr{}!function(e){e.MessagesPage=Ra,e.Files=La,e.MessageFilesPage=Pa}(Oa||(Oa={}));class _a extends Ur{retrieve(e,t,i,n){return this._client.get(`/threads/${e}/runs/${t}/steps/${i}`,{...n,headers:{"OpenAI-Beta":"assistants=v1",...n?.headers}})}list(e,t,i={},n){return Er(i)?this.list(e,t,{},i):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,Fa,{query:i,...n,headers:{"OpenAI-Beta":"assistants=v1",...n?.headers}})}}class Fa extends Vr{}!function(e){e.RunStepsPage=Fa}(_a||(_a={}));class za extends Ur{constructor(){super(...arguments),this.steps=new _a(this._client)}create(e,t,i){return this._client.post(`/threads/${e}/runs`,{body:t,...i,headers:{"OpenAI-Beta":"assistants=v1",...i?.headers},stream:t.stream??!1})}retrieve(e,t,i){return this._client.get(`/threads/${e}/runs/${t}`,{...i,headers:{"OpenAI-Beta":"assistants=v1",...i?.headers}})}update(e,t,i,n){return this._client.post(`/threads/${e}/runs/${t}`,{body:i,...n,headers:{"OpenAI-Beta":"assistants=v1",...n?.headers}})}list(e,t={},i){return Er(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,Qa,{query:t,...i,headers:{"OpenAI-Beta":"assistants=v1",...i?.headers}})}cancel(e,t,i){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...i,headers:{"OpenAI-Beta":"assistants=v1",...i?.headers}})}createAndStream(e,t,i){return Ta.createAssistantStream(e,this._client.beta.threads.runs,t,i)}submitToolOutputs(e,t,i,n){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:i,...n,headers:{"OpenAI-Beta":"assistants=v1",...n?.headers},stream:i.stream??!1})}submitToolOutputsStream(e,t,i,n){return Ta.createToolAssistantStream(e,t,this._client.beta.threads.runs,i,n)}}class Qa extends Vr{}!function(e){e.RunsPage=Qa,e.Steps=_a,e.RunStepsPage=Fa}(za||(za={}));class Ha extends Ur{constructor(){super(...arguments),this.runs=new za(this._client),this.messages=new Oa(this._client)}create(e={},t){return Er(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v1",...t?.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v1",...t?.headers}})}update(e,t,i){return this._client.post(`/threads/${e}`,{body:t,...i,headers:{"OpenAI-Beta":"assistants=v1",...i?.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v1",...t?.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v1",...t?.headers},stream:e.stream??!1})}createAndRunStream(e,t){return Ta.createThreadAssistantStream(e,this._client.beta.threads,t)}}!function(e){e.Runs=za,e.RunsPage=Qa,e.Messages=Oa,e.MessagesPage=Ra}(Ha||(Ha={}));class ja extends Ur{constructor(){super(...arguments),this.chat=new Vo(this._client),this.assistants=new to(this._client),this.threads=new Ha(this._client)}}!function(e){e.Chat=Vo,e.Assistants=to,e.AssistantsPage=io,e.Threads=Ha}(ja||(ja={}));class qa extends Ur{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}qa||(qa={});class Wa extends Ur{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}Wa||(Wa={});class Va extends Ur{create(e,t){return this._client.post("/files",ur({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return Er(e)?this.list({},e):this._client.getAPIList("/files",Ua,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t?.headers}})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:i=18e5}={}){const n=new Set(["processed","error","deleted"]),s=Date.now();let r=await this.retrieve(e);for(;!r.status||!n.has(r.status);)if(await Pr(t),r=await this.retrieve(e),Date.now()-s>i)throw new Us({message:`Giving up on waiting for file ${e} to finish processing after ${i} milliseconds.`});return r}}class Ua extends Wr{}!function(e){e.FileObjectsPage=Ua}(Va||(Va={}));class Xa extends Ur{create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return Er(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Ga,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},i){return Er(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Ya,{query:t,...i})}}class Ga extends Vr{}class Ya extends Vr{}!function(e){e.FineTuningJobsPage=Ga,e.FineTuningJobEventsPage=Ya}(Xa||(Xa={}));class Ka extends Ur{constructor(){super(...arguments),this.jobs=new Xa(this._client)}}!function(e){e.Jobs=Xa,e.FineTuningJobsPage=Ga,e.FineTuningJobEventsPage=Ya}(Ka||(Ka={}));class Ja extends Ur{createVariation(e,t){return this._client.post("/images/variations",ur({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",ur({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}Ja||(Ja={});class Za extends Ur{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",$a,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class $a extends Wr{}!function(e){e.ModelsPage=$a}(Za||(Za={}));class eh extends Ur{create(e,t){return this._client.post("/moderations",{body:e,...t})}}eh||(eh={});class th extends xr{constructor({baseURL:e=_r("OPENAI_BASE_URL"),apiKey:t=_r("OPENAI_API_KEY"),organization:i=_r("OPENAI_ORG_ID")??null,...n}={}){if(void 0===t)throw new js("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const s={apiKey:t,organization:i,...n,baseURL:e||"https://api.openai.com/v1"};if(!s.dangerouslyAllowBrowser&&"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator)throw new js("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:s.baseURL,timeout:s.timeout??6e5,httpAgent:s.httpAgent,maxRetries:s.maxRetries,fetch:s.fetch}),this.completions=new qa(this),this.chat=new Gr(this),this.embeddings=new Wa(this),this.files=new Va(this),this.images=new Ja(this),this.audio=new Zr(this),this.moderations=new eh(this),this.models=new Za(this),this.fineTuning=new Ka(this),this.beta=new ja(this),this._options=s,this.apiKey=t,this.organization=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}Sa=th,th.OpenAI=Sa,th.OpenAIError=js,th.APIError=qs,th.APIConnectionError=Vs,th.APIConnectionTimeoutError=Us,th.APIUserAbortError=Ws,th.NotFoundError=Ks,th.ConflictError=Js,th.RateLimitError=$s,th.BadRequestError=Xs,th.AuthenticationError=Gs,th.InternalServerError=er,th.PermissionDeniedError=Ys,th.UnprocessableEntityError=Zs,function(e){e.toFile=hr,e.fileFromPath=Fs,e.Page=Wr,e.CursorPage=Vr,e.Completions=qa,e.Chat=Gr,e.Embeddings=Wa,e.Files=Va,e.FileObjectsPage=Ua,e.Images=Ja,e.Audio=Zr,e.Moderations=eh,e.Models=Za,e.ModelsPage=$a,e.FineTuning=Ka,e.Beta=ja}(th||(th={}));var ih=th;class nh extends e.Plugin{constructor(){super(...arguments),this.mindmapFileModes={},this._loaded=!1,this.timeOut=null,this.colors=[],this.statusBarItemEl=null,this.window=null}onload(){return t(this,void 0,void 0,(function*(){yield this.loadSettings();const i=this.addStatusBarItem();this.statusBarItemEl=i;for(var n=0;n<150;n++)this.colors.push(Ee());this.app.workspace.onLayoutReady((()=>this.buildHead())),this.registerEvent(this.app.workspace.on("css-change",(()=>{this.buildHead()}))),this.appKeyup=this.appKeyup.bind(this),this.appKeydown=this.appKeydown.bind(this),this.addCommand({id:"Create New MindMap",name:`${r("Create new mindmap")}`,callback:()=>{var e;if(this.app.workspace.activeLeaf){const t=this.app.fileManager.getNewFileParent((null===(e=this.app.workspace.getActiveFile())||void 0===e?void 0:e.path)||"");t&&this.newMindMap(t)}}}),this.addCommand({id:"Create New outline",name:`${r("Create new outline")}`,callback:()=>{var e;if(this.app.workspace.activeLeaf){const t=this.app.fileManager.getNewFileParent((null===(e=this.app.workspace.getActiveFile())||void 0===e?void 0:e.path)||"");t&&this.newOutline(t)}}}),this.addCommand({id:"Generate mind maps by chatGTP",name:`${r("Generate mind maps by chatGTP")}`,mobileOnly:!1,callback:()=>t(this,void 0,void 0,(function*(){if(!this.settings.chatGTPKey)return;const t=this.app.workspace.getActiveViewOfType(Is);if(null!=t){var i=t.mindmap;if(i){var n=i.selectNode||i.root;if("callout"==n.nodeType||"relateLink"==n.nodeType)return;if(n){var s=n.getData().text,o=e.moment.locale();if(s){if("zh-cn"==o)var a=`请使用中文，以"${s}"为主题返回格式化为 OPML 2.0 大纲示例`;else a=`Please use english, provide me with an hierarchical outline example in XML based OPML 2.0 format on the topic of "${s}"`;new e.Notice(r("ChatGTPLoading"));const t=new ih({apiKey:this.settings.chatGTPKey,dangerouslyAllowBrowser:!0});try{var h=(yield t.chat.completions.create({messages:[{role:"user",content:a}],model:this.settings.chatGTPModel||"gpt-3.5-turbo"})).choices[0];if(h&&h.message&&h.message.content){var l=Ri(h.message.content);if(!l.length)return;l.forEach((e=>{i.build_with_json(n,e)})),i.refresh(),setTimeout((()=>{var e;null===(e=i.view)||void 0===e||e.mindMapChange()}),200)}else new e.Notice(r("ChatGTPError"))}catch(t){new e.Notice(r("ChatGTPError"))}}}}}}))}),this.addCommand({id:"Generate mind maps by Q&A of chatGTP ",name:`${r("Generate mind maps by Q&A of chatGTP")}`,mobileOnly:!1,callback:()=>t(this,void 0,void 0,(function*(){if(!this.settings.chatGTPKey)return;const t=this.app.workspace.getActiveViewOfType(Is);if(null!=t){var i=t.mindmap;if(i){var n=i.selectNode||i.root;if("callout"==n.nodeType||"relateLink"==n.nodeType||"wireFrame"==n.nodeType)return;if(n){var s=n.getData().text,o=e.moment.locale();if(s){if("zh-cn"==o)var a=`请使用中文，以"${s}"为主题返回格式化为 markdown 格式的文本`;else a=`Please use english, provide me with an answer in markdown format on the topic of "${s}"`;new e.Notice(r("ChatGTPLoading"));const t=new ih({apiKey:this.settings.chatGTPKey,dangerouslyAllowBrowser:!0});try{var h=(yield t.chat.completions.create({messages:[{role:"user",content:a}],model:this.settings.chatGTPModel||"gpt-3.5-turbo"})).choices[0];if(h&&h.message&&h.message.content){var l=function(e){var t=(e=e.trim()).split("\n"),i=[];return t.length&&t.forEach((e=>{if(e.trim()){var t={id:bs(),text:e.trim()};i.push(t)}})),i}(h.message.content);if(!l.length)return;l.forEach((e=>{i.build_with_json(n,e)})),i.refresh(),setTimeout((()=>{var e;null===(e=i.view)||void 0===e||e.mindMapChange()}),200)}else new e.Notice(r("ChatGTPError"))}catch(t){new e.Notice(r("ChatGTPError"))}}}}}}))}),this.addCommand({id:"Toggle to markdown or mindmap",name:`${r("Toggle mardkown/mindmap")}`,mobileOnly:!1,callback:()=>{const t=this.app.workspace.getActiveViewOfType(Is),i=this.app.workspace.getActiveViewOfType(e.MarkdownView);null!=t?(this.mindmapFileModes[t.leaf.id||t.file.path]="markdown",this.setMarkdownView(t.leaf)):null!=i&&(this.mindmapFileModes[i.leaf.id||i.file.path]=Ds,this.setMindMapView(i.leaf))}}),this.addCommand({id:"Change basic to table mode",name:`${r("Change basic to table mode")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap;if(t&&"basic"==e._mode){e.forceMindMapMode=!1,e.isShowOutline=!1,e.isShowTable=!0;var i=t.getMarkdown(),n=e.mdToData(i);e.showTable(n)}}}}),this.addCommand({id:"Change basic to outline mode",name:`${r("Change basic to outline mode")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap;t&&"basic"==e._mode&&(t.clear(),e.mindmapContainer.innerHTML="",t=null,e.forceMindMapMode=!1,e.showOutline())}}}),this.addCommand({id:"Copy Node",name:`${r("Copy node")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap;navigator.clipboard.writeText("");var i=t.selectNode;if(i){var n=t.copyNode(i);navigator.clipboard.writeText(n)}}}}),this.addCommand({id:"Paste Node",name:`${r("Paste node")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap;navigator.clipboard.readText().then((e=>{t.pasteNode(e)}))}}}),this.addCommand({id:"Cover Node",name:`${r("Cover node")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap;if(t){var i=t.getSelectNodes();i&&i.length&&t.execute("setTextCover",{nodes:i,flag:!0})}}}}),this.addCommand({id:"Cancel Cover Node",name:`${r("Cancel cover node")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap;if(t){var i=t.getSelectNodes();i&&i.length&&t.execute("setTextCover",{nodes:i,flag:!1})}}}}),this.addCommand({id:"Toggle search box",name:`${r("Toggle search box")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap;t&&(t._searchDom?t.closeSearch():t.createSearchDom())}}}),this.addCommand({id:"Change layout to mindmap",name:`${r("Change layout to mindmap")}`,callback:()=>{let e=this.app.workspace.activeLeaf;if(e.view.getViewType()==Ds&&e.view.mindmap){var t=e.view.mindmap.selectNode;t&&"rich"==t.mindmap._mode&&e.view.mindmap.execute("changeLayout",{node:t,direct:"mindmap"})}}}),this.addCommand({id:"Change layout to right",name:`${r("Change layout to right")}`,callback:()=>{let e=this.app.workspace.activeLeaf;if(e.view.getViewType()==Ds&&e.view.mindmap){var t=e.view.mindmap.selectNode;t&&"rich"==t.mindmap._mode&&e.view.mindmap.execute("changeLayout",{node:t,direct:"right"})}}}),this.addCommand({id:"Change layout to left",name:`${r("Change layout to left")}`,callback:()=>{let e=this.app.workspace.activeLeaf;if(e.view.getViewType()==Ds&&e.view.mindmap){var t=e.view.mindmap.selectNode;t&&"rich"==t.mindmap._mode&&e.view.mindmap.execute("changeLayout",{node:t,direct:"left"})}}}),this.addCommand({id:"Change layout to tree",name:`${r("Change layout to tree")}`,callback:()=>{let e=this.app.workspace.activeLeaf;if(e.view.getViewType()==Ds&&e.view.mindmap){var t=e.view.mindmap.selectNode;t&&"rich"==t.mindmap._mode&&e.view.mindmap.execute("changeLayout",{node:t,direct:"down"})}}}),this.addCommand({id:"Change layout to fishRight",name:`${r("Change layout to fishRight")}`,callback:()=>{let e=this.app.workspace.activeLeaf;if(e.view.getViewType()==Ds&&e.view.mindmap){var t=e.view.mindmap.selectNode;t&&"rich"==t.mindmap._mode&&e.view.mindmap.execute("changeLayout",{node:t,direct:"fishRight"})}}}),this.addCommand({id:"Change layout to fishLeft",name:`${r("Change layout to fishLeft")}`,callback:()=>{let e=this.app.workspace.activeLeaf;if(e.view.getViewType()==Ds&&e.view.mindmap){var t=e.view.mindmap.selectNode;t&&"rich"==t.mindmap._mode&&e.view.mindmap.execute("changeLayout",{node:t,direct:"fishLeft"})}}}),this.addCommand({id:"Get vault path",name:`${r("Get path of vault")}`,mobileOnly:!1,callback:()=>{var t=this.app.vault.adapter.basePath;new e.Notice(t),navigator.clipboard.writeText(""),navigator.clipboard.writeText(t)}}),this.addCommand({id:"Set pdf js plugin folder path",name:`${r("Set pdf js path")}`,mobileOnly:!1,callback:()=>{var t=this.app.vault.getMarkdownFiles();if(t.length){var i=t[0],n=this.app.vault.getResourcePath(i);n=decodeURIComponent(n);var s=(n=e.normalizePath(n)).split("?")[0];if(s&&s.length){var o=s.lastIndexOf(i.path);if(o>-1){if(s=s.substring(0,o),e.Platform.isDesktop)var a="app:/local/";else a="_capacitor_file_";var h=s.indexOf(a);s=s.substring(h+a.length),e.Platform.isAndroidApp?this.settings.pdfjsAndriodPath=s+"andriod/pdfjs":e.Platform.isIosApp?this.settings.pdfjsIosPath=s+"ios/pdfjs":e.Platform.isDesktop&&(e.Platform.isMacOS?this.settings.pdfjsMacPath=s+".obsidian/pdfjs":this.settings.pdfjsPath=s+".obsidian/pdfjs"),this.saveData(this.settings),new e.Notice(r("Set up pdf js path success"))}}else new e.Notice("Please create a md file,then try it again")}}}),this.addCommand({id:"Change basic mode to rich mode",name:`${r("Change basic mode to rich mode")}`,mobileOnly:!1,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);e&&e.basicToRich()}}),this.addCommand({id:"Change rich mode to basic mode",name:`${r("Change rich mode to basic mode")}`,mobileOnly:!1,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);e&&e.richToBasic()}}),this.addCommand({id:"Export to html",name:`${r("Export to html")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);e&&e.exportToPng()}}),this.addCommand({id:"Export mindmap to pdf",name:`${r("Export to pdf")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);e&&e.mindmap&&e.exportToPdf()}}),this.addCommand({id:"Export mindmap to pdf (old version)",name:`${r("Export to pdf (old version)")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);e&&e.mindmap&&e.exportToPdf(!0)}}),this.addCommand({id:"Export mindmap to xmind zen",name:`${r("Export to xmind zen")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);e&&e.mindmap&&e.exportXmind()}}),this.addCommand({id:"Use new version of pdfjs",name:`${r("Use new version of pdfjs")}`,mobileOnly:!1,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);e&&e._haveOpenPdf&&e.setPdfjsVersion(!0)}}),this.addCommand({id:"Use old version of pdfjs",name:`${r("Use old version of pdfjs")}`,mobileOnly:!1,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);e&&e._haveOpenPdf&&e.setPdfjsVersion(!1)}}),this.addCommand({id:"Expand to node level 1",name:`${r("Expand to first node level")}`,mobileOnly:!1,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap,i=t.selectNode||t.root;if(i){if("basic"==t._mode)var n=i;else n=t.getRootByNode(i);n&&(t.traverseBF((e=>{e.getLevel()>0?e.isExpand&&!e.isHide&&(e.collapse(),e.clearCacheData()):e.isExpand||(e.expand(),e.clearCacheData())}),n),t.refresh(),e.mindMapChange())}}}}),this.addCommand({id:"Expand to node level 2",name:`${r("Expand to second node level")}`,mobileOnly:!1,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap,i=t.selectNode||t.root;if(i){if("basic"==t._mode)var n=i;else n=t.getRootByNode(i);n&&(t.traverseBF((e=>{e.getLevel()>1?e.isExpand&&!e.isHide&&(e.collapse(),e.clearCacheData()):e.isExpand||(e.expand(),e.clearCacheData())}),n),t.refresh(),e.mindMapChange())}}}}),this.addCommand({id:"Expand to node level 3",name:`${r("Expand to third node level")}`,mobileOnly:!1,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap,i=t.selectNode||t.root;if(i){if("basic"==t._mode)var n=i;else n=t.getRootByNode(i);n&&(t.traverseBF((e=>{e.getLevel()>2?e.isExpand&&!e.isHide&&(e.collapse(),e.clearCacheData()):e.isExpand||(e.expand(),e.clearCacheData())}),n),t.refresh(),e.mindMapChange())}}}}),this.addCommand({id:"Expand to node level 4",name:`${r("Expand to fourth node level")}`,mobileOnly:!1,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap,i=t.selectNode||t.root;if(i){if("basic"==t._mode)var n=i;else n=t.getRootByNode(i);n&&(t.traverseBF((e=>{e.getLevel()>3?e.isExpand&&!e.isHide&&(e.collapse(),e.clearCacheData()):e.isExpand||(e.expand(),e.clearCacheData())}),n),t.refresh(),e.mindMapChange())}}}}),this.addCommand({id:"Expand to node level 5",name:`${r("Expand to fifth node level")}`,mobileOnly:!1,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap,i=t.selectNode||t.root;if(i){if("basic"==t._mode)var n=i;else n=t.getRootByNode(i);n&&(t.traverseBF((e=>{e.getLevel()>4?e.isExpand&&!e.isHide&&(e.collapse(),e.clearCacheData()):e.isExpand||(e.expand(),e.clearCacheData())}),n),t.refresh(),e.mindMapChange())}}}}),this.addCommand({id:"Expand to node level all",name:`${r("Expand to all node level")}`,mobileOnly:!1,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap,i=t.selectNode||t.root;if(i){if("basic"==t._mode)var n=i;else n=t.getRootByNode(i);n&&t.traverseBF((e=>{e.expand(),e.clearCacheData()}),n),t.refresh(),e.mindMapChange()}}}}),this.addCommand({id:"Theme change",name:`${r("Change theme")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);e&&e.mindmap._createThemeSelectDom()}}),this.addCommand({id:"Close theme change",name:`${r("Close change theme")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);e&&e.mindmap._closeThemeSelectDom()}}),this.addCommand({id:"Copy node link",name:`${r("Copy node link")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap;if(t){var i=t.selectNode;if(i){const{text:s,id:r}=i.getData();var n=`${s} [🔖](obsidian://jump-to-pdf?md=${encodeURIComponent(t.path)}&node=${encodeURIComponent(r)})`;e.win.navigator.clipboard.writeText(""),e.win.navigator.clipboard.writeText(n)}}}}}),this.addCommand({id:"Add child node",name:`${r("Add child node")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap,i=t.selectNode;i&&(i.isExpand||i.expand(),t.execute("addChildNode",{parent:i}),t._hideMenu())}}}),this.addCommand({id:"Add brother node",name:`${r("Add brother node")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap,i=t.selectNode;if(i){if(i.isExpand||i.expand(),!i.parent)return;t.execute("addSiblingNode",{parent:i.parent}),t._hideMenu()}}}}),this.addCommand({id:"Edit node",name:`${r("Edit node")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap.selectNode;t&&(t.isEdit||t.edit())}}}),this.addCommand({id:"Cancel edit node",name:`${r("Cancel edit node")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap.selectNode;t&&t.isEdit&&t.cancelEdit()}}}),this.addCommand({id:"Delete node",name:`${r("Delete node")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);if(e){var t=e.mindmap,i=t.selectNode;i&&(t.execute("deleteNodeAndChild",{node:i}),t._hideMenu())}}}),this.addCommand({id:"Undo",name:`${r("Undo")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);e&&e.mindmap.undo()}}),this.addCommand({id:"Redo",name:`${r("Redo")}`,callback:()=>{const e=this.app.workspace.getActiveViewOfType(Is);e&&e.mindmap.redo()}}),this.registerView(Ds,(e=>new Is(e,this))),this.registerEvents(),this.addMarkdownPostProcessor(),this.registerMonkeyAround(),this.addSettingTab(new Ss(this.app,this)),this.settings.openCodeBlock&&(this.registerMarkdownCodeBlockProcessor("mindmap",this.codeBlockProcessor.bind(this)),this.registerMarkdownCodeBlockProcessor("markmind",this.markmindBlockProcessor.bind(this))),this.settings.openProtocol&&this.settings.openProtocol>0&&this.settings.protocol&&this.registerObsidianProtocol()}))}buildHead(){this.head=createEl("head"),this.head.createEl("meta",{attr:{charset:"utf-8"}}),this.head.createEl("meta",{attr:{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"}}),this.head.createEl("link",{href:"app://obsidian.md/app.css",type:"text/css",attr:{rel:"stylesheet"}}),this.head.createEl("script",{attr:{src:"app://obsidian.md/app.js"}});for(const e of this.app.customCss.enabledSnippets)this.head.createEl("link",{href:this.app.vault.adapter.getResourcePath(`${this.app.customCss.getSnippetsFolder()}/${e}.css`),type:"text/css",attr:{rel:"stylesheet"}});for(const e of Object.keys(this.app.plugins.plugins))this.app.plugins.plugins[e]._loaded&&(this.head.createEl("link",{href:this.app.vault.adapter.getResourcePath(`${this.app.plugins.getPluginFolder()}/${e}/styles.css`),type:"text/css",attr:{rel:"stylesheet"}}),"obsidian-markmind"==e&&this.head.createEl("script",{attr:{src:this.app.vault.adapter.getResourcePath(`${this.app.plugins.getPluginFolder()}/${e}/main.js`)}}));return this.head}get theme(){return this.app.vault.adapter.getResourcePath(`${this.app.customCss.getThemeFolder()}/${this.app.customCss.theme}.css`)}get mode(){var e,t;return"obsidian"==(null!==(t=null===(e=this.app.vault.config)||void 0===e?void 0:e.theme)&&void 0!==t?t:"obsidian")?"theme-dark":"theme-light"}loadFile(i,n){return t(this,void 0,void 0,(function*(){if(!(this.app.vault.adapter instanceof e.FileSystemAdapter))return;let t;"md"==i.extension&&(t=yield this.loadNote(i,n),this.window||(this.window=new remote.BrowserWindow({webPreferences:{nodeIntegration:!0,webSecurity:!1,contextIsolation:!1}}),this.window.menuBarVisible=!1,this.window.on("close",(()=>{this.openFile=null,this.window=null}))),this.window.setTitle(i.name),yield this.window.loadURL(t),this.window.moveTop())}))}loadNote(e,i){return t(this,void 0,void 0,(function*(){this.openFile=e.path;const t=createEl("html");return this.head.createEl("script",{attr:{id:"mindmapData","data-json":i}}),t.append(this.head),t.createEl("body",{cls:this.mode}).createDiv("app-container").createDiv("horizontal-main-container").createDiv("workspace").createDiv("workspace-split mod-vertical mod-root").createDiv("workspace-leaf mod-active").createDiv("workspace-leaf-content").createDiv("view-content").createDiv("print-to-pdf"),yield this.app.vault.adapter.write(`${this.app.plugins.getPluginFolder()}/file.html`,t.outerHTML),t.detach(),this.app.vault.adapter.getResourcePath(`${this.app.plugins.getPluginFolder()}/file.html`)}))}markmindBlockProcessor(i,n,s){return t(this,void 0,void 0,(function*(){try{var t=JSON.parse(i.trim());if(t.path){const i=e.parseLinktext(t.path);if(!i)return;const a=i.subpath.startsWith("#^")?i.subpath.substr(2):null,h=this.app.metadataCache.getFirstLinkpathDest(i.path,s.sourcePath);if(h&&"md"==h.extension){var r=this.app.metadataCache.getFileCache(h);if(this.isMindmap(r)&&this.isMindmapRichMode(r))u(this.app,h,n,null,this.colors,this.settings,(e=>{if(e&&a){var t=e.getNodeById(a);t&&(e.clearSelectNode(),e.showNode(t))}}));else{var o=r&&r.frontmatter;if(o)!!o["display-mode"]&&o["display-mode"];c(this.app,h,n,null,this.colors,this.settings,(e=>{if(e&&a){var t=e.getNodeById(a);t&&(e.clearSelectNode(),e.showNode(t))}}),!1)}}}}catch(e){var a=document.createElement("pre");a.innerText=i,n.appendChild(a)}}))}codeBlockProcessor(e,i,n){return t(this,void 0,void 0,(function*(){try{var t=e.trim();if(!t)throw Error("empty text");const{root:o}=Es.transform(t),a=Cs(o);a.isRoot=!0,a.useScale=!1;var s=document.createElement("div");s.classList.add("mm-mindmap-container"),s.style.visibility="hidden",i.appendChild(s);var r=new Vi(a,s,this.settings,!1);r.path=n.sourcePath,r._mode="basic",r.colors=this.colors,r.init(),setTimeout((()=>{r.refresh(),r.center(),s.style.visibility="visible"}),1200)}catch(t){var o=document.createElement("pre");o.innerText=e,i.appendChild(o)}}))}_openPDFAnnotation(i){return t(this,void 0,void 0,(function*(){const t=this.app.workspace.getLeavesOfType(Ds);if(t.length){var n=null;if(t.forEach((e=>{e.view&&e.view._haveOpenPdf&&(n=e.view)})),n)yield n.showAnnotate(i.annotate,i.pdf);else{if(i.pdf.startsWith("file://"))var s=i.pdf;else if(i.pdf.startsWith("http"))s=i.pdf;else s=e.normalizePath(i.pdf);yield this.openPDfView(s,i.annotate)}}else{if(i.pdf.startsWith("file://"))s=i.pdf;else if(i.pdf.startsWith("http"))s=i.pdf;else s=e.normalizePath(i.pdf);yield this.openPDfView(s,i.annotate)}}))}registerObsidianProtocol(){this.registerObsidianProtocolHandler(`${this.settings.protocol}`,(i=>t(this,void 0,void 0,(function*(){var t,n;const s=i;for(const e in s)s[e]=decodeURIComponent(s[e]);if(s.id&&s.annotate){var o=this.getAnnoateById(s.id);if(o){var a=null===(t=this.app.metadataCache.getFileCache(o))||void 0===t?void 0:t.frontmatter;if(a&&a["annotate-target"])return s.pdf=a["annotate-target"],void(yield this._openPDFAnnotation(s))}else new e.Notice(r("Not find md file"))}if(s.pdf&&s.annotate)yield this._openPDFAnnotation(s);else if(s.pdf)s.pdf.endsWith(".pdf")&&this.app.workspace.openLinkText(s.pdf,"");else if(s.md&&s.node){var h=decodeURIComponent(s.md),l=decodeURIComponent(s.node);Object.assign(window,{"show-mindmap-node":l});const e=this.app.workspace.getLeavesOfType(Ds);if(e.length){var d=null;if(e.forEach((e=>{e.view&&e.view.file&&e.view.file.path==h&&(d=e.view)})),d)if(d.mindmap){var c=d.mindmap.getNodeById(l);d.mindmap.showNode(c),Object.assign(window,{"show-mindmap-node":""})}else d.app.workspace.openLinkText(h,(null===(n=d.file)||void 0===n?void 0:n.path)||"",!0);else(d=e[0].view).app.workspace.openLinkText(h,"",!0)}else this.app.workspace.openLinkText(h,"",!0)}else s.md&&this.app.workspace.openLinkText(decodeURIComponent(s.md),"",!0)}))))}getAnnoateById(e){var t,i=null,n=this.app.vault.getMarkdownFiles();for(let r of n){var s=null===(t=this.app.metadataCache.getFileCache(r))||void 0===t?void 0:t.frontmatter;if(s&&s.id&&s.id==e){i=r;break}}return i}getAnnoate(e){var i;return t(this,void 0,void 0,(function*(){var t=null,n=this.app.vault.getMarkdownFiles(),s=encodeURI(e),r=encodeURIComponent(e);for(let a of n){var o=null===(i=this.app.metadataCache.getFileCache(a))||void 0===i?void 0:i.frontmatter;if(o&&o["annotate-target"]&&(o["annotate-target"]==e||o["annotate-target"]==s||o["annotate-target"]==r)){t=a;break}}return t}))}openPDfView(e,i){return t(this,void 0,void 0,(function*(){var t=e.substr(0,e.length-4)+"-annotate.md",n=yield this.getAnnoate(e);if(Object.assign(window,{waitPdfId:i||""}),n)yield this.app.workspace.openLinkText(n.path,"","split");else{var s=`---\nid: ${bs()}\nannotate-target: ${e}\n---\n`;Object.assign(window,{waitPdfId:""}),yield this.app.vault.adapter.write(t,s),setTimeout((()=>{this.app.workspace.openLinkText(t,"","split")}),200)}}))}openMindmapView(e,i){return t(this,void 0,void 0,(function*(){Object.assign(window,{onlyPdf:!0}),e?(yield this.app.workspace.openLinkText(e.basename,"","split"),yield this.setCursor(i)):(yield this.newMindMap(),yield this.setCursor(i))}))}setCursor(e){return t(this,void 0,void 0,(function*(){const t=this.app.workspace.getActiveViewOfType(Is);t&&setTimeout((()=>{t.onlyPdf=!0,t.setOnlyPdf(),t.showAnnotate(e.annotate,e.pdf)}),800)}))}_getMindmapMd(){var e,t=null,i=this.app.vault.getMarkdownFiles();for(let s of i)if("md"==s.extension){var n=null===(e=this.app.metadataCache.getFileCache(s))||void 0===e?void 0:e.frontmatter;n&&n[a]&&(t=s)}return t}onunload(){this.window&&this.window.close(),this.app.workspace.detachLeavesOfType(Ds)}newOutline(e){var i;return t(this,void 0,void 0,(function*(){const n=e||this.app.fileManager.getNewFileParent((null===(i=this.app.workspace.getActiveFile())||void 0===i?void 0:i.path)||"");try{const e=yield this.app.fileManager.createNewMarkdownFile(n,`${r("Untitled mindmap")}`);yield this.app.vault.modify(e,d);var s={type:Ds,state:{file:e.path}};setTimeout((()=>t(this,void 0,void 0,(function*(){yield this.app.workspace.getLeaf().setViewState(s)}))),100)}catch(e){console.error("Error creating outline board:",e)}}))}newMindMap(e){var i;return t(this,void 0,void 0,(function*(){const n=e||this.app.fileManager.getNewFileParent((null===(i=this.app.workspace.getActiveFile())||void 0===i?void 0:i.path)||"");try{const e=yield this.app.fileManager.createNewMarkdownFile(n,`${r("Untitled mindmap")}`);"basic"==this.settings.mindmapmode?yield this.app.vault.modify(e,h):yield this.app.vault.modify(e,l);var s={type:Ds,state:{file:e.path}};setTimeout((()=>t(this,void 0,void 0,(function*(){yield this.app.workspace.getLeaf().setViewState(s)}))),100)}catch(e){console.error("Error creating mindmap board:",e)}}))}loadSettings(){return t(this,void 0,void 0,(function*(){this.settings=Object.assign({canvasSize:8e3,headLevel:2,fontSize:16,background:"transparent",layout:"mindmap",layoutDirect:"mindmap",protocol:"jump-to-pdf",registerPdfEvent:!0,viewerTheme:2,mindmapmode:"basic",parseMindMap:!0,annotateTop:0,annotateBottom:0,useCustomShortcut:!1,highlightFormat:'\nPage:{{page}}\n<span style="color:rgb({{color}})">■</span>:{{highlightText}}\nComment:{{comment}}\n[📌]({{link}})\n^{{id}}\n'},yield this.loadData()),this.settings.pdfjsPath&&(e.Platform.isDesktopApp?Object.assign(window,{pdf_plugin_path:this.settings.pdfjsPath}):e.Platform.isAndroidApp?Object.assign(window,{pdf_plugin_path:this.settings.pdfjsAndriodPath||this.settings.pdfjsPath}):e.Platform.isIosApp&&Object.assign(window,{pdf_plugin_path:this.settings.pdfjsIosPath||this.settings.pdfjsPath}))}))}saveSettings(){return t(this,void 0,void 0,(function*(){yield this.saveData(this.settings)}))}setMarkdownView(e){return t(this,void 0,void 0,(function*(){yield e.setViewState({type:"markdown",state:e.view.getState(),popstate:!0},{focus:!0})}))}setMindMapView(e){return t(this,void 0,void 0,(function*(){yield e.setViewState({type:Ds,state:e.view.getState(),popstate:!0})}))}registerEvents(){this.registerEvent(this.app.workspace.on("file-menu",((t,i,n,s)=>{if(i instanceof e.TFolder)t.addItem((e=>{e.setTitle(`${r("New mindmap board")}`).setIcon("document").onClick((()=>this.newMindMap(i)))}));else if(s&&"markdown"==this.mindmapFileModes[s.id||i.path]){const e=this.app.metadataCache.getFileCache(i);if((null==e?void 0:e.frontmatter)&&e.frontmatter["annotate-target"]){var o=e.frontmatter["annotate-target"];o=o.toLowerCase();var h="";h=o.endsWith(".epub")?`${r("Annotate EPUB")}`:`${r("Annotate PDF")}`,t.addItem((e=>{e.setTitle(h).setIcon("document").onClick((()=>{this.mindmapFileModes[s.id||i.path]=Ds,this.setMindMapView(s)}))})).addSeparator()}(null==e?void 0:e.frontmatter)&&e.frontmatter[a]&&t.addItem((e=>{e.setTitle(`${r("Open as mindmap board")}`).setIcon("document").onClick((()=>{this.mindmapFileModes[s.id||i.path]=Ds,this.setMindMapView(s)}))})).addSeparator()}}))),this.registerEvent(this.app.metadataCache.on("changed",(e=>{this.app.workspace.getLeavesOfType(Ds).forEach((t=>{const i=t.view;i instanceof Is&&i.onFileMetadataChange(e)}))}))),this.registerEvent(this.app.vault.on("rename",((e,t)=>{this.app.workspace.getLeavesOfType(Ds).forEach((i=>{const n=i.view;n instanceof Is&&n.onFileRename(e,t)}))}))),this.registerDomEvent(document,"keyup",this.appKeyup),this.registerDomEvent(document,"keydown",this.appKeydown)}appKeyup(e){var t;const i=this.app.workspace.getActiveViewOfType(Is);if(i){var n=i.mindmap;if(n){var s=e.keyCode||e.which||e.charCode,r=e.ctrlKey||e.metaKey,o=e.shiftKey;if(!n.useHoverEdit){if(!r&&!o){if((46==s||"Delete"==e.key||"Backspace"==e.key)&&!n.useCustomShortcut){if(n.isEditNote)return;if(n._changeAssistItem){if("induce"==n._changeAssistItem.name){if(n.editNode)return;n.execute("deleteInduce",{summary:n._changeAssistItem})}else"wireFrame"==n._changeAssistItem.name?n.execute("deleteWireFrame",{wireFrame:n._changeAssistItem}):n.execute("deleteRelateLink",{link:n._changeAssistItem});return void(n._changeAssistItem=null)}var a=n.getSelectNodes();if(a.length>1)return e.preventDefault(),e.stopPropagation(),a[0].mindmap.execute("deleteNodes",{nodes:a}),void(n._menuDom.style.display="none");(h=n.selectNode)&&!h.isEdit&&(e.preventDefault(),e.stopPropagation(),h.mindmap.execute("deleteNodeAndChild",{node:h}),n._menuDom.style.display="none")}if("Escape"==e.key&&!n.useCustomShortcut){if(n.isEditNote)return;return void((h=n.selectNode)&&h.isEdit&&(h.cancelEdit(),h.select(),h.mindmap.editNode=null))}if((9==s||45==s||"Tab"==e.key)&&!n.useCustomShortcut){if(e.preventDefault(),e.stopPropagation(),n.isEditNote)return;return void((h=n.selectNode)&&!h.isEdit?(h.isExpand||h.expand(),h.mindmap.execute("addChildNode",{parent:h}),n._menuDom.style.display="none",n._nodeBoard.style.display="none"):h&&h.isEdit&&(h.cancelEdit(),h.select(),h.mindmap.editNode=null))}if(38==s||"ArrowUp"==e.key){var h=n.selectNode;if(n.isEditNote)return;if(n.showFilter){if(e.preventDefault(),d=n._linkboard.querySelector(".mm-file-name.active")){var l=d.previousSibling;if(l)l.classList.add("active"),d.classList.remove("active"),(c=l.getAttribute("data-path"))&&n._completeBlock(c)}return}if(h&&!h.isEdit)return void n._selectNode(h,"up")}if(40==s||"ArrowDown"==e.key){if(n.isEditNote)return;if(n.showFilter){var d;if(e.preventDefault(),d=n._linkboard.querySelector(".mm-file-name.active")){var c,u=d.nextSibling;if(u)u.classList.add("active"),d.classList.remove("active"),(c=u.getAttribute("data-path"))&&n._completeBlock(c)}return}if((h=n.selectNode)&&!h.isEdit)return void n._selectNode(h,"down")}if(39==s||"ArrowRight"==e.key){if(n.isEditNote)return;if((h=n.selectNode)&&!h.isEdit)return void n._selectNode(h,"right")}if(37==s||"ArrowLeft"==e.key){if(n.isEditNote)return;if((h=n.selectNode)&&!h.isEdit)return void n._selectNode(h,"left")}if("["==e.key&&(e.preventDefault(),n.selectNode)){if(n._doubleMark<1)n._doubleMark++;else{n._doubleMark=0;var p=(n.appEl.win||window).getSelection(),m=p.anchorNode;if(m.closest||(m=m.parentElement),!m.closest(".mm-node"))return;if(m.closest(".mm-node")&&m.closest(".mm-node")!=(n.selectNode.containEl||n.selectNode.iNode.containEl))return;p.getRangeAt(0).insertNode(n.doc.createTextNode("]]")),p.collapseToStart()}return}if(32!=s){if(n.isEditNote)return;if(17==s||13==s||"Controll"==e.key)return;if("Meta"==e.key)return;!(h=n.selectNode)||h.isEdit||this.useCustomShortcut||(e.preventDefault(),e.stopPropagation(),h.edit(),h.selectText(),n._menuDom.style.display="none",n._nodeBoard.style.display="none")}}if(r&&!o){if(191==s||"/"==e.key)(h=n.selectNode)&&!h.isEdit&&(h.isExpand?h.mindmap.execute("collapseNode",{node:h}):h.mindmap.execute("expandNode",{node:h}));if(69!=s&&"e"!=e.key||n.center(),"r"==e.key)(h=n.selectNode)&&n.execute("changeLayout",{node:h,direct:"right"});if("l"==e.key)(h=n.selectNode)&&n.execute("changeLayout",{node:h,direct:"left"});if("u"==e.key)(h=n.selectNode)&&n.execute("changeLayout",{node:h,direct:"up"});if("d"==e.key)(h=n.selectNode)&&n.execute("changeLayout",{node:h,direct:"down"});if("m"==e.key)(h=n.selectNode)&&n.execute("changeLayout",{node:h,direct:"mindmap"});if("j"==e.key)(h=n.selectNode)&&n.execute("changeLayout",{node:h,direct:"lTree"});if("k"==e.key)(h=n.selectNode)&&n.execute("changeLayout",{node:h,direct:"vertical"});if("q"==e.key)(h=n.selectNode)&&n.execute("changeLayout",{node:h,direct:"fishRight"});if("t"==e.key)(h=n.selectNode)&&n.execute("changeLayout",{node:h,direct:"fishLeft"})}if(n.selectNode&&n.selectNode.isEdit){h=n.selectNode;var f=n.selectNode.editDom||(null===(t=n.selectNode.iNode)||void 0===t?void 0:t.editDom),g=zi(f),v=f.textContent;h.shouldRender=!0;var y=!1;n._linkboard.style.display="none",n.showFilter=!1;for(var A,x=/\[\[(.+?)\]\]/g,b=0;A=x.exec(v);)if(A.index+2<=g&&A.index+A[1].length+2>=g){y=!0,b=A.index,h.shouldRender=!1,n.showFilter=!0,n._linkboard.style.display="block";break}if(y){n.selectionObj={num:g,index:b,text:A[1]},n._searchFiles(A[1]);var w=n.selectNode.getDomBox();n._linkboard.style.left=w.x+"px",n._linkboard.style.top=w.y+w.height+5+"px"}else n._searchFiles("")}}}}}appKeydown(e){var t;const i=this.app.workspace.getActiveViewOfType(Is);if(i){var n=i.mindmap;if(n){var s=e.keyCode||e.which||e.charCode,o=e.ctrlKey||e.metaKey,a=e.shiftKey;if(!n.useHoverEdit){if(o&&!a){if(86==s||"v"==e.key){if(n.isEditNote)return;navigator.clipboard.read().then((e=>{for(let t=0;t<e.length;t++)e[t].getType("text/html").then((e=>{e.text().then((e=>{n._pasteText(e)}))})).catch((()=>{e[t].getType("text/plain").then((e=>{e.text().then((e=>{n.selectNode.isEdit||n.build_with_indent(n.selectNode,e)}))}))}))}))}if(67==s||"c"==e.key)if((l=n.selectNode)&&!l.isEdit){var h=l.getData().text;h&&navigator.clipboard.writeText(h)}}if(!o&&!a){if(13==s||"Enter"==e.key){if(n.isEditNote)return;var l=n.selectNode;if(n.showFilter&&l){e.preventDefault(),e.stopPropagation();var d=n._linkboard.querySelector(".mm-file-name.active");if(d){if("md"==d.querySelector(".mm-file-ext").innerText)var c=d.getAttribute("data-name");else c=d.getAttribute("data-path");n._completeFile(l,c)}return}if(l&&l.isEdit&&!n.useCustomShortcut&&(e.preventDefault(),e.stopPropagation(),l.isExpand||l.expand(),(l.editDom||(null===(t=l.iNode)||void 0===t?void 0:t.editDom)).innerText!=r("Sub title")))return void l.cancelEdit();if(l&&!n.useCustomShortcut){if(e.preventDefault(),e.stopPropagation(),l.isExpand||l.expand(),!l.parent)return;var u=l.parent.children.indexOf(l);l.mindmap.execute("addSiblingNode",{parent:l.parent,index:u+1}),n._menuDom.style.display="none",n._nodeBoard.style.display="none"}}if(9!=s&&45!=s&&"Tab"!=e.key||(e.stopPropagation(),e.preventDefault()),32==s){if(n.isEditNote)return;!(l=n.selectNode)||l.isEdit||n.useCustomShortcut||(e.preventDefault(),e.stopPropagation(),l.edit(),n._menuDom.style.display="none",n._nodeBoard.style.display="none")}38!=s&&"ArrowUp"!=e.key||n.showFilter&&(e.preventDefault(),e.stopPropagation()),40!=s&&"ArrowDown"!=e.key||n.showFilter&&(e.preventDefault(),e.stopPropagation())}o&&!a&&(89!=s||n.useCustomShortcut||(e.preventDefault(),e.stopPropagation(),n.redo()),90!=s||n.useCustomShortcut||(e.preventDefault(),e.stopPropagation(),n.undo()))}}}}isAnnotationFile(e){return!!(e&&e.frontmatter&&e.frontmatter["annotate-target"])}isMindmap(e){if(e&&e.frontmatter){var t=e.frontmatter["mindmap-plugin"];return"rich"==t||"basic"==t}return!1}isMindmapRichMode(e){return!!(e&&e.frontmatter&&e.frontmatter["mindmap-plugin"]&&"rich"==e.frontmatter["mindmap-plugin"])}addMarkdownPostProcessor(){var i=this;this.registerMarkdownPostProcessor(((n,s)=>t(this,void 0,void 0,(function*(){for(let i of n.querySelectorAll(".internal-embed")){var t=i.getAttribute("src")||"";const h=e.parseLinktext(t);if(!h)return;const l=h.subpath.startsWith("#^")?h.subpath.substr(2):null,d=this.app.metadataCache.getFirstLinkpathDest(h.path,s.sourcePath);if(!d)return;var r=this.app.metadataCache.getFileCache(d);if(this.isMindmap(r))if(this.isMindmapRichMode(r))yield u(this,this.app,d,n,null,this.colors,this.settings,(e=>{if(e&&l){var t=e.getNodeById(l);t&&(e.clearSelectNode(),e.showNode(t))}}));else{var o=r&&r.frontmatter;if(o)var a=!!o["display-mode"]&&"table"==o["display-mode"];yield c(this,this.app,d,n,null,this.colors,this.settings,(e=>{if(e&&l){var t=e.getNodeById(l);t&&(e.clearSelectNode(),e.showNode(t))}}),0,a)}}for(let t of n.querySelectorAll("a.internal-link")){const n=t.getAttribute("href"),o=e.parseLinktext(n);if(!o)return;const a=o.subpath.startsWith("#^")?o.subpath.substr(2):null,h=this.app.metadataCache.getFirstLinkpathDest(o.path,s.sourcePath);if(!h)return;r=this.app.metadataCache.getFileCache(h);this.isMindmapRichMode(r)&&(t._file=h,t._metaCache=r,t.onClickEvent((function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();const n=i.app.workspace.getLeavesOfType(Ds);if(n.length){var s=null;if(n.forEach((e=>{e.view&&e.view.mindmap&&e.view.file.path==t._file.path&&(s=e.view)})),s){var r=s.mindmap.getNodeById(a);r&&s.mindmap.showNode(r)}else Object.assign(window,{"show-mindmap-node":a}),i.app.workspace.openLinkText(t._file.path,"","split")}else i.app.workspace.openLinkText(t._file.path,"","split")}))),(this.isAnnotationFile(r)||o.path.endsWith(".pdf")&&this.settings.registerPdfEvent)&&(t._file=h,t._metaCache=r,t.onClickEvent((function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();const n=i.app.workspace.getLeavesOfType(Ds);var s=i.isAnnotationFile(this._metaCache)?this._metaCache.frontmatter["annotate-target"]:this._file.path;if(n.length){var r=null;if(n.forEach((e=>{e.view&&e.view._haveOpenPdf&&(r=e.view)})),r)r.showAnnotate(a,s);else{if(s.startsWith("file://")||s.startsWith("http"))var o=s;else o=e.normalizePath(s);i.openPDfView(o,a)}}else{if(s.startsWith("file://")||s.startsWith("http"))o=s;else o=e.normalizePath(s);i.openPDfView(o,a)}})))}}))))}registerMonkeyAround(){const t=this;this.register(i(e.WorkspaceLeaf.prototype,{detach:e=>function(){var i;const n=null===(i=this.view)||void 0===i?void 0:i.getState();return(null==n?void 0:n.file)&&t.mindmapFileModes[this.id||n.file]&&delete t.mindmapFileModes[this.id||n.file],e.apply(this)},setViewState:e=>function(i,...n){var s;if(t._loaded&&"markdown"===i.type&&(null===(s=i.state)||void 0===s?void 0:s.file)&&"markdown"!==t.mindmapFileModes[this.id||i.state.file]){const s=t.app.metadataCache.getCache(i.state.file);if((null==s?void 0:s.frontmatter)&&(s.frontmatter[a]||s.frontmatter["annotate-target"]||s.frontmatter["translate-target"])){const s=Object.assign(Object.assign({},i),{type:Ds});return t.mindmapFileModes[i.state.file]=Ds,e.apply(this,[s,...n])}}return e.apply(this,[i,...n])}}))}}module.exports=nh;
